(self.webpackChunkweb_client=self.webpackChunkweb_client||[]).push([[179],{8370:(sn,ot,O)=>{"use strict";O.d(ot,{e:()=>Ge});var u=O(2573),ee=O(7680);class we extends ee.z0{constructor(){super(...arguments),this.allowedAlgorithms=["HS256","HS384","HS512","RS256","RS384","RS512","ES256","ES384","PS256","PS384","PS512"],this.gracePeriodInSec=600}validateSignature(Ie,ge=!1){if(!Ie.idToken)throw new Error("Parameter idToken expected!");if(!Ie.idTokenHeader)throw new Error("Parameter idTokenHandler expected.");if(!Ie.jwks)throw new Error("Parameter jwks expected!");if(!Ie.jwks.keys||!Array.isArray(Ie.jwks.keys)||0===Ie.jwks.keys.length)throw new Error("Array keys in jwks missing!");let Tt,xe=Ie.idTokenHeader.kid,We=Ie.jwks.keys,ue=Ie.idTokenHeader.alg;if(xe)Tt=We.find(St=>St.kid===xe);else{let St=this.alg2kty(ue),tn=We.filter(wt=>wt.kty===St&&"sig"===wt.use);if(tn.length>1){let wt="More than one matching key found. Please specify a kid in the id_token header.";return console.error(wt),Promise.reject(wt)}1===tn.length&&(Tt=tn[0])}if(!Tt&&!ge&&Ie.loadKeys)return Ie.loadKeys().then(St=>Ie.jwks=St).then(St=>this.validateSignature(Ie,!0));if(!Tt&&ge&&!xe){let St="No matching key found.";return console.error(St),Promise.reject(St)}if(!Tt&&ge&&xe){let St="expected key not found in property jwks. This property is most likely loaded with the discovery document. Expected key id (kid): "+xe;return console.error(St),Promise.reject(St)}let Ze=u.KZ.getKey(Tt);return u.fs.jws.JWS.verifyJWT(Ie.idToken,Ze,{alg:this.allowedAlgorithms,gracePeriod:this.gracePeriodInSec})?Promise.resolve():Promise.reject("Signature not valid")}alg2kty(Ie){switch(Ie.charAt(0)){case"R":return"RSA";case"E":return"EC";default:throw new Error("Cannot infer kty from alg: "+Ie)}}calcHash(Ie,ge){let We=new u.fs.crypto.MessageDigest({alg:ge}).digestString(Ie),Tt=this.toByteArrayAsString(We);return Promise.resolve(Tt)}toByteArrayAsString(Ie){let ge="";for(let xe=0;xe<Ie.length;xe+=2){let We=Ie.charAt(xe)+Ie.charAt(xe+1),Tt=parseInt(We,16);ge+=String.fromCharCode(Tt)}return ge}}const Ue={issuer:"https://app-auth-eastus-dev-001.azurewebsites.net",redirectUri:"http://localhost:4200",postLogoutRedirectUri:"http://localhost:4200",clientId:"WebClient",dummyClientSecret:"secret",scope:"openid profile email phone address WebApi",responseType:"code",showDebugInformation:!0};var ve=O(1571),Je=O(878);let Ge=(()=>{class Xe{constructor(ge,xe){this.oauthService=ge,this.router=xe,console.log("AuthService"),this.intiateLogin()}intiateLogin(){this.oauthService.configure(Ue),this.oauthService.tokenValidationHandler=new we,this.oauthService.setStorage(localStorage),this.oauthService.loadDiscoveryDocumentAndLogin().then(ge=>{ge?(setTimeout(()=>{this.router.navigate(["../pulse-surveys"])},300),this.oauthService.events.subscribe(xe=>{"token_refresh_error"===xe.type&&console.log("token_refresh_error")})):this.oauthService.initCodeFlow()})}logout(){this.oauthService.logOut()}getClaims(){const We=this.token().split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),Tt=JSON.parse(atob(We));return console.log(Tt),Tt}token(){return this.oauthService.getAccessToken()}isAuthenticated(){return this.oauthService.hasValidAccessToken()}}return Xe.\u0275fac=function(ge){return new(ge||Xe)(ve.LFG(ee.Ct),ve.LFG(Je.F0))},Xe.\u0275prov=ve.Yz7({token:Xe,factory:Xe.\u0275fac}),Xe})()},4805:(sn,ot,O)=>{"use strict";O.d(ot,{x:()=>ve});var u=O(6895),ee=O(878),we=O(9245),Ue=O(1571);let ve=(()=>{class Je{}return Je.\u0275fac=function(Xe){return new(Xe||Je)},Je.\u0275mod=Ue.oAB({type:Je}),Je.\u0275inj=Ue.cJS({imports:[u.ez,ee.Bz,we.mr]}),Je})()},2271:(sn,ot,O)=>{"use strict";var u=O(1481),ee=O(1571),we=O(7340);function ve(q){return new ee.vHH(3e3,!1)}function Bt(){return typeof window<"u"&&typeof window.document<"u"}function qt(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Bn(q){switch(q.length){case 0:return new we.ZN;case 1:return q[0];default:return new we.ZE(q)}}function mr(q,v,E,k,Q=new Map,ce=new Map){const Me=[],Ne=[];let lt=-1,It=null;if(k.forEach(ln=>{const en=ln.get("offset"),er=en==lt,An=er&&It||new Map;ln.forEach((Nn,$n)=>{let Cr=$n,Fr=Nn;if("offset"!==$n)switch(Cr=v.normalizePropertyName(Cr,Me),Fr){case we.k1:Fr=Q.get($n);break;case we.l3:Fr=ce.get($n);break;default:Fr=v.normalizeStyleValue($n,Cr,Fr,Me)}An.set(Cr,Fr)}),er||Ne.push(An),It=An,lt=en}),Me.length)throw function Jt(q){return new ee.vHH(3502,!1)}();return Ne}function Dr(q,v,E,k){switch(v){case"start":q.onStart(()=>k(E&&Jn(E,"start",q)));break;case"done":q.onDone(()=>k(E&&Jn(E,"done",q)));break;case"destroy":q.onDestroy(()=>k(E&&Jn(E,"destroy",q)))}}function Jn(q,v,E){const ce=ut(q.element,q.triggerName,q.fromState,q.toState,v||q.phaseName,E.totalTime??q.totalTime,!!E.disabled),Me=q._data;return null!=Me&&(ce._data=Me),ce}function ut(q,v,E,k,Q="",ce=0,Me){return{element:q,triggerName:v,fromState:E,toState:k,phaseName:Q,totalTime:ce,disabled:!!Me}}function dt(q,v,E){let k=q.get(v);return k||q.set(v,k=E),k}function Ve(q){const v=q.indexOf(":");return[q.substring(1,v),q.slice(v+1)]}let Lt=(q,v)=>!1,un=(q,v,E)=>[],yn=null;function On(q){const v=q.parentNode||q.host;return v===yn?null:v}(qt()||typeof Element<"u")&&(Bt()?(yn=(()=>document.documentElement)(),Lt=(q,v)=>{for(;v;){if(v===q)return!0;v=On(v)}return!1}):Lt=(q,v)=>q.contains(v),un=(q,v,E)=>{if(E)return Array.from(q.querySelectorAll(v));const k=q.querySelector(v);return k?[k]:[]});let st=null,gt=!1;const Kt=Lt,Dt=un;let wn=(()=>{class q{validateStyleProperty(E){return function Mt(q){st||(st=function Zt(){return typeof document<"u"?document.body:null}()||{},gt=!!st.style&&"WebkitAppearance"in st.style);let v=!0;return st.style&&!function oe(q){return"ebkit"==q.substring(1,6)}(q)&&(v=q in st.style,!v&&gt&&(v="Webkit"+q.charAt(0).toUpperCase()+q.slice(1)in st.style)),v}(E)}matchesElement(E,k){return!1}containsElement(E,k){return Kt(E,k)}getParentElement(E){return On(E)}query(E,k,Q){return Dt(E,k,Q)}computeStyle(E,k,Q){return Q||""}animate(E,k,Q,ce,Me,Ne=[],lt){return new we.ZN(Q,ce)}}return q.\u0275fac=function(E){return new(E||q)},q.\u0275prov=ee.Yz7({token:q,factory:q.\u0275fac}),q})(),kt=(()=>{class q{}return q.NOOP=new wn,q})();const Wn=1e3,Tr="ng-enter",Zn="ng-leave",jr="ng-trigger",zn=".ng-trigger",_i="ng-animating",ti=".ng-animating";function Kr(q){if("number"==typeof q)return q;const v=q.match(/^(-?[\.\d]+)(m?s)/);return!v||v.length<2?0:tr(parseFloat(v[1]),v[2])}function tr(q,v){return"s"===v?q*Wn:q}function yt(q,v,E){return q.hasOwnProperty("duration")?q:function Pe(q,v,E){let Q,ce=0,Me="";if("string"==typeof q){const Ne=q.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Ne)return v.push(ve()),{duration:0,delay:0,easing:""};Q=tr(parseFloat(Ne[1]),Ne[2]);const lt=Ne[3];null!=lt&&(ce=tr(parseFloat(lt),Ne[4]));const It=Ne[5];It&&(Me=It)}else Q=q;if(!E){let Ne=!1,lt=v.length;Q<0&&(v.push(function Je(){return new ee.vHH(3100,!1)}()),Ne=!0),ce<0&&(v.push(function Ge(){return new ee.vHH(3101,!1)}()),Ne=!0),Ne&&v.splice(lt,0,ve())}return{duration:Q,delay:ce,easing:Me}}(q,v,E)}function Fe(q,v={}){return Object.keys(q).forEach(E=>{v[E]=q[E]}),v}function Vt(q){const v=new Map;return Object.keys(q).forEach(E=>{v.set(E,q[E])}),v}function Hn(q,v=new Map,E){if(E)for(let[k,Q]of E)v.set(k,Q);for(let[k,Q]of q)v.set(k,Q);return v}function hr(q,v,E){return E?v+":"+E+";":""}function Un(q){let v="";for(let E=0;E<q.style.length;E++){const k=q.style.item(E);v+=hr(0,k,q.style.getPropertyValue(k))}for(const E in q.style)q.style.hasOwnProperty(E)&&!E.startsWith("_")&&(v+=hr(0,ze(E),q.style[E]));q.setAttribute("style",v)}function ar(q,v,E){q.style&&(v.forEach((k,Q)=>{const ce=ke(Q);E&&!E.has(Q)&&E.set(Q,q.style[ce]),q.style[ce]=k}),qt()&&Un(q))}function Wr(q,v){q.style&&(v.forEach((E,k)=>{const Q=ke(k);q.style[Q]=""}),qt()&&Un(q))}function tt(q){return Array.isArray(q)?1==q.length?q[0]:(0,we.vP)(q):q}const Y=new RegExp("{{\\s*(.+?)\\s*}}","g");function ae(q){let v=[];if("string"==typeof q){let E;for(;E=Y.exec(q);)v.push(E[1]);Y.lastIndex=0}return v}function R(q,v,E){const k=q.toString(),Q=k.replace(Y,(ce,Me)=>{let Ne=v[Me];return null==Ne&&(E.push(function Ie(q){return new ee.vHH(3003,!1)}()),Ne=""),Ne.toString()});return Q==k?q:Q}function te(q){const v=[];let E=q.next();for(;!E.done;)v.push(E.value),E=q.next();return v}const Ae=/-+([a-z0-9])/g;function ke(q){return q.replace(Ae,(...v)=>v[1].toUpperCase())}function ze(q){return q.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Qt(q,v,E){switch(v.type){case 7:return q.visitTrigger(v,E);case 0:return q.visitState(v,E);case 1:return q.visitTransition(v,E);case 2:return q.visitSequence(v,E);case 3:return q.visitGroup(v,E);case 4:return q.visitAnimate(v,E);case 5:return q.visitKeyframes(v,E);case 6:return q.visitStyle(v,E);case 8:return q.visitReference(v,E);case 9:return q.visitAnimateChild(v,E);case 10:return q.visitAnimateRef(v,E);case 11:return q.visitQuery(v,E);case 12:return q.visitStagger(v,E);default:throw function ge(q){return new ee.vHH(3004,!1)}()}}function cn(q,v){return window.getComputedStyle(q)[v]}const Qn="*";function _e(q,v){const E=[];return"string"==typeof q?q.split(/\s*,\s*/).forEach(k=>function Ee(q,v,E){if(":"==q[0]){const lt=function L(q,v){switch(q){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(E,k)=>parseFloat(k)>parseFloat(E);case":decrement":return(E,k)=>parseFloat(k)<parseFloat(E);default:return v.push(function $t(q){return new ee.vHH(3016,!1)}()),"* => *"}}(q,E);if("function"==typeof lt)return void v.push(lt);q=lt}const k=q.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==k||k.length<4)return E.push(function _t(q){return new ee.vHH(3015,!1)}()),v;const Q=k[1],ce=k[2],Me=k[3];v.push(Ct(Q,Me));"<"==ce[0]&&!(Q==Qn&&Me==Qn)&&v.push(Ct(Me,Q))}(k,E,v)):E.push(q),E}const he=new Set(["true","1"]),qe=new Set(["false","0"]);function Ct(q,v){const E=he.has(q)||qe.has(q),k=he.has(v)||qe.has(v);return(Q,ce)=>{let Me=q==Qn||q==Q,Ne=v==Qn||v==ce;return!Me&&E&&"boolean"==typeof Q&&(Me=Q?he.has(q):qe.has(q)),!Ne&&k&&"boolean"==typeof ce&&(Ne=ce?he.has(v):qe.has(v)),Me&&Ne}}const rr=new RegExp("s*:selfs*,?","g");function ur(q,v,E,k){return new Sn(q).build(v,E,k)}class Sn{constructor(v){this._driver=v}build(v,E,k){const Q=new br(E);return this._resetContextStyleTimingState(Q),Qt(this,tt(v),Q)}_resetContextStyleTimingState(v){v.currentQuerySelector="",v.collectedStyles=new Map,v.collectedStyles.set("",new Map),v.currentTime=0}visitTrigger(v,E){let k=E.queryCount=0,Q=E.depCount=0;const ce=[],Me=[];return"@"==v.name.charAt(0)&&E.errors.push(function We(){return new ee.vHH(3006,!1)}()),v.definitions.forEach(Ne=>{if(this._resetContextStyleTimingState(E),0==Ne.type){const lt=Ne,It=lt.name;It.toString().split(/\s*,\s*/).forEach(ln=>{lt.name=ln,ce.push(this.visitState(lt,E))}),lt.name=It}else if(1==Ne.type){const lt=this.visitTransition(Ne,E);k+=lt.queryCount,Q+=lt.depCount,Me.push(lt)}else E.errors.push(function Tt(){return new ee.vHH(3007,!1)}())}),{type:7,name:v.name,states:ce,transitions:Me,queryCount:k,depCount:Q,options:null}}visitState(v,E){const k=this.visitStyle(v.styles,E),Q=v.options&&v.options.params||null;if(k.containsDynamicStyles){const ce=new Set,Me=Q||{};k.styles.forEach(Ne=>{Ne instanceof Map&&Ne.forEach(lt=>{ae(lt).forEach(It=>{Me.hasOwnProperty(It)||ce.add(It)})})}),ce.size&&(te(ce.values()),E.errors.push(function ue(q,v){return new ee.vHH(3008,!1)}()))}return{type:0,name:v.name,style:k,options:Q?{params:Q}:null}}visitTransition(v,E){E.queryCount=0,E.depCount=0;const k=Qt(this,tt(v.animation),E);return{type:1,matchers:_e(v.expr,E.errors),animation:k,queryCount:E.queryCount,depCount:E.depCount,options:vr(v.options)}}visitSequence(v,E){return{type:2,steps:v.steps.map(k=>Qt(this,k,E)),options:vr(v.options)}}visitGroup(v,E){const k=E.currentTime;let Q=0;const ce=v.steps.map(Me=>{E.currentTime=k;const Ne=Qt(this,Me,E);return Q=Math.max(Q,E.currentTime),Ne});return E.currentTime=Q,{type:3,steps:ce,options:vr(v.options)}}visitAnimate(v,E){const k=function gi(q,v){if(q.hasOwnProperty("duration"))return q;if("number"==typeof q)return Ei(yt(q,v).duration,0,"");const E=q;if(E.split(/\s+/).some(ce=>"{"==ce.charAt(0)&&"{"==ce.charAt(1))){const ce=Ei(0,0,"");return ce.dynamic=!0,ce.strValue=E,ce}const Q=yt(E,v);return Ei(Q.duration,Q.delay,Q.easing)}(v.timings,E.errors);E.currentAnimateTimings=k;let Q,ce=v.styles?v.styles:(0,we.oB)({});if(5==ce.type)Q=this.visitKeyframes(ce,E);else{let Me=v.styles,Ne=!1;if(!Me){Ne=!0;const It={};k.easing&&(It.easing=k.easing),Me=(0,we.oB)(It)}E.currentTime+=k.duration+k.delay;const lt=this.visitStyle(Me,E);lt.isEmptyStep=Ne,Q=lt}return E.currentAnimateTimings=null,{type:4,timings:k,style:Q,options:null}}visitStyle(v,E){const k=this._makeStyleAst(v,E);return this._validateStyleAst(k,E),k}_makeStyleAst(v,E){const k=[],Q=Array.isArray(v.styles)?v.styles:[v.styles];for(let Ne of Q)"string"==typeof Ne?Ne===we.l3?k.push(Ne):E.errors.push(new ee.vHH(3002,!1)):k.push(Vt(Ne));let ce=!1,Me=null;return k.forEach(Ne=>{if(Ne instanceof Map&&(Ne.has("easing")&&(Me=Ne.get("easing"),Ne.delete("easing")),!ce))for(let lt of Ne.values())if(lt.toString().indexOf("{{")>=0){ce=!0;break}}),{type:6,styles:k,easing:Me,offset:v.offset,containsDynamicStyles:ce,options:null}}_validateStyleAst(v,E){const k=E.currentAnimateTimings;let Q=E.currentTime,ce=E.currentTime;k&&ce>0&&(ce-=k.duration+k.delay),v.styles.forEach(Me=>{"string"!=typeof Me&&Me.forEach((Ne,lt)=>{const It=E.collectedStyles.get(E.currentQuerySelector),ln=It.get(lt);let en=!0;ln&&(ce!=Q&&ce>=ln.startTime&&Q<=ln.endTime&&(E.errors.push(function Xt(q,v,E,k,Q){return new ee.vHH(3010,!1)}()),en=!1),ce=ln.startTime),en&&It.set(lt,{startTime:ce,endTime:Q}),E.options&&function Oe(q,v,E){const k=v.params||{},Q=ae(q);Q.length&&Q.forEach(ce=>{k.hasOwnProperty(ce)||E.push(function Xe(q){return new ee.vHH(3001,!1)}())})}(Ne,E.options,E.errors)})})}visitKeyframes(v,E){const k={type:5,styles:[],options:null};if(!E.currentAnimateTimings)return E.errors.push(function St(){return new ee.vHH(3011,!1)}()),k;let ce=0;const Me=[];let Ne=!1,lt=!1,It=0;const ln=v.steps.map(Fr=>{const C=this._makeStyleAst(Fr,E);let z=null!=C.offset?C.offset:function zr(q){if("string"==typeof q)return null;let v=null;if(Array.isArray(q))q.forEach(E=>{if(E instanceof Map&&E.has("offset")){const k=E;v=parseFloat(k.get("offset")),k.delete("offset")}});else if(q instanceof Map&&q.has("offset")){const E=q;v=parseFloat(E.get("offset")),E.delete("offset")}return v}(C.styles),M=0;return null!=z&&(ce++,M=C.offset=z),lt=lt||M<0||M>1,Ne=Ne||M<It,It=M,Me.push(M),C});lt&&E.errors.push(function tn(){return new ee.vHH(3012,!1)}()),Ne&&E.errors.push(function wt(){return new ee.vHH(3200,!1)}());const en=v.steps.length;let er=0;ce>0&&ce<en?E.errors.push(function be(){return new ee.vHH(3202,!1)}()):0==ce&&(er=1/(en-1));const An=en-1,Nn=E.currentTime,$n=E.currentAnimateTimings,Cr=$n.duration;return ln.forEach((Fr,C)=>{const z=er>0?C==An?1:er*C:Me[C],M=z*Cr;E.currentTime=Nn+$n.delay+M,$n.duration=M,this._validateStyleAst(Fr,E),Fr.offset=z,k.styles.push(Fr)}),k}visitReference(v,E){return{type:8,animation:Qt(this,tt(v.animation),E),options:vr(v.options)}}visitAnimateChild(v,E){return E.depCount++,{type:9,options:vr(v.options)}}visitAnimateRef(v,E){return{type:10,animation:this.visitReference(v.animation,E),options:vr(v.options)}}visitQuery(v,E){const k=E.currentQuerySelector,Q=v.options||{};E.queryCount++,E.currentQuery=v;const[ce,Me]=function Xn(q){const v=!!q.split(/\s*,\s*/).find(E=>":self"==E);return v&&(q=q.replace(rr,"")),q=q.replace(/@\*/g,zn).replace(/@\w+/g,E=>zn+"-"+E.slice(1)).replace(/:animating/g,ti),[q,v]}(v.selector);E.currentQuerySelector=k.length?k+" "+ce:ce,dt(E.collectedStyles,E.currentQuerySelector,new Map);const Ne=Qt(this,tt(v.animation),E);return E.currentQuery=null,E.currentQuerySelector=k,{type:11,selector:ce,limit:Q.limit||0,optional:!!Q.optional,includeSelf:Me,animation:Ne,originalSelector:v.selector,options:vr(v.options)}}visitStagger(v,E){E.currentQuery||E.errors.push(function De(){return new ee.vHH(3013,!1)}());const k="full"===v.timings?{duration:0,delay:0,easing:"full"}:yt(v.timings,E.errors,!0);return{type:12,animation:Qt(this,tt(v.animation),E),timings:k,options:null}}}class br{constructor(v){this.errors=v,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function vr(q){return q?(q=Fe(q)).params&&(q.params=function Sr(q){return q?Fe(q):null}(q.params)):q={},q}function Ei(q,v,E){return{duration:q,delay:v,easing:E}}function Bi(q,v,E,k,Q,ce,Me=null,Ne=!1){return{type:1,element:q,keyframes:v,preStyleProps:E,postStyleProps:k,duration:Q,delay:ce,totalTime:Q+ce,easing:Me,subTimeline:Ne}}class Ln{constructor(){this._map=new Map}get(v){return this._map.get(v)||[]}append(v,E){let k=this._map.get(v);k||this._map.set(v,k=[]),k.push(...E)}has(v){return this._map.has(v)}clear(){this._map.clear()}}const Xi=new RegExp(":enter","g"),pr=new RegExp(":leave","g");function us(q,v,E,k,Q,ce=new Map,Me=new Map,Ne,lt,It=[]){return(new Zr).buildKeyframes(q,v,E,k,Q,ce,Me,Ne,lt,It)}class Zr{buildKeyframes(v,E,k,Q,ce,Me,Ne,lt,It,ln=[]){It=It||new Ln;const en=new Pi(v,E,It,Q,ce,ln,[]);en.options=lt;const er=lt.delay?Kr(lt.delay):0;en.currentTimeline.delayNextStep(er),en.currentTimeline.setStyles([Me],null,en.errors,lt),Qt(this,k,en);const An=en.timelines.filter(Nn=>Nn.containsAnimation());if(An.length&&Ne.size){let Nn;for(let $n=An.length-1;$n>=0;$n--){const Cr=An[$n];if(Cr.element===E){Nn=Cr;break}}Nn&&!Nn.allowOnlyTimelineStyles()&&Nn.setStyles([Ne],null,en.errors,lt)}return An.length?An.map(Nn=>Nn.buildKeyframes()):[Bi(E,[],[],[],0,er,"",!1)]}visitTrigger(v,E){}visitState(v,E){}visitTransition(v,E){}visitAnimateChild(v,E){const k=E.subInstructions.get(E.element);if(k){const Q=E.createSubContext(v.options),ce=E.currentTimeline.currentTime,Me=this._visitSubInstructions(k,Q,Q.options);ce!=Me&&E.transformIntoNewTimeline(Me)}E.previousNode=v}visitAnimateRef(v,E){const k=E.createSubContext(v.options);k.transformIntoNewTimeline(),this._applyAnimationRefDelays([v.options,v.animation.options],E,k),this.visitReference(v.animation,k),E.transformIntoNewTimeline(k.currentTimeline.currentTime),E.previousNode=v}_applyAnimationRefDelays(v,E,k){for(const Q of v){const ce=Q?.delay;if(ce){const Me="number"==typeof ce?ce:Kr(R(ce,Q?.params??{},E.errors));k.delayNextStep(Me)}}}_visitSubInstructions(v,E,k){let ce=E.currentTimeline.currentTime;const Me=null!=k.duration?Kr(k.duration):null,Ne=null!=k.delay?Kr(k.delay):null;return 0!==Me&&v.forEach(lt=>{const It=E.appendInstructionToTimeline(lt,Me,Ne);ce=Math.max(ce,It.duration+It.delay)}),ce}visitReference(v,E){E.updateOptions(v.options,!0),Qt(this,v.animation,E),E.previousNode=v}visitSequence(v,E){const k=E.subContextCount;let Q=E;const ce=v.options;if(ce&&(ce.params||ce.delay)&&(Q=E.createSubContext(ce),Q.transformIntoNewTimeline(),null!=ce.delay)){6==Q.previousNode.type&&(Q.currentTimeline.snapshotCurrentStyles(),Q.previousNode=Or);const Me=Kr(ce.delay);Q.delayNextStep(Me)}v.steps.length&&(v.steps.forEach(Me=>Qt(this,Me,Q)),Q.currentTimeline.applyStylesToKeyframe(),Q.subContextCount>k&&Q.transformIntoNewTimeline()),E.previousNode=v}visitGroup(v,E){const k=[];let Q=E.currentTimeline.currentTime;const ce=v.options&&v.options.delay?Kr(v.options.delay):0;v.steps.forEach(Me=>{const Ne=E.createSubContext(v.options);ce&&Ne.delayNextStep(ce),Qt(this,Me,Ne),Q=Math.max(Q,Ne.currentTimeline.currentTime),k.push(Ne.currentTimeline)}),k.forEach(Me=>E.currentTimeline.mergeTimelineCollectedStyles(Me)),E.transformIntoNewTimeline(Q),E.previousNode=v}_visitTiming(v,E){if(v.dynamic){const k=v.strValue;return yt(E.params?R(k,E.params,E.errors):k,E.errors)}return{duration:v.duration,delay:v.delay,easing:v.easing}}visitAnimate(v,E){const k=E.currentAnimateTimings=this._visitTiming(v.timings,E),Q=E.currentTimeline;k.delay&&(E.incrementTime(k.delay),Q.snapshotCurrentStyles());const ce=v.style;5==ce.type?this.visitKeyframes(ce,E):(E.incrementTime(k.duration),this.visitStyle(ce,E),Q.applyStylesToKeyframe()),E.currentAnimateTimings=null,E.previousNode=v}visitStyle(v,E){const k=E.currentTimeline,Q=E.currentAnimateTimings;!Q&&k.hasCurrentStyleProperties()&&k.forwardFrame();const ce=Q&&Q.easing||v.easing;v.isEmptyStep?k.applyEmptyStep(ce):k.setStyles(v.styles,ce,E.errors,E.options),E.previousNode=v}visitKeyframes(v,E){const k=E.currentAnimateTimings,Q=E.currentTimeline.duration,ce=k.duration,Ne=E.createSubContext().currentTimeline;Ne.easing=k.easing,v.styles.forEach(lt=>{Ne.forwardTime((lt.offset||0)*ce),Ne.setStyles(lt.styles,lt.easing,E.errors,E.options),Ne.applyStylesToKeyframe()}),E.currentTimeline.mergeTimelineCollectedStyles(Ne),E.transformIntoNewTimeline(Q+ce),E.previousNode=v}visitQuery(v,E){const k=E.currentTimeline.currentTime,Q=v.options||{},ce=Q.delay?Kr(Q.delay):0;ce&&(6===E.previousNode.type||0==k&&E.currentTimeline.hasCurrentStyleProperties())&&(E.currentTimeline.snapshotCurrentStyles(),E.previousNode=Or);let Me=k;const Ne=E.invokeQuery(v.selector,v.originalSelector,v.limit,v.includeSelf,!!Q.optional,E.errors);E.currentQueryTotal=Ne.length;let lt=null;Ne.forEach((It,ln)=>{E.currentQueryIndex=ln;const en=E.createSubContext(v.options,It);ce&&en.delayNextStep(ce),It===E.element&&(lt=en.currentTimeline),Qt(this,v.animation,en),en.currentTimeline.applyStylesToKeyframe(),Me=Math.max(Me,en.currentTimeline.currentTime)}),E.currentQueryIndex=0,E.currentQueryTotal=0,E.transformIntoNewTimeline(Me),lt&&(E.currentTimeline.mergeTimelineCollectedStyles(lt),E.currentTimeline.snapshotCurrentStyles()),E.previousNode=v}visitStagger(v,E){const k=E.parentContext,Q=E.currentTimeline,ce=v.timings,Me=Math.abs(ce.duration),Ne=Me*(E.currentQueryTotal-1);let lt=Me*E.currentQueryIndex;switch(ce.duration<0?"reverse":ce.easing){case"reverse":lt=Ne-lt;break;case"full":lt=k.currentStaggerTime}const ln=E.currentTimeline;lt&&ln.delayNextStep(lt);const en=ln.currentTime;Qt(this,v.animation,E),E.previousNode=v,k.currentStaggerTime=Q.currentTime-en+(Q.startTime-k.currentTimeline.startTime)}}const Or={};class Pi{constructor(v,E,k,Q,ce,Me,Ne,lt){this._driver=v,this.element=E,this.subInstructions=k,this._enterClassName=Q,this._leaveClassName=ce,this.errors=Me,this.timelines=Ne,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Or,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=lt||new es(this._driver,E,0),Ne.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(v,E){if(!v)return;const k=v;let Q=this.options;null!=k.duration&&(Q.duration=Kr(k.duration)),null!=k.delay&&(Q.delay=Kr(k.delay));const ce=k.params;if(ce){let Me=Q.params;Me||(Me=this.options.params={}),Object.keys(ce).forEach(Ne=>{(!E||!Me.hasOwnProperty(Ne))&&(Me[Ne]=R(ce[Ne],Me,this.errors))})}}_copyOptions(){const v={};if(this.options){const E=this.options.params;if(E){const k=v.params={};Object.keys(E).forEach(Q=>{k[Q]=E[Q]})}}return v}createSubContext(v=null,E,k){const Q=E||this.element,ce=new Pi(this._driver,Q,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(Q,k||0));return ce.previousNode=this.previousNode,ce.currentAnimateTimings=this.currentAnimateTimings,ce.options=this._copyOptions(),ce.updateOptions(v),ce.currentQueryIndex=this.currentQueryIndex,ce.currentQueryTotal=this.currentQueryTotal,ce.parentContext=this,this.subContextCount++,ce}transformIntoNewTimeline(v){return this.previousNode=Or,this.currentTimeline=this.currentTimeline.fork(this.element,v),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(v,E,k){const Q={duration:E??v.duration,delay:this.currentTimeline.currentTime+(k??0)+v.delay,easing:""},ce=new Ar(this._driver,v.element,v.keyframes,v.preStyleProps,v.postStyleProps,Q,v.stretchStartingKeyframe);return this.timelines.push(ce),Q}incrementTime(v){this.currentTimeline.forwardTime(this.currentTimeline.duration+v)}delayNextStep(v){v>0&&this.currentTimeline.delayNextStep(v)}invokeQuery(v,E,k,Q,ce,Me){let Ne=[];if(Q&&Ne.push(this.element),v.length>0){v=(v=v.replace(Xi,"."+this._enterClassName)).replace(pr,"."+this._leaveClassName);let It=this._driver.query(this.element,v,1!=k);0!==k&&(It=k<0?It.slice(It.length+k,It.length):It.slice(0,k)),Ne.push(...It)}return!ce&&0==Ne.length&&Me.push(function et(q){return new ee.vHH(3014,!1)}()),Ne}}class es{constructor(v,E,k,Q){this._driver=v,this.element=E,this.startTime=k,this._elementTimelineStylesLookup=Q,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(E),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(E,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(v){const E=1===this._keyframes.size&&this._pendingStyles.size;this.duration||E?(this.forwardTime(this.currentTime+v),E&&this.snapshotCurrentStyles()):this.startTime+=v}fork(v,E){return this.applyStylesToKeyframe(),new es(this._driver,v,E||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(v){this.applyStylesToKeyframe(),this.duration=v,this._loadKeyframe()}_updateStyle(v,E){this._localTimelineStyles.set(v,E),this._globalTimelineStyles.set(v,E),this._styleSummary.set(v,{time:this.currentTime,value:E})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(v){v&&this._previousKeyframe.set("easing",v);for(let[E,k]of this._globalTimelineStyles)this._backFill.set(E,k||we.l3),this._currentKeyframe.set(E,we.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(v,E,k,Q){E&&this._previousKeyframe.set("easing",E);const ce=Q&&Q.params||{},Me=function gs(q,v){const E=new Map;let k;return q.forEach(Q=>{if("*"===Q){k=k||v.keys();for(let ce of k)E.set(ce,we.l3)}else Hn(Q,E)}),E}(v,this._globalTimelineStyles);for(let[Ne,lt]of Me){const It=R(lt,ce,k);this._pendingStyles.set(Ne,It),this._localTimelineStyles.has(Ne)||this._backFill.set(Ne,this._globalTimelineStyles.get(Ne)??we.l3),this._updateStyle(Ne,It)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((v,E)=>{this._currentKeyframe.set(E,v)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((v,E)=>{this._currentKeyframe.has(E)||this._currentKeyframe.set(E,v)}))}snapshotCurrentStyles(){for(let[v,E]of this._localTimelineStyles)this._pendingStyles.set(v,E),this._updateStyle(v,E)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const v=[];for(let E in this._currentKeyframe)v.push(E);return v}mergeTimelineCollectedStyles(v){v._styleSummary.forEach((E,k)=>{const Q=this._styleSummary.get(k);(!Q||E.time>Q.time)&&this._updateStyle(k,E.value)})}buildKeyframes(){this.applyStylesToKeyframe();const v=new Set,E=new Set,k=1===this._keyframes.size&&0===this.duration;let Q=[];this._keyframes.forEach((Ne,lt)=>{const It=Hn(Ne,new Map,this._backFill);It.forEach((ln,en)=>{ln===we.k1?v.add(en):ln===we.l3&&E.add(en)}),k||It.set("offset",lt/this.duration),Q.push(It)});const ce=v.size?te(v.values()):[],Me=E.size?te(E.values()):[];if(k){const Ne=Q[0],lt=new Map(Ne);Ne.set("offset",0),lt.set("offset",1),Q=[Ne,lt]}return Bi(this.element,Q,ce,Me,this.duration,this.startTime,this.easing,!1)}}class Ar extends es{constructor(v,E,k,Q,ce,Me,Ne=!1){super(v,E,Me.delay),this.keyframes=k,this.preStyleProps=Q,this.postStyleProps=ce,this._stretchStartingKeyframe=Ne,this.timings={duration:Me.duration,delay:Me.delay,easing:Me.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let v=this.keyframes,{delay:E,duration:k,easing:Q}=this.timings;if(this._stretchStartingKeyframe&&E){const ce=[],Me=k+E,Ne=E/Me,lt=Hn(v[0]);lt.set("offset",0),ce.push(lt);const It=Hn(v[0]);It.set("offset",ps(Ne)),ce.push(It);const ln=v.length-1;for(let en=1;en<=ln;en++){let er=Hn(v[en]);const An=er.get("offset");er.set("offset",ps((E+An*k)/Me)),ce.push(er)}k=Me,E=0,Q="",v=ce}return Bi(this.element,v,this.preStyleProps,this.postStyleProps,k,E,Q,!0)}}function ps(q,v=3){const E=Math.pow(10,v-1);return Math.round(q*E)/E}class Nr{}const wi=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Hr extends Nr{normalizePropertyName(v,E){return ke(v)}normalizeStyleValue(v,E,k,Q){let ce="";const Me=k.toString().trim();if(wi.has(E)&&0!==k&&"0"!==k)if("number"==typeof k)ce="px";else{const Ne=k.match(/^[+-]?[\d\.]+([a-z]*)$/);Ne&&0==Ne[1].length&&Q.push(function xe(q,v){return new ee.vHH(3005,!1)}())}return Me+ce}}function Ds(q,v,E,k,Q,ce,Me,Ne,lt,It,ln,en,er){return{type:0,element:q,triggerName:v,isRemovalTransition:Q,fromState:E,fromStyles:ce,toState:k,toStyles:Me,timelines:Ne,queriedElements:lt,preStyleProps:It,postStyleProps:ln,totalTime:en,errors:er}}const Gr={};class mn{constructor(v,E,k){this._triggerName=v,this.ast=E,this._stateStyles=k}match(v,E,k,Q){return function Vi(q,v,E,k,Q){return q.some(ce=>ce(v,E,k,Q))}(this.ast.matchers,v,E,k,Q)}buildStyles(v,E,k){let Q=this._stateStyles.get("*");return void 0!==v&&(Q=this._stateStyles.get(v?.toString())||Q),Q?Q.buildStyles(E,k):new Map}build(v,E,k,Q,ce,Me,Ne,lt,It,ln){const en=[],er=this.ast.options&&this.ast.options.params||Gr,Nn=this.buildStyles(k,Ne&&Ne.params||Gr,en),$n=lt&&lt.params||Gr,Cr=this.buildStyles(Q,$n,en),Fr=new Set,C=new Map,z=new Map,M="void"===Q,re={params:vs($n,er),delay:this.ast.options?.delay},ne=ln?[]:us(v,E,this.ast.animation,ce,Me,Nn,Cr,re,It,en);let $e=0;if(ne.forEach(gn=>{$e=Math.max(gn.duration+gn.delay,$e)}),en.length)return Ds(E,this._triggerName,k,Q,M,Nn,Cr,[],[],C,z,$e,en);ne.forEach(gn=>{const qn=gn.element,sr=dt(C,qn,new Set);gn.preStyleProps.forEach(nr=>sr.add(nr));const gr=dt(z,qn,new Set);gn.postStyleProps.forEach(nr=>gr.add(nr)),qn!==E&&Fr.add(qn)});const Ft=te(Fr.values());return Ds(E,this._triggerName,k,Q,M,Nn,Cr,ne,Ft,C,z,$e)}}function vs(q,v){const E=Fe(v);for(const k in q)q.hasOwnProperty(k)&&null!=q[k]&&(E[k]=q[k]);return E}class ri{constructor(v,E,k){this.styles=v,this.defaultParams=E,this.normalizer=k}buildStyles(v,E){const k=new Map,Q=Fe(this.defaultParams);return Object.keys(v).forEach(ce=>{const Me=v[ce];null!==Me&&(Q[ce]=Me)}),this.styles.styles.forEach(ce=>{"string"!=typeof ce&&ce.forEach((Me,Ne)=>{Me&&(Me=R(Me,Q,E));const lt=this.normalizer.normalizePropertyName(Ne,E);Me=this.normalizer.normalizeStyleValue(Ne,lt,Me,E),k.set(Ne,Me)})}),k}}class qi{constructor(v,E,k){this.name=v,this.ast=E,this._normalizer=k,this.transitionFactories=[],this.states=new Map,E.states.forEach(Q=>{this.states.set(Q.name,new ri(Q.style,Q.options&&Q.options.params||{},k))}),ji(this.states,"true","1"),ji(this.states,"false","0"),E.transitions.forEach(Q=>{this.transitionFactories.push(new mn(v,Q,this.states))}),this.fallbackTransition=function js(q,v,E){return new mn(q,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Me,Ne)=>!0],options:null,queryCount:0,depCount:0},v)}(v,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(v,E,k,Q){return this.transitionFactories.find(Me=>Me.match(v,E,k,Q))||null}matchStyles(v,E,k){return this.fallbackTransition.buildStyles(v,E,k)}}function ji(q,v,E){q.has(v)?q.has(E)||q.set(E,q.get(v)):q.has(E)&&q.set(v,q.get(E))}const Us=new Ln;class ls{constructor(v,E,k){this.bodyNode=v,this._driver=E,this._normalizer=k,this._animations=new Map,this._playersById=new Map,this.players=[]}register(v,E){const k=[],Q=[],ce=ur(this._driver,E,k,Q);if(k.length)throw function Pn(q){return new ee.vHH(3503,!1)}();this._animations.set(v,ce)}_buildPlayer(v,E,k){const Q=v.element,ce=mr(0,this._normalizer,0,v.keyframes,E,k);return this._driver.animate(Q,ce,v.duration,v.delay,v.easing,[],!0)}create(v,E,k={}){const Q=[],ce=this._animations.get(v);let Me;const Ne=new Map;if(ce?(Me=us(this._driver,E,ce,Tr,Zn,new Map,new Map,k,Us,Q),Me.forEach(ln=>{const en=dt(Ne,ln.element,new Map);ln.postStyleProps.forEach(er=>en.set(er,null))})):(Q.push(function dn(){return new ee.vHH(3300,!1)}()),Me=[]),Q.length)throw function ht(q){return new ee.vHH(3504,!1)}();Ne.forEach((ln,en)=>{ln.forEach((er,An)=>{ln.set(An,this._driver.computeStyle(en,An,we.l3))})});const It=Bn(Me.map(ln=>{const en=Ne.get(ln.element);return this._buildPlayer(ln,new Map,en)}));return this._playersById.set(v,It),It.onDestroy(()=>this.destroy(v)),this.players.push(It),It}destroy(v){const E=this._getPlayer(v);E.destroy(),this._playersById.delete(v);const k=this.players.indexOf(E);k>=0&&this.players.splice(k,1)}_getPlayer(v){const E=this._playersById.get(v);if(!E)throw function pt(q){return new ee.vHH(3301,!1)}();return E}listen(v,E,k,Q){const ce=ut(E,"","","");return Dr(this._getPlayer(v),k,ce,Q),()=>{}}command(v,E,k,Q){if("register"==k)return void this.register(v,Q[0]);if("create"==k)return void this.create(v,E,Q[0]||{});const ce=this._getPlayer(v);switch(k){case"play":ce.play();break;case"pause":ce.pause();break;case"reset":ce.reset();break;case"restart":ce.restart();break;case"finish":ce.finish();break;case"init":ce.init();break;case"setPosition":ce.setPosition(parseFloat(Q[0]));break;case"destroy":this.destroy(v)}}}const Ui="ng-animate-queued",Cs="ng-animate-disabled",xs=[],$s={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},no={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ii="__ng_removed";class ts{get params(){return this.options.params}constructor(v,E=""){this.namespaceId=E;const k=v&&v.hasOwnProperty("value");if(this.value=function Ys(q){return q??null}(k?v.value:v),k){const ce=Fe(v);delete ce.value,this.options=ce}else this.options={};this.options.params||(this.options.params={})}absorbOptions(v){const E=v.params;if(E){const k=this.options.params;Object.keys(E).forEach(Q=>{null==k[Q]&&(k[Q]=E[Q])})}}}const ns="void",lr=new ts(ns);class ro{constructor(v,E,k){this.id=v,this.hostElement=E,this._engine=k,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+v,si(E,this._hostClassName)}listen(v,E,k,Q){if(!this._triggers.has(E))throw function xt(q,v){return new ee.vHH(3302,!1)}();if(null==k||0==k.length)throw function rt(q){return new ee.vHH(3303,!1)}();if(!function _o(q){return"start"==q||"done"==q}(k))throw function Ke(q,v){return new ee.vHH(3400,!1)}();const ce=dt(this._elementListeners,v,[]),Me={name:E,phase:k,callback:Q};ce.push(Me);const Ne=dt(this._engine.statesByElement,v,new Map);return Ne.has(E)||(si(v,jr),si(v,jr+"-"+E),Ne.set(E,lr)),()=>{this._engine.afterFlush(()=>{const lt=ce.indexOf(Me);lt>=0&&ce.splice(lt,1),this._triggers.has(E)||Ne.delete(E)})}}register(v,E){return!this._triggers.has(v)&&(this._triggers.set(v,E),!0)}_getTrigger(v){const E=this._triggers.get(v);if(!E)throw function Be(q){return new ee.vHH(3401,!1)}();return E}trigger(v,E,k,Q=!0){const ce=this._getTrigger(E),Me=new Si(this.id,E,v);let Ne=this._engine.statesByElement.get(v);Ne||(si(v,jr),si(v,jr+"-"+E),this._engine.statesByElement.set(v,Ne=new Map));let lt=Ne.get(E);const It=new ts(k,this.id);if(!(k&&k.hasOwnProperty("value"))&&lt&&It.absorbOptions(lt.options),Ne.set(E,It),lt||(lt=lr),It.value!==ns&&lt.value===It.value){if(!function Is(q,v){const E=Object.keys(q),k=Object.keys(v);if(E.length!=k.length)return!1;for(let Q=0;Q<E.length;Q++){const ce=E[Q];if(!v.hasOwnProperty(ce)||q[ce]!==v[ce])return!1}return!0}(lt.params,It.params)){const $n=[],Cr=ce.matchStyles(lt.value,lt.params,$n),Fr=ce.matchStyles(It.value,It.params,$n);$n.length?this._engine.reportError($n):this._engine.afterFlush(()=>{Wr(v,Cr),ar(v,Fr)})}return}const er=dt(this._engine.playersByElement,v,[]);er.forEach($n=>{$n.namespaceId==this.id&&$n.triggerName==E&&$n.queued&&$n.destroy()});let An=ce.matchTransition(lt.value,It.value,v,It.params),Nn=!1;if(!An){if(!Q)return;An=ce.fallbackTransition,Nn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:E,transition:An,fromState:lt,toState:It,player:Me,isFallbackTransition:Nn}),Nn||(si(v,Ui),Me.onStart(()=>{Ai(v,Ui)})),Me.onDone(()=>{let $n=this.players.indexOf(Me);$n>=0&&this.players.splice($n,1);const Cr=this._engine.playersByElement.get(v);if(Cr){let Fr=Cr.indexOf(Me);Fr>=0&&Cr.splice(Fr,1)}}),this.players.push(Me),er.push(Me),Me}deregister(v){this._triggers.delete(v),this._engine.statesByElement.forEach(E=>E.delete(v)),this._elementListeners.forEach((E,k)=>{this._elementListeners.set(k,E.filter(Q=>Q.name!=v))})}clearElementCache(v){this._engine.statesByElement.delete(v),this._elementListeners.delete(v);const E=this._engine.playersByElement.get(v);E&&(E.forEach(k=>k.destroy()),this._engine.playersByElement.delete(v))}_signalRemovalForInnerTriggers(v,E){const k=this._engine.driver.query(v,zn,!0);k.forEach(Q=>{if(Q[ii])return;const ce=this._engine.fetchNamespacesByElement(Q);ce.size?ce.forEach(Me=>Me.triggerLeaveAnimation(Q,E,!1,!0)):this.clearElementCache(Q)}),this._engine.afterFlushAnimationsDone(()=>k.forEach(Q=>this.clearElementCache(Q)))}triggerLeaveAnimation(v,E,k,Q){const ce=this._engine.statesByElement.get(v),Me=new Map;if(ce){const Ne=[];if(ce.forEach((lt,It)=>{if(Me.set(It,lt.value),this._triggers.has(It)){const ln=this.trigger(v,It,ns,Q);ln&&Ne.push(ln)}}),Ne.length)return this._engine.markElementAsRemoved(this.id,v,!0,E,Me),k&&Bn(Ne).onDone(()=>this._engine.processLeaveNode(v)),!0}return!1}prepareLeaveAnimationListeners(v){const E=this._elementListeners.get(v),k=this._engine.statesByElement.get(v);if(E&&k){const Q=new Set;E.forEach(ce=>{const Me=ce.name;if(Q.has(Me))return;Q.add(Me);const lt=this._triggers.get(Me).fallbackTransition,It=k.get(Me)||lr,ln=new ts(ns),en=new Si(this.id,Me,v);this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:Me,transition:lt,fromState:It,toState:ln,player:en,isFallbackTransition:!0})})}}removeNode(v,E){const k=this._engine;if(v.childElementCount&&this._signalRemovalForInnerTriggers(v,E),this.triggerLeaveAnimation(v,E,!0))return;let Q=!1;if(k.totalAnimations){const ce=k.players.length?k.playersByQueriedElement.get(v):[];if(ce&&ce.length)Q=!0;else{let Me=v;for(;Me=Me.parentNode;)if(k.statesByElement.get(Me)){Q=!0;break}}}if(this.prepareLeaveAnimationListeners(v),Q)k.markElementAsRemoved(this.id,v,!1,E);else{const ce=v[ii];(!ce||ce===$s)&&(k.afterFlush(()=>this.clearElementCache(v)),k.destroyInnerAnimations(v),k._onRemovalComplete(v,E))}}insertNode(v,E){si(v,this._hostClassName)}drainQueuedTransitions(v){const E=[];return this._queue.forEach(k=>{const Q=k.player;if(Q.destroyed)return;const ce=k.element,Me=this._elementListeners.get(ce);Me&&Me.forEach(Ne=>{if(Ne.name==k.triggerName){const lt=ut(ce,k.triggerName,k.fromState.value,k.toState.value);lt._data=v,Dr(k.player,Ne.phase,lt,Ne.callback)}}),Q.markedForDestroy?this._engine.afterFlush(()=>{Q.destroy()}):E.push(k)}),this._queue=[],E.sort((k,Q)=>{const ce=k.transition.ast.depCount,Me=Q.transition.ast.depCount;return 0==ce||0==Me?ce-Me:this._engine.driver.containsElement(k.element,Q.element)?1:-1})}destroy(v){this.players.forEach(E=>E.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,v)}elementContainsData(v){let E=!1;return this._elementListeners.has(v)&&(E=!0),E=!!this._queue.find(k=>k.element===v)||E,E}}class Ts{_onRemovalComplete(v,E){this.onRemovalComplete(v,E)}constructor(v,E,k){this.bodyNode=v,this.driver=E,this._normalizer=k,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(Q,ce)=>{}}get queuedPlayers(){const v=[];return this._namespaceList.forEach(E=>{E.players.forEach(k=>{k.queued&&v.push(k)})}),v}createNamespace(v,E){const k=new ro(v,E,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,E)?this._balanceNamespaceList(k,E):(this.newHostElements.set(E,k),this.collectEnterElement(E)),this._namespaceLookup[v]=k}_balanceNamespaceList(v,E){const k=this._namespaceList,Q=this.namespacesByHostElement;if(k.length-1>=0){let Me=!1,Ne=this.driver.getParentElement(E);for(;Ne;){const lt=Q.get(Ne);if(lt){const It=k.indexOf(lt);k.splice(It+1,0,v),Me=!0;break}Ne=this.driver.getParentElement(Ne)}Me||k.unshift(v)}else k.push(v);return Q.set(E,v),v}register(v,E){let k=this._namespaceLookup[v];return k||(k=this.createNamespace(v,E)),k}registerTrigger(v,E,k){let Q=this._namespaceLookup[v];Q&&Q.register(E,k)&&this.totalAnimations++}destroy(v,E){if(!v)return;const k=this._fetchNamespace(v);this.afterFlush(()=>{this.namespacesByHostElement.delete(k.hostElement),delete this._namespaceLookup[v];const Q=this._namespaceList.indexOf(k);Q>=0&&this._namespaceList.splice(Q,1)}),this.afterFlushAnimationsDone(()=>k.destroy(E))}_fetchNamespace(v){return this._namespaceLookup[v]}fetchNamespacesByElement(v){const E=new Set,k=this.statesByElement.get(v);if(k)for(let Q of k.values())if(Q.namespaceId){const ce=this._fetchNamespace(Q.namespaceId);ce&&E.add(ce)}return E}trigger(v,E,k,Q){if(cs(E)){const ce=this._fetchNamespace(v);if(ce)return ce.trigger(E,k,Q),!0}return!1}insertNode(v,E,k,Q){if(!cs(E))return;const ce=E[ii];if(ce&&ce.setForRemoval){ce.setForRemoval=!1,ce.setForMove=!0;const Me=this.collectedLeaveElements.indexOf(E);Me>=0&&this.collectedLeaveElements.splice(Me,1)}if(v){const Me=this._fetchNamespace(v);Me&&Me.insertNode(E,k)}Q&&this.collectEnterElement(E)}collectEnterElement(v){this.collectedEnterElements.push(v)}markElementAsDisabled(v,E){E?this.disabledNodes.has(v)||(this.disabledNodes.add(v),si(v,Cs)):this.disabledNodes.has(v)&&(this.disabledNodes.delete(v),Ai(v,Cs))}removeNode(v,E,k,Q){if(cs(E)){const ce=v?this._fetchNamespace(v):null;if(ce?ce.removeNode(E,Q):this.markElementAsRemoved(v,E,!1,Q),k){const Me=this.namespacesByHostElement.get(E);Me&&Me.id!==v&&Me.removeNode(E,Q)}}else this._onRemovalComplete(E,Q)}markElementAsRemoved(v,E,k,Q,ce){this.collectedLeaveElements.push(E),E[ii]={namespaceId:v,setForRemoval:Q,hasAnimation:k,removedBeforeQueried:!1,previousTriggersValues:ce}}listen(v,E,k,Q,ce){return cs(E)?this._fetchNamespace(v).listen(E,k,Q,ce):()=>{}}_buildInstruction(v,E,k,Q,ce){return v.transition.build(this.driver,v.element,v.fromState.value,v.toState.value,k,Q,v.fromState.options,v.toState.options,E,ce)}destroyInnerAnimations(v){let E=this.driver.query(v,zn,!0);E.forEach(k=>this.destroyActiveAnimationsForElement(k)),0!=this.playersByQueriedElement.size&&(E=this.driver.query(v,ti,!0),E.forEach(k=>this.finishActiveQueriedAnimationOnElement(k)))}destroyActiveAnimationsForElement(v){const E=this.playersByElement.get(v);E&&E.forEach(k=>{k.queued?k.markedForDestroy=!0:k.destroy()})}finishActiveQueriedAnimationOnElement(v){const E=this.playersByQueriedElement.get(v);E&&E.forEach(k=>k.finish())}whenRenderingDone(){return new Promise(v=>{if(this.players.length)return Bn(this.players).onDone(()=>v());v()})}processLeaveNode(v){const E=v[ii];if(E&&E.setForRemoval){if(v[ii]=$s,E.namespaceId){this.destroyInnerAnimations(v);const k=this._fetchNamespace(E.namespaceId);k&&k.clearElementCache(v)}this._onRemovalComplete(v,E.setForRemoval)}v.classList?.contains(Cs)&&this.markElementAsDisabled(v,!1),this.driver.query(v,".ng-animate-disabled",!0).forEach(k=>{this.markElementAsDisabled(k,!1)})}flush(v=-1){let E=[];if(this.newHostElements.size&&(this.newHostElements.forEach((k,Q)=>this._balanceNamespaceList(k,Q)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let k=0;k<this.collectedEnterElements.length;k++)si(this.collectedEnterElements[k],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const k=[];try{E=this._flushAnimations(k,v)}finally{for(let Q=0;Q<k.length;Q++)k[Q]()}}else for(let k=0;k<this.collectedLeaveElements.length;k++)this.processLeaveNode(this.collectedLeaveElements[k]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(k=>k()),this._flushFns=[],this._whenQuietFns.length){const k=this._whenQuietFns;this._whenQuietFns=[],E.length?Bn(E).onDone(()=>{k.forEach(Q=>Q())}):k.forEach(Q=>Q())}}reportError(v){throw function vt(q){return new ee.vHH(3402,!1)}()}_flushAnimations(v,E){const k=new Ln,Q=[],ce=new Map,Me=[],Ne=new Map,lt=new Map,It=new Map,ln=new Set;this.disabledNodes.forEach(on=>{ln.add(on);const r=this.driver.query(on,".ng-animate-queued",!0);for(let s=0;s<r.length;s++)ln.add(r[s])});const en=this.bodyNode,er=Array.from(this.statesByElement.keys()),An=Ci(er,this.collectedEnterElements),Nn=new Map;let $n=0;An.forEach((on,r)=>{const s=Tr+$n++;Nn.set(r,s),on.forEach(o=>si(o,s))});const Cr=[],Fr=new Set,C=new Set;for(let on=0;on<this.collectedLeaveElements.length;on++){const r=this.collectedLeaveElements[on],s=r[ii];s&&s.setForRemoval&&(Cr.push(r),Fr.add(r),s.hasAnimation?this.driver.query(r,".ng-star-inserted",!0).forEach(o=>Fr.add(o)):C.add(r))}const z=new Map,M=Ci(er,Array.from(Fr));M.forEach((on,r)=>{const s=Zn+$n++;z.set(r,s),on.forEach(o=>si(o,s))}),v.push(()=>{An.forEach((on,r)=>{const s=Nn.get(r);on.forEach(o=>Ai(o,s))}),M.forEach((on,r)=>{const s=z.get(r);on.forEach(o=>Ai(o,s))}),Cr.forEach(on=>{this.processLeaveNode(on)})});const re=[],ne=[];for(let on=this._namespaceList.length-1;on>=0;on--)this._namespaceList[on].drainQueuedTransitions(E).forEach(s=>{const o=s.player,l=s.element;if(re.push(o),this.collectedEnterElements.length){const U=l[ii];if(U&&U.setForMove){if(U.previousTriggersValues&&U.previousTriggersValues.has(s.triggerName)){const $=U.previousTriggersValues.get(s.triggerName),b=this.statesByElement.get(s.element);if(b&&b.has(s.triggerName)){const S=b.get(s.triggerName);S.value=$,b.set(s.triggerName,S)}}return void o.destroy()}}const f=!en||!this.driver.containsElement(en,l),p=z.get(l),m=Nn.get(l),_=this._buildInstruction(s,k,m,p,f);if(_.errors&&_.errors.length)return void ne.push(_);if(f)return o.onStart(()=>Wr(l,_.fromStyles)),o.onDestroy(()=>ar(l,_.toStyles)),void Q.push(o);if(s.isFallbackTransition)return o.onStart(()=>Wr(l,_.fromStyles)),o.onDestroy(()=>ar(l,_.toStyles)),void Q.push(o);const x=[];_.timelines.forEach(U=>{U.stretchStartingKeyframe=!0,this.disabledNodes.has(U.element)||x.push(U)}),_.timelines=x,k.append(l,_.timelines),Me.push({instruction:_,player:o,element:l}),_.queriedElements.forEach(U=>dt(Ne,U,[]).push(o)),_.preStyleProps.forEach((U,$)=>{if(U.size){let b=lt.get($);b||lt.set($,b=new Set),U.forEach((S,V)=>b.add(V))}}),_.postStyleProps.forEach((U,$)=>{let b=It.get($);b||It.set($,b=new Set),U.forEach((S,V)=>b.add(V))})});if(ne.length){const on=[];ne.forEach(r=>{on.push(function Fn(q,v){return new ee.vHH(3505,!1)}())}),re.forEach(r=>r.destroy()),this.reportError(on)}const $e=new Map,Ft=new Map;Me.forEach(on=>{const r=on.element;k.has(r)&&(Ft.set(r,r),this._beforeAnimationBuild(on.player.namespaceId,on.instruction,$e))}),Q.forEach(on=>{const r=on.element;this._getPreviousPlayers(r,!1,on.namespaceId,on.triggerName,null).forEach(o=>{dt($e,r,[]).push(o),o.destroy()})});const gn=Cr.filter(on=>qr(on,lt,It)),qn=new Map;Ks(qn,this.driver,C,It,we.l3).forEach(on=>{qr(on,lt,It)&&gn.push(on)});const gr=new Map;An.forEach((on,r)=>{Ks(gr,this.driver,new Set(on),lt,we.k1)}),gn.forEach(on=>{const r=qn.get(on),s=gr.get(on);qn.set(on,new Map([...Array.from(r?.entries()??[]),...Array.from(s?.entries()??[])]))});const nr=[],xr=[],rn={};Me.forEach(on=>{const{element:r,player:s,instruction:o}=on;if(k.has(r)){if(ln.has(r))return s.onDestroy(()=>ar(r,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void Q.push(s);let l=rn;if(Ft.size>1){let p=r;const m=[];for(;p=p.parentNode;){const _=Ft.get(p);if(_){l=_;break}m.push(p)}m.forEach(_=>Ft.set(_,l))}const f=this._buildAnimation(s.namespaceId,o,$e,ce,gr,qn);if(s.setRealPlayer(f),l===rn)nr.push(s);else{const p=this.playersByElement.get(l);p&&p.length&&(s.parentPlayer=Bn(p)),Q.push(s)}}else Wr(r,o.fromStyles),s.onDestroy(()=>ar(r,o.toStyles)),xr.push(s),ln.has(r)&&Q.push(s)}),xr.forEach(on=>{const r=ce.get(on.element);if(r&&r.length){const s=Bn(r);on.setRealPlayer(s)}}),Q.forEach(on=>{on.parentPlayer?on.syncPlayerEvents(on.parentPlayer):on.destroy()});for(let on=0;on<Cr.length;on++){const r=Cr[on],s=r[ii];if(Ai(r,Zn),s&&s.hasAnimation)continue;let o=[];if(Ne.size){let f=Ne.get(r);f&&f.length&&o.push(...f);let p=this.driver.query(r,ti,!0);for(let m=0;m<p.length;m++){let _=Ne.get(p[m]);_&&_.length&&o.push(..._)}}const l=o.filter(f=>!f.destroyed);l.length?oi(this,r,l):this.processLeaveNode(r)}return Cr.length=0,nr.forEach(on=>{this.players.push(on),on.onDone(()=>{on.destroy();const r=this.players.indexOf(on);this.players.splice(r,1)}),on.play()}),nr}elementContainsData(v,E){let k=!1;const Q=E[ii];return Q&&Q.setForRemoval&&(k=!0),this.playersByElement.has(E)&&(k=!0),this.playersByQueriedElement.has(E)&&(k=!0),this.statesByElement.has(E)&&(k=!0),this._fetchNamespace(v).elementContainsData(E)||k}afterFlush(v){this._flushFns.push(v)}afterFlushAnimationsDone(v){this._whenQuietFns.push(v)}_getPreviousPlayers(v,E,k,Q,ce){let Me=[];if(E){const Ne=this.playersByQueriedElement.get(v);Ne&&(Me=Ne)}else{const Ne=this.playersByElement.get(v);if(Ne){const lt=!ce||ce==ns;Ne.forEach(It=>{It.queued||!lt&&It.triggerName!=Q||Me.push(It)})}}return(k||Q)&&(Me=Me.filter(Ne=>!(k&&k!=Ne.namespaceId||Q&&Q!=Ne.triggerName))),Me}_beforeAnimationBuild(v,E,k){const ce=E.element,Me=E.isRemovalTransition?void 0:v,Ne=E.isRemovalTransition?void 0:E.triggerName;for(const lt of E.timelines){const It=lt.element,ln=It!==ce,en=dt(k,It,[]);this._getPreviousPlayers(It,ln,Me,Ne,E.toState).forEach(An=>{const Nn=An.getRealPlayer();Nn.beforeDestroy&&Nn.beforeDestroy(),An.destroy(),en.push(An)})}Wr(ce,E.fromStyles)}_buildAnimation(v,E,k,Q,ce,Me){const Ne=E.triggerName,lt=E.element,It=[],ln=new Set,en=new Set,er=E.timelines.map(Nn=>{const $n=Nn.element;ln.add($n);const Cr=$n[ii];if(Cr&&Cr.removedBeforeQueried)return new we.ZN(Nn.duration,Nn.delay);const Fr=$n!==lt,C=function di(q){const v=[];return Ti(q,v),v}((k.get($n)||xs).map($e=>$e.getRealPlayer())).filter($e=>!!$e.element&&$e.element===$n),z=ce.get($n),M=Me.get($n),re=mr(0,this._normalizer,0,Nn.keyframes,z,M),ne=this._buildPlayer(Nn,re,C);if(Nn.subTimeline&&Q&&en.add($n),Fr){const $e=new Si(v,Ne,$n);$e.setRealPlayer(ne),It.push($e)}return ne});It.forEach(Nn=>{dt(this.playersByQueriedElement,Nn.element,[]).push(Nn),Nn.onDone(()=>function rs(q,v,E){let k=q.get(v);if(k){if(k.length){const Q=k.indexOf(E);k.splice(Q,1)}0==k.length&&q.delete(v)}return k}(this.playersByQueriedElement,Nn.element,Nn))}),ln.forEach(Nn=>si(Nn,_i));const An=Bn(er);return An.onDestroy(()=>{ln.forEach(Nn=>Ai(Nn,_i)),ar(lt,E.toStyles)}),en.forEach(Nn=>{dt(Q,Nn,[]).push(An)}),An}_buildPlayer(v,E,k){return E.length>0?this.driver.animate(v.element,E,v.duration,v.delay,v.easing,k):new we.ZN(v.duration,v.delay)}}class Si{constructor(v,E,k){this.namespaceId=v,this.triggerName=E,this.element=k,this._player=new we.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(v){this._containsRealPlayer||(this._player=v,this._queuedCallbacks.forEach((E,k)=>{E.forEach(Q=>Dr(v,k,void 0,Q))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(v.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(v){this.totalTime=v}syncPlayerEvents(v){const E=this._player;E.triggerCallback&&v.onStart(()=>E.triggerCallback("start")),v.onDone(()=>this.finish()),v.onDestroy(()=>this.destroy())}_queueEvent(v,E){dt(this._queuedCallbacks,v,[]).push(E)}onDone(v){this.queued&&this._queueEvent("done",v),this._player.onDone(v)}onStart(v){this.queued&&this._queueEvent("start",v),this._player.onStart(v)}onDestroy(v){this.queued&&this._queueEvent("destroy",v),this._player.onDestroy(v)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(v){this.queued||this._player.setPosition(v)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(v){const E=this._player;E.triggerCallback&&E.triggerCallback(v)}}function cs(q){return q&&1===q.nodeType}function Yi(q,v){const E=q.style.display;return q.style.display=v??"none",E}function Ks(q,v,E,k,Q){const ce=[];E.forEach(lt=>ce.push(Yi(lt)));const Me=[];k.forEach((lt,It)=>{const ln=new Map;lt.forEach(en=>{const er=v.computeStyle(It,en,Q);ln.set(en,er),(!er||0==er.length)&&(It[ii]=no,Me.push(It))}),q.set(It,ln)});let Ne=0;return E.forEach(lt=>Yi(lt,ce[Ne++])),Me}function Ci(q,v){const E=new Map;if(q.forEach(Ne=>E.set(Ne,[])),0==v.length)return E;const k=1,Q=new Set(v),ce=new Map;function Me(Ne){if(!Ne)return k;let lt=ce.get(Ne);if(lt)return lt;const It=Ne.parentNode;return lt=E.has(It)?It:Q.has(It)?k:Me(It),ce.set(Ne,lt),lt}return v.forEach(Ne=>{const lt=Me(Ne);lt!==k&&E.get(lt).push(Ne)}),E}function si(q,v){q.classList?.add(v)}function Ai(q,v){q.classList?.remove(v)}function oi(q,v,E){Bn(E).onDone(()=>q.processLeaveNode(v))}function Ti(q,v){for(let E=0;E<q.length;E++){const k=q[E];k instanceof we.ZE?Ti(k.players,v):v.push(k)}}function qr(q,v,E){const k=E.get(q);if(!k)return!1;let Q=v.get(q);return Q?k.forEach(ce=>Q.add(ce)):v.set(q,k),E.delete(q),!0}class is{constructor(v,E,k){this.bodyNode=v,this._driver=E,this._normalizer=k,this._triggerCache={},this.onRemovalComplete=(Q,ce)=>{},this._transitionEngine=new Ts(v,E,k),this._timelineEngine=new ls(v,E,k),this._transitionEngine.onRemovalComplete=(Q,ce)=>this.onRemovalComplete(Q,ce)}registerTrigger(v,E,k,Q,ce){const Me=v+"-"+Q;let Ne=this._triggerCache[Me];if(!Ne){const lt=[],It=[],ln=ur(this._driver,ce,lt,It);if(lt.length)throw function En(q,v){return new ee.vHH(3404,!1)}();Ne=function Vs(q,v,E){return new qi(q,v,E)}(Q,ln,this._normalizer),this._triggerCache[Me]=Ne}this._transitionEngine.registerTrigger(E,Q,Ne)}register(v,E){this._transitionEngine.register(v,E)}destroy(v,E){this._transitionEngine.destroy(v,E)}onInsert(v,E,k,Q){this._transitionEngine.insertNode(v,E,k,Q)}onRemove(v,E,k,Q){this._transitionEngine.removeNode(v,E,Q||!1,k)}disableAnimations(v,E){this._transitionEngine.markElementAsDisabled(v,E)}process(v,E,k,Q){if("@"==k.charAt(0)){const[ce,Me]=Ve(k);this._timelineEngine.command(ce,E,Me,Q)}else this._transitionEngine.trigger(v,E,k,Q)}listen(v,E,k,Q,ce){if("@"==k.charAt(0)){const[Me,Ne]=Ve(k);return this._timelineEngine.listen(Me,E,Ne,ce)}return this._transitionEngine.listen(v,E,k,Q,ce)}flush(v=-1){this._transitionEngine.flush(v)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let h=(()=>{class q{constructor(E,k,Q){this._element=E,this._startStyles=k,this._endStyles=Q,this._state=0;let ce=q.initialStylesByElement.get(E);ce||q.initialStylesByElement.set(E,ce=new Map),this._initialStyles=ce}start(){this._state<1&&(this._startStyles&&ar(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ar(this._element,this._initialStyles),this._endStyles&&(ar(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(q.initialStylesByElement.delete(this._element),this._startStyles&&(Wr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Wr(this._element,this._endStyles),this._endStyles=null),ar(this._element,this._initialStyles),this._state=3)}}return q.initialStylesByElement=new WeakMap,q})();function Js(q){let v=null;return q.forEach((E,k)=>{(function Ji(q){return"display"===q||"position"===q})(k)&&(v=v||new Map,v.set(k,E))}),v}class Ii{constructor(v,E,k,Q){this.element=v,this.keyframes=E,this.options=k,this._specialStyles=Q,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=k.duration,this._delay=k.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(v=>v()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const v=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,v,this.options),this._finalKeyframe=v.length?v[v.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(v){const E=[];return v.forEach(k=>{E.push(Object.fromEntries(k))}),E}_triggerWebAnimation(v,E,k){return v.animate(this._convertKeyframesToObject(E),k)}onStart(v){this._originalOnStartFns.push(v),this._onStartFns.push(v)}onDone(v){this._originalOnDoneFns.push(v),this._onDoneFns.push(v)}onDestroy(v){this._onDestroyFns.push(v)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(v=>v()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(v=>v()),this._onDestroyFns=[])}setPosition(v){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=v*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const v=new Map;this.hasStarted()&&this._finalKeyframe.forEach((k,Q)=>{"offset"!==Q&&v.set(Q,this._finished?k:cn(this.element,Q))}),this.currentSnapshot=v}triggerCallback(v){const E="start"===v?this._onStartFns:this._onDoneFns;E.forEach(k=>k()),E.length=0}}class Qr{validateStyleProperty(v){return!0}validateAnimatableStyleProperty(v){return!0}matchesElement(v,E){return!1}containsElement(v,E){return Kt(v,E)}getParentElement(v){return On(v)}query(v,E,k){return Dt(v,E,k)}computeStyle(v,E,k){return window.getComputedStyle(v)[E]}animate(v,E,k,Q,ce,Me=[]){const lt={duration:k,delay:Q,fill:0==Q?"both":"forwards"};ce&&(lt.easing=ce);const It=new Map,ln=Me.filter(An=>An instanceof Ii);(function Ye(q,v){return 0===q||0===v})(k,Q)&&ln.forEach(An=>{An.currentSnapshot.forEach((Nn,$n)=>It.set($n,Nn))});let en=function Nt(q){return q.length?q[0]instanceof Map?q:q.map(v=>Vt(v)):[]}(E).map(An=>Hn(An));en=function Pt(q,v,E){if(E.size&&v.length){let k=v[0],Q=[];if(E.forEach((ce,Me)=>{k.has(Me)||Q.push(Me),k.set(Me,ce)}),Q.length)for(let ce=1;ce<v.length;ce++){let Me=v[ce];Q.forEach(Ne=>Me.set(Ne,cn(q,Ne)))}}return v}(v,en,It);const er=function Ut(q,v){let E=null,k=null;return Array.isArray(v)&&v.length?(E=Js(v[0]),v.length>1&&(k=Js(v[v.length-1]))):v instanceof Map&&(E=Js(v)),E||k?new h(q,E,k):null}(v,en);return new Ii(v,en,lt,er)}}var Xr=O(6895);let Zi=(()=>{class q extends we._j{constructor(E,k){super(),this._nextAnimationId=0,this._renderer=E.createRenderer(k.body,{id:"0",encapsulation:ee.ifc.None,styles:[],data:{animation:[]}})}build(E){const k=this._nextAnimationId.toString();this._nextAnimationId++;const Q=Array.isArray(E)?(0,we.vP)(E):E;return Ki(this._renderer,null,k,"register",[Q]),new ys(k,this._renderer)}}return q.\u0275fac=function(E){return new(E||q)(ee.LFG(ee.FYo),ee.LFG(Xr.K0))},q.\u0275prov=ee.Yz7({token:q,factory:q.\u0275fac}),q})();class ys extends we.LC{constructor(v,E){super(),this._id=v,this._renderer=E}create(v,E){return new $i(this._id,v,E||{},this._renderer)}}class $i{constructor(v,E,k,Q){this.id=v,this.element=E,this._renderer=Q,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",k)}_listen(v,E){return this._renderer.listen(this.element,`@@${this.id}:${v}`,E)}_command(v,...E){return Ki(this._renderer,this.element,this.id,v,E)}onDone(v){this._listen("done",v)}onStart(v){this._listen("start",v)}onDestroy(v){this._listen("destroy",v)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(v){this._command("setPosition",v)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Ki(q,v,E,k,Q){return q.setProperty(v,`@@${E}:${k}`,Q)}const bn="@.disabled";let Ir=(()=>{class q{constructor(E,k,Q){this.delegate=E,this.engine=k,this._zone=Q,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),k.onRemovalComplete=(ce,Me)=>{const Ne=Me?.parentNode(ce);Ne&&Me.removeChild(Ne,ce)}}createRenderer(E,k){const ce=this.delegate.createRenderer(E,k);if(!(E&&k&&k.data&&k.data.animation)){let ln=this._rendererCache.get(ce);return ln||(ln=new _s("",ce,this.engine,()=>this._rendererCache.delete(ce)),this._rendererCache.set(ce,ln)),ln}const Me=k.id,Ne=k.id+"-"+this._currentId;this._currentId++,this.engine.register(Ne,E);const lt=ln=>{Array.isArray(ln)?ln.forEach(lt):this.engine.registerTrigger(Me,Ne,E,ln.name,ln)};return k.data.animation.forEach(lt),new Fi(this,Ne,ce,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(E,k,Q){E>=0&&E<this._microtaskId?this._zone.run(()=>k(Q)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(ce=>{const[Me,Ne]=ce;Me(Ne)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([k,Q]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return q.\u0275fac=function(E){return new(E||q)(ee.LFG(ee.FYo),ee.LFG(is),ee.LFG(ee.R0b))},q.\u0275prov=ee.Yz7({token:q,factory:q.\u0275fac}),q})();class _s{constructor(v,E,k,Q){this.namespaceId=v,this.delegate=E,this.engine=k,this._onDestroy=Q,this.destroyNode=this.delegate.destroyNode?ce=>E.destroyNode(ce):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(v,E){return this.delegate.createElement(v,E)}createComment(v){return this.delegate.createComment(v)}createText(v){return this.delegate.createText(v)}appendChild(v,E){this.delegate.appendChild(v,E),this.engine.onInsert(this.namespaceId,E,v,!1)}insertBefore(v,E,k,Q=!0){this.delegate.insertBefore(v,E,k),this.engine.onInsert(this.namespaceId,E,v,Q)}removeChild(v,E,k){this.engine.onRemove(this.namespaceId,E,this.delegate,k)}selectRootElement(v,E){return this.delegate.selectRootElement(v,E)}parentNode(v){return this.delegate.parentNode(v)}nextSibling(v){return this.delegate.nextSibling(v)}setAttribute(v,E,k,Q){this.delegate.setAttribute(v,E,k,Q)}removeAttribute(v,E,k){this.delegate.removeAttribute(v,E,k)}addClass(v,E){this.delegate.addClass(v,E)}removeClass(v,E){this.delegate.removeClass(v,E)}setStyle(v,E,k,Q){this.delegate.setStyle(v,E,k,Q)}removeStyle(v,E,k){this.delegate.removeStyle(v,E,k)}setProperty(v,E,k){"@"==E.charAt(0)&&E==bn?this.disableAnimations(v,!!k):this.delegate.setProperty(v,E,k)}setValue(v,E){this.delegate.setValue(v,E)}listen(v,E,k){return this.delegate.listen(v,E,k)}disableAnimations(v,E){this.engine.disableAnimations(v,E)}}class Fi extends _s{constructor(v,E,k,Q,ce){super(E,k,Q,ce),this.factory=v,this.namespaceId=E}setProperty(v,E,k){"@"==E.charAt(0)?"."==E.charAt(1)&&E==bn?this.disableAnimations(v,k=void 0===k||!!k):this.engine.process(this.namespaceId,v,E.slice(1),k):this.delegate.setProperty(v,E,k)}listen(v,E,k){if("@"==E.charAt(0)){const Q=function H(q){switch(q){case"body":return document.body;case"document":return document;case"window":return window;default:return q}}(v);let ce=E.slice(1),Me="";return"@"!=ce.charAt(0)&&([ce,Me]=function N(q){const v=q.indexOf(".");return[q.substring(0,v),q.slice(v+1)]}(ce)),this.engine.listen(this.namespaceId,Q,ce,Me,Ne=>{this.factory.scheduleListenerCallback(Ne._data||-1,k,Ne)})}return this.delegate.listen(v,E,k)}}const nt=[{provide:we._j,useClass:Zi},{provide:Nr,useFactory:function X(){return new Hr}},{provide:is,useClass:(()=>{class q extends is{constructor(E,k,Q,ce){super(E.body,k,Q)}ngOnDestroy(){this.flush()}}return q.\u0275fac=function(E){return new(E||q)(ee.LFG(Xr.K0),ee.LFG(kt),ee.LFG(Nr),ee.LFG(ee.z2F))},q.\u0275prov=ee.Yz7({token:q,factory:q.\u0275fac}),q})()},{provide:ee.FYo,useFactory:function mt(q,v,E){return new Ir(q,v,E)},deps:[u.se,is,ee.R0b]}],In=[{provide:kt,useFactory:()=>new Qr},{provide:ee.QbO,useValue:"BrowserAnimations"},...nt],ai=[{provide:kt,useClass:wn},{provide:ee.QbO,useValue:"NoopAnimations"},...nt];let Lr=(()=>{class q{static withConfig(E){return{ngModule:q,providers:E.disableAnimations?ai:In}}}return q.\u0275fac=function(E){return new(E||q)},q.\u0275mod=ee.oAB({type:q}),q.\u0275inj=ee.cJS({providers:In,imports:[u.b2]}),q})();var ui=O(529),Fs=O(388),Ms=O(4349),kr=O(8370),Vr=O(878);const ei=[{path:"pulse-surveys",canActivate:[(()=>{class q{constructor(E){this.authService=E}canActivate(E,k){return!!this.authService.isAuthenticated()}}return q.\u0275fac=function(E){return new(E||q)(ee.LFG(kr.e))},q.\u0275prov=ee.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})()],loadChildren:()=>O.e(611).then(O.bind(O,1611)).then(q=>q.PulseSurveysModule)}];let zi=(()=>{class q{}return q.\u0275fac=function(E){return new(E||q)},q.\u0275mod=ee.oAB({type:q}),q.\u0275inj=ee.cJS({imports:[Vr.Bz.forRoot(ei),Vr.Bz]}),q})();var Ps=O(7680);let Rs=(()=>{class q{constructor(E){this.authService=E,this.title="Pulse Surveys"}ngOnInit(){this.isLoggedIn=this.authService.isAuthenticated()}}return q.\u0275fac=function(E){return new(E||q)(ee.Y36(kr.e))},q.\u0275cmp=ee.Xpm({type:q,selectors:[["app-root"]],features:[ee._Bn([Ps.Ct])],decls:1,vars:0,template:function(E,k){1&E&&ee._UZ(0,"router-outlet")},dependencies:[Vr.lC]}),q})(),Gi=(()=>{class q{}return q.\u0275fac=function(E){return new(E||q)},q.\u0275mod=ee.oAB({type:q}),q.\u0275inj=ee.cJS({imports:[Xr.ez]}),q})();var Os=O(4805),so=O(262),oo=O(2843);let Es=(()=>{class q{constructor(E){this.oauthService=E}intercept(E,k){const Q=this.oauthService.getAccessToken();return Q&&(E=E.clone({setHeaders:{Authorization:`Bearer ${Q}`}})),k.handle(E).pipe((0,so.K)(ce=>(ce instanceof ui.UA&&401===ce.status&&this.oauthService.logOut(),(0,oo._)(ce))))}}return q.\u0275fac=function(E){return new(E||q)(ee.LFG(Ps.Ct))},q.\u0275prov=ee.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})();var ss=O(433);let Ns=(()=>{class q{}return q.\u0275fac=function(E){return new(E||q)},q.\u0275mod=ee.oAB({type:q,bootstrap:[Rs]}),q.\u0275inj=ee.cJS({providers:[kr.e,{provide:ui.TP,useClass:Es,multi:!0}],imports:[u.b2,zi,ss.u5,Gi,Os.x,Lr,ui.JF,Fs.zk.forRoot(),Ms.A0,Ps.zr.forRoot()]}),q})();(0,ee.G48)(),u.q6().bootstrapModule(Ns).catch(q=>console.error(q))},2573:(sn,ot)=>{var r,o,l,f,p,m,_,x,P,U,b,s,u={userAgent:!1},ee={},ve=ve||(r=Math,l=(o={}).lib={},f=l.Base=function(){function S(){}return{extend:function(V){S.prototype=this;var T=new S;return V&&T.mixIn(V),T.hasOwnProperty("init")||(T.init=function(){T.$super.init.apply(this,arguments)}),T.init.prototype=T,T.$super=this,T},create:function(){var V=this.extend();return V.init.apply(V,arguments),V},init:function(){},mixIn:function(V){for(var T in V)V.hasOwnProperty(T)&&(this[T]=V[T]);V.hasOwnProperty("toString")&&(this.toString=V.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),p=l.WordArray=f.extend({init:function(S,V){S=this.words=S||[],this.sigBytes=null!=V?V:4*S.length},toString:function(S){return(S||_).stringify(this)},concat:function(S){var V=this.words,T=S.words,K=this.sigBytes,B=S.sigBytes;if(this.clamp(),K%4)for(var J=0;J<B;J++)V[K+J>>>2]|=(T[J>>>2]>>>24-J%4*8&255)<<24-(K+J)%4*8;else for(J=0;J<B;J+=4)V[K+J>>>2]=T[J>>>2];return this.sigBytes+=B,this},clamp:function(){var S=this.words,V=this.sigBytes;S[V>>>2]&=4294967295<<32-V%4*8,S.length=r.ceil(V/4)},clone:function(){var S=f.clone.call(this);return S.words=this.words.slice(0),S},random:function(S){for(var V=[],T=0;T<S;T+=4)V.push(4294967296*r.random()|0);return new p.init(V,S)}}),m=o.enc={},_=m.Hex={stringify:function(S){for(var V=S.words,T=S.sigBytes,K=[],B=0;B<T;B++){var J=V[B>>>2]>>>24-B%4*8&255;K.push((J>>>4).toString(16)),K.push((15&J).toString(16))}return K.join("")},parse:function(S){for(var V=S.length,T=[],K=0;K<V;K+=2)T[K>>>3]|=parseInt(S.substr(K,2),16)<<24-K%8*4;return new p.init(T,V/2)}},x=m.Latin1={stringify:function(S){for(var V=S.words,T=S.sigBytes,K=[],B=0;B<T;B++)K.push(String.fromCharCode(V[B>>>2]>>>24-B%4*8&255));return K.join("")},parse:function(S){for(var V=S.length,T=[],K=0;K<V;K++)T[K>>>2]|=(255&S.charCodeAt(K))<<24-K%4*8;return new p.init(T,V)}},P=m.Utf8={stringify:function(S){try{return decodeURIComponent(escape(x.stringify(S)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(S){return x.parse(unescape(encodeURIComponent(S)))}},U=l.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=new p.init,this._nDataBytes=0},_append:function(S){"string"==typeof S&&(S=P.parse(S)),this._data.concat(S),this._nDataBytes+=S.sigBytes},_process:function(S){var V=this._data,T=V.words,K=V.sigBytes,B=this.blockSize,de=K/(4*B),fe=(de=S?r.ceil(de):r.max((0|de)-this._minBufferSize,0))*B,pe=r.min(4*fe,K);if(fe){for(var it=0;it<fe;it+=B)this._doProcessBlock(T,it);var ct=T.splice(0,fe);V.sigBytes-=pe}return new p.init(ct,pe)},clone:function(){var S=f.clone.call(this);return S._data=this._data.clone(),S},_minBufferSize:0}),l.Hasher=U.extend({cfg:f.extend(),init:function(S){this.cfg=this.cfg.extend(S),this.reset()},reset:function(){U.reset.call(this),this._doReset()},update:function(S){return this._append(S),this._process(),this},finalize:function(S){return S&&this._append(S),this._doFinalize()},blockSize:16,_createHelper:function(S){return function(V,T){return new S.init(T).finalize(V)}},_createHmacHelper:function(S){return function(V,T){return new b.HMAC.init(S,T).finalize(V)}}}),b=o.algo={},o);(function(r){var f,s=(f=ve).lib,o=s.Base,l=s.WordArray;(f=f.x64={}).Word=o.extend({init:function(p,m){this.high=p,this.low=m}}),f.WordArray=o.extend({init:function(p,m){p=this.words=p||[],this.sigBytes=null!=m?m:8*p.length},toX32:function(){for(var p=this.words,m=p.length,_=[],x=0;x<m;x++){var P=p[x];_.push(P.high),_.push(P.low)}return l.create(_,this.sigBytes)},clone:function(){for(var p=o.clone.call(this),m=p.words=this.words.slice(0),_=m.length,x=0;x<_;x++)m[x]=m[x].clone();return p}})})(),ve.lib.Cipher||function(r){var s=(S=ve).lib,o=s.Base,l=s.WordArray,f=s.BufferedBlockAlgorithm,p=S.enc.Base64,m=S.algo.EvpKDF,_=s.Cipher=f.extend({cfg:o.extend(),createEncryptor:function(T,K){return this.create(this._ENC_XFORM_MODE,T,K)},createDecryptor:function(T,K){return this.create(this._DEC_XFORM_MODE,T,K)},init:function(T,K,B){this.cfg=this.cfg.extend(B),this._xformMode=T,this._key=K,this.reset()},reset:function(){f.reset.call(this),this._doReset()},process:function(T){return this._append(T),this._process()},finalize:function(T){return T&&this._append(T),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(T){return{encrypt:function(K,B,J){return("string"==typeof B?V:b).encrypt(T,K,B,J)},decrypt:function(K,B,J){return("string"==typeof B?V:b).decrypt(T,K,B,J)}}}});s.StreamCipher=_.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var $=S.mode={},x=function(T,K,B){var J=this._iv;J?this._iv=void 0:J=this._prevBlock;for(var de=0;de<B;de++)T[K+de]^=J[de]},P=(s.BlockCipherMode=o.extend({createEncryptor:function(T,K){return this.Encryptor.create(T,K)},createDecryptor:function(T,K){return this.Decryptor.create(T,K)},init:function(T,K){this._cipher=T,this._iv=K}})).extend();P.Encryptor=P.extend({processBlock:function(T,K){var B=this._cipher,J=B.blockSize;x.call(this,T,K,J),B.encryptBlock(T,K),this._prevBlock=T.slice(K,K+J)}}),P.Decryptor=P.extend({processBlock:function(T,K){var B=this._cipher,J=B.blockSize,de=T.slice(K,K+J);B.decryptBlock(T,K),x.call(this,T,K,J),this._prevBlock=de}}),$=$.CBC=P,P=(S.pad={}).Pkcs7={pad:function(T,K){for(var B,J=(B=(B=4*K)-T.sigBytes%B)<<24|B<<16|B<<8|B,de=[],fe=0;fe<B;fe+=4)de.push(J);B=l.create(de,B),T.concat(B)},unpad:function(T){T.sigBytes-=255&T.words[T.sigBytes-1>>>2]}},s.BlockCipher=_.extend({cfg:_.cfg.extend({mode:$,padding:P}),reset:function(){_.reset.call(this);var T=(K=this.cfg).iv,K=K.mode;if(this._xformMode==this._ENC_XFORM_MODE)var B=K.createEncryptor;else B=K.createDecryptor,this._minBufferSize=1;this._mode=B.call(K,this,T&&T.words)},_doProcessBlock:function(T,K){this._mode.processBlock(T,K)},_doFinalize:function(){var T=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){T.pad(this._data,this.blockSize);var K=this._process(!0)}else K=this._process(!0),T.unpad(K);return K},blockSize:4});var U=s.CipherParams=o.extend({init:function(T){this.mixIn(T)},toString:function(T){return(T||this.formatter).stringify(this)}}),b=($=(S.format={}).OpenSSL={stringify:function(T){var K=T.ciphertext;return((T=T.salt)?l.create([1398893684,1701076831]).concat(T).concat(K):K).toString(p)},parse:function(T){var K=(T=p.parse(T)).words;if(1398893684==K[0]&&1701076831==K[1]){var B=l.create(K.slice(2,4));K.splice(0,4),T.sigBytes-=16}return U.create({ciphertext:T,salt:B})}},s.SerializableCipher=o.extend({cfg:o.extend({format:$}),encrypt:function(T,K,B,J){J=this.cfg.extend(J);var de=T.createEncryptor(B,J);return K=de.finalize(K),U.create({ciphertext:K,key:B,iv:(de=de.cfg).iv,algorithm:T,mode:de.mode,padding:de.padding,blockSize:T.blockSize,formatter:J.format})},decrypt:function(T,K,B,J){return J=this.cfg.extend(J),K=this._parse(K,J.format),T.createDecryptor(B,J).finalize(K.ciphertext)},_parse:function(T,K){return"string"==typeof T?K.parse(T,this):T}})),S=(S.kdf={}).OpenSSL={execute:function(T,K,B,J){return J||(J=l.random(8)),T=m.create({keySize:K+B}).compute(T,J),B=l.create(T.words.slice(K),4*B),T.sigBytes=4*K,U.create({key:T,iv:B,salt:J})}},V=s.PasswordBasedCipher=b.extend({cfg:b.cfg.extend({kdf:S}),encrypt:function(T,K,B,J){return B=(J=this.cfg.extend(J)).kdf.execute(B,T.keySize,T.ivSize),J.iv=B.iv,(T=b.encrypt.call(this,T,K,B.key,J)).mixIn(B),T},decrypt:function(T,K,B,J){return J=this.cfg.extend(J),K=this._parse(K,J.format),B=J.kdf.execute(B,T.keySize,T.ivSize,K.salt),J.iv=B.iv,b.decrypt.call(this,T,K,B.key,J)}})}(),function(){for(var r=ve,s=r.lib.BlockCipher,it=r.algo,o=[],l=[],f=[],p=[],m=[],_=[],x=[],P=[],U=[],$=[],b=[],S=0;256>S;S++)b[S]=128>S?S<<1:S<<1^283;var V=0,T=0;for(S=0;256>S;S++){var K;o[V]=K=(K=T^T<<1^T<<2^T<<3^T<<4)>>>8^255&K^99,l[K]=V;var B=b[V],J=b[B],de=b[J],fe=257*b[K]^16843008*K;f[V]=fe<<24|fe>>>8,p[V]=fe<<16|fe>>>16,m[V]=fe<<8|fe>>>24,_[V]=fe,x[K]=(fe=16843009*de^65537*J^257*B^16843008*V)<<24|fe>>>8,P[K]=fe<<16|fe>>>16,U[K]=fe<<8|fe>>>24,$[K]=fe,V?(V=B^b[b[b[de^B]]],T^=b[b[T]]):V=T=1}var pe=[0,1,2,4,8,16,32,64,128,27,54];it=it.AES=s.extend({_doReset:function(){for(var ct=(Z=this._key).words,W=Z.sigBytes/4,Z=4*((this._nRounds=W+6)+1),me=this._keySchedule=[],ye=0;ye<Z;ye++)if(ye<W)me[ye]=ct[ye];else{var Te=me[ye-1];ye%W?6<W&&ye%W==4&&(Te=o[Te>>>24]<<24|o[Te>>>16&255]<<16|o[Te>>>8&255]<<8|o[255&Te]):(Te=o[(Te=Te<<8|Te>>>24)>>>24]<<24|o[Te>>>16&255]<<16|o[Te>>>8&255]<<8|o[255&Te],Te^=pe[ye/W|0]<<24),me[ye]=me[ye-W]^Te}for(ct=this._invKeySchedule=[],W=0;W<Z;W++)ye=Z-W,Te=W%4?me[ye]:me[ye-4],ct[W]=4>W||4>=ye?Te:x[o[Te>>>24]]^P[o[Te>>>16&255]]^U[o[Te>>>8&255]]^$[o[255&Te]]},encryptBlock:function(ct,W){this._doCryptBlock(ct,W,this._keySchedule,f,p,m,_,o)},decryptBlock:function(ct,W){var Z=ct[W+1];ct[W+1]=ct[W+3],ct[W+3]=Z,this._doCryptBlock(ct,W,this._invKeySchedule,x,P,U,$,l),Z=ct[W+1],ct[W+1]=ct[W+3],ct[W+3]=Z},_doCryptBlock:function(ct,W,Z,me,ye,Te,je,Ce){for(var Re=this._nRounds,cr=ct[W]^Z[0],Mr=ct[W+1]^Z[1],Pr=ct[W+2]^Z[2],yr=ct[W+3]^Z[3],Le=4,ft=1;ft<Re;ft++){var _n=me[cr>>>24]^ye[Mr>>>16&255]^Te[Pr>>>8&255]^je[255&yr]^Z[Le++],Rn=me[Mr>>>24]^ye[Pr>>>16&255]^Te[yr>>>8&255]^je[255&cr]^Z[Le++],Mn=me[Pr>>>24]^ye[yr>>>16&255]^Te[cr>>>8&255]^je[255&Mr]^Z[Le++];yr=me[yr>>>24]^ye[cr>>>16&255]^Te[Mr>>>8&255]^je[255&Pr]^Z[Le++],cr=_n,Mr=Rn,Pr=Mn}_n=(Ce[cr>>>24]<<24|Ce[Mr>>>16&255]<<16|Ce[Pr>>>8&255]<<8|Ce[255&yr])^Z[Le++],Rn=(Ce[Mr>>>24]<<24|Ce[Pr>>>16&255]<<16|Ce[yr>>>8&255]<<8|Ce[255&cr])^Z[Le++],Mn=(Ce[Pr>>>24]<<24|Ce[yr>>>16&255]<<16|Ce[cr>>>8&255]<<8|Ce[255&Mr])^Z[Le++],yr=(Ce[yr>>>24]<<24|Ce[cr>>>16&255]<<16|Ce[Mr>>>8&255]<<8|Ce[255&Pr])^Z[Le++],ct[W]=_n,ct[W+1]=Rn,ct[W+2]=Mn,ct[W+3]=yr},keySize:8}),r.AES=s._createHelper(it)}(),function(){function r(b,S){var V=(this._lBlock>>>b^this._rBlock)&S;this._rBlock^=V,this._lBlock^=V<<b}function s(b,S){var V=(this._rBlock>>>b^this._lBlock)&S;this._lBlock^=V,this._rBlock^=V<<b}var f,o=ve,l=(f=o.lib).WordArray,p=o.algo,m=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],_=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],x=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],P=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],U=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],$=p.DES=(f=f.BlockCipher).extend({_doReset:function(){for(var b=this._key.words,S=[],V=0;56>V;V++){var T=m[V]-1;S[V]=b[T>>>5]>>>31-T%32&1}for(b=this._subKeys=[],T=0;16>T;T++){var K=b[T]=[],B=x[T];for(V=0;24>V;V++)K[V/6|0]|=S[(_[V]-1+B)%28]<<31-V%6,K[4+(V/6|0)]|=S[28+(_[V+24]-1+B)%28]<<31-V%6;for(K[0]=K[0]<<1|K[0]>>>31,V=1;7>V;V++)K[V]>>>=4*(V-1)+3;K[7]=K[7]<<5|K[7]>>>27}for(S=this._invSubKeys=[],V=0;16>V;V++)S[V]=b[15-V]},encryptBlock:function(b,S){this._doCryptBlock(b,S,this._subKeys)},decryptBlock:function(b,S){this._doCryptBlock(b,S,this._invSubKeys)},_doCryptBlock:function(b,S,V){this._lBlock=b[S],this._rBlock=b[S+1],r.call(this,4,252645135),r.call(this,16,65535),s.call(this,2,858993459),s.call(this,8,16711935),r.call(this,1,1431655765);for(var T=0;16>T;T++){for(var K=V[T],B=this._lBlock,J=this._rBlock,de=0,fe=0;8>fe;fe++)de|=P[fe][((J^K[fe])&U[fe])>>>0];this._lBlock=J,this._rBlock=B^de}V=this._lBlock,this._lBlock=this._rBlock,this._rBlock=V,r.call(this,1,1431655765),s.call(this,8,16711935),s.call(this,2,858993459),r.call(this,16,65535),r.call(this,4,252645135),b[S]=this._lBlock,b[S+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});o.DES=f._createHelper($),p=p.TripleDES=f.extend({_doReset:function(){var b=this._key.words;this._des1=$.createEncryptor(l.create(b.slice(0,2))),this._des2=$.createEncryptor(l.create(b.slice(2,4))),this._des3=$.createEncryptor(l.create(b.slice(4,6)))},encryptBlock:function(b,S){this._des1.encryptBlock(b,S),this._des2.decryptBlock(b,S),this._des3.encryptBlock(b,S)},decryptBlock:function(b,S){this._des3.decryptBlock(b,S),this._des2.encryptBlock(b,S),this._des1.decryptBlock(b,S)},keySize:6,ivSize:2,blockSize:2}),o.TripleDES=f._createHelper(p)}(),s=ve.lib.WordArray,ve.enc.Base64={stringify:function(o){var l=o.words,f=o.sigBytes,p=this._map;o.clamp(),o=[];for(var m=0;m<f;m+=3)for(var _=(l[m>>>2]>>>24-m%4*8&255)<<16|(l[m+1>>>2]>>>24-(m+1)%4*8&255)<<8|l[m+2>>>2]>>>24-(m+2)%4*8&255,x=0;4>x&&m+.75*x<f;x++)o.push(p.charAt(_>>>6*(3-x)&63));if(l=p.charAt(64))for(;o.length%4;)o.push(l);return o.join("")},parse:function(o){var l=o.length,f=this._map;(p=f.charAt(64))&&-1!=(p=o.indexOf(p))&&(l=p);for(var p=[],m=0,_=0;_<l;_++)if(_%4){var x=f.indexOf(o.charAt(_-1))<<_%4*2,P=f.indexOf(o.charAt(_))>>>6-_%4*2;p[m>>>2]|=(x|P)<<24-m%4*8,m++}return s.create(p,m)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(r){function s($,b,S,V,T,K,B){return(($=$+(b&S|~b&V)+T+B)<<K|$>>>32-K)+b}function o($,b,S,V,T,K,B){return(($=$+(b&V|S&~V)+T+B)<<K|$>>>32-K)+b}function l($,b,S,V,T,K,B){return(($=$+(b^S^V)+T+B)<<K|$>>>32-K)+b}function f($,b,S,V,T,K,B){return(($=$+(S^(b|~V))+T+B)<<K|$>>>32-K)+b}for(var p=ve,m=(x=p.lib).WordArray,_=x.Hasher,x=p.algo,P=[],U=0;64>U;U++)P[U]=4294967296*r.abs(r.sin(U+1))|0;x=x.MD5=_.extend({_doReset:function(){this._hash=new m.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function($,b){for(var S=0;16>S;S++)$[V=b+S]=16711935&((T=$[V])<<8|T>>>24)|4278255360&(T<<24|T>>>8);var V,T=$[b+1],K=$[b+2],B=$[b+3],J=$[b+4],de=$[b+5],fe=$[b+6],pe=$[b+7],it=$[b+8],ct=$[b+9],W=$[b+10],Z=$[b+11],me=$[b+12],ye=$[b+13],Te=$[b+14],je=$[b+15],Ce=s(Ce=(S=this._hash.words)[0],ft=S[1],Le=S[2],Re=S[3],V=$[b+0],7,P[0]),Re=s(Re,Ce,ft,Le,T,12,P[1]),Le=s(Le,Re,Ce,ft,K,17,P[2]),ft=s(ft,Le,Re,Ce,B,22,P[3]);Ce=s(Ce,ft,Le,Re,J,7,P[4]),Re=s(Re,Ce,ft,Le,de,12,P[5]),Le=s(Le,Re,Ce,ft,fe,17,P[6]),ft=s(ft,Le,Re,Ce,pe,22,P[7]),Ce=s(Ce,ft,Le,Re,it,7,P[8]),Re=s(Re,Ce,ft,Le,ct,12,P[9]),Le=s(Le,Re,Ce,ft,W,17,P[10]),ft=s(ft,Le,Re,Ce,Z,22,P[11]),Ce=s(Ce,ft,Le,Re,me,7,P[12]),Re=s(Re,Ce,ft,Le,ye,12,P[13]),Le=s(Le,Re,Ce,ft,Te,17,P[14]),Ce=o(Ce,ft=s(ft,Le,Re,Ce,je,22,P[15]),Le,Re,T,5,P[16]),Re=o(Re,Ce,ft,Le,fe,9,P[17]),Le=o(Le,Re,Ce,ft,Z,14,P[18]),ft=o(ft,Le,Re,Ce,V,20,P[19]),Ce=o(Ce,ft,Le,Re,de,5,P[20]),Re=o(Re,Ce,ft,Le,W,9,P[21]),Le=o(Le,Re,Ce,ft,je,14,P[22]),ft=o(ft,Le,Re,Ce,J,20,P[23]),Ce=o(Ce,ft,Le,Re,ct,5,P[24]),Re=o(Re,Ce,ft,Le,Te,9,P[25]),Le=o(Le,Re,Ce,ft,B,14,P[26]),ft=o(ft,Le,Re,Ce,it,20,P[27]),Ce=o(Ce,ft,Le,Re,ye,5,P[28]),Re=o(Re,Ce,ft,Le,K,9,P[29]),Le=o(Le,Re,Ce,ft,pe,14,P[30]),Ce=l(Ce,ft=o(ft,Le,Re,Ce,me,20,P[31]),Le,Re,de,4,P[32]),Re=l(Re,Ce,ft,Le,it,11,P[33]),Le=l(Le,Re,Ce,ft,Z,16,P[34]),ft=l(ft,Le,Re,Ce,Te,23,P[35]),Ce=l(Ce,ft,Le,Re,T,4,P[36]),Re=l(Re,Ce,ft,Le,J,11,P[37]),Le=l(Le,Re,Ce,ft,pe,16,P[38]),ft=l(ft,Le,Re,Ce,W,23,P[39]),Ce=l(Ce,ft,Le,Re,ye,4,P[40]),Re=l(Re,Ce,ft,Le,V,11,P[41]),Le=l(Le,Re,Ce,ft,B,16,P[42]),ft=l(ft,Le,Re,Ce,fe,23,P[43]),Ce=l(Ce,ft,Le,Re,ct,4,P[44]),Re=l(Re,Ce,ft,Le,me,11,P[45]),Le=l(Le,Re,Ce,ft,je,16,P[46]),Ce=f(Ce,ft=l(ft,Le,Re,Ce,K,23,P[47]),Le,Re,V,6,P[48]),Re=f(Re,Ce,ft,Le,pe,10,P[49]),Le=f(Le,Re,Ce,ft,Te,15,P[50]),ft=f(ft,Le,Re,Ce,de,21,P[51]),Ce=f(Ce,ft,Le,Re,me,6,P[52]),Re=f(Re,Ce,ft,Le,B,10,P[53]),Le=f(Le,Re,Ce,ft,W,15,P[54]),ft=f(ft,Le,Re,Ce,T,21,P[55]),Ce=f(Ce,ft,Le,Re,it,6,P[56]),Re=f(Re,Ce,ft,Le,je,10,P[57]),Le=f(Le,Re,Ce,ft,fe,15,P[58]),ft=f(ft,Le,Re,Ce,ye,21,P[59]),Ce=f(Ce,ft,Le,Re,J,6,P[60]),Re=f(Re,Ce,ft,Le,Z,10,P[61]),Le=f(Le,Re,Ce,ft,K,15,P[62]),ft=f(ft,Le,Re,Ce,ct,21,P[63]),S[0]=S[0]+Ce|0,S[1]=S[1]+ft|0,S[2]=S[2]+Le|0,S[3]=S[3]+Re|0},_doFinalize:function(){var $=this._data,b=$.words,S=8*this._nDataBytes,V=8*$.sigBytes;b[V>>>5]|=128<<24-V%32;var T=r.floor(S/4294967296);for(b[15+(V+64>>>9<<4)]=16711935&(T<<8|T>>>24)|4278255360&(T<<24|T>>>8),b[14+(V+64>>>9<<4)]=16711935&(S<<8|S>>>24)|4278255360&(S<<24|S>>>8),$.sigBytes=4*(b.length+1),this._process(),b=($=this._hash).words,S=0;4>S;S++)b[S]=16711935&((V=b[S])<<8|V>>>24)|4278255360&(V<<24|V>>>8);return $},clone:function(){var $=_.clone.call(this);return $._hash=this._hash.clone(),$}}),p.MD5=_._createHelper(x),p.HmacMD5=_._createHmacHelper(x)}(Math),function(){var r=ve,s=(f=r.lib).WordArray,o=f.Hasher,l=[],f=r.algo.SHA1=o.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(p,m){for(var _=this._hash.words,x=_[0],P=_[1],U=_[2],$=_[3],b=_[4],S=0;80>S;S++){if(16>S)l[S]=0|p[m+S];else{var V=l[S-3]^l[S-8]^l[S-14]^l[S-16];l[S]=V<<1|V>>>31}V=(x<<5|x>>>27)+b+l[S],V=20>S?V+(1518500249+(P&U|~P&$)):40>S?V+(1859775393+(P^U^$)):60>S?V+((P&U|P&$|U&$)-1894007588):V+((P^U^$)-899497514),b=$,$=U,U=P<<30|P>>>2,P=x,x=V}_[0]=_[0]+x|0,_[1]=_[1]+P|0,_[2]=_[2]+U|0,_[3]=_[3]+$|0,_[4]=_[4]+b|0},_doFinalize:function(){var p=this._data,m=p.words,_=8*this._nDataBytes,x=8*p.sigBytes;return m[x>>>5]|=128<<24-x%32,m[14+(x+64>>>9<<4)]=Math.floor(_/4294967296),m[15+(x+64>>>9<<4)]=_,p.sigBytes=4*m.length,this._process(),this._hash},clone:function(){var p=o.clone.call(this);return p._hash=this._hash.clone(),p}});r.SHA1=o._createHelper(f),r.HmacSHA1=o._createHmacHelper(f)}(),function(r){for(var s=ve,o=(S=s.lib).WordArray,l=S.Hasher,S=s.algo,f=[],p=[],m=function(T){return 4294967296*(T-(0|T))|0},_=2,x=0;64>x;){var P;e:{for(var U=r.sqrt(P=_),$=2;$<=U;$++)if(!(P%$)){P=!1;break e}P=!0}P&&(8>x&&(f[x]=m(r.pow(_,.5))),p[x]=m(r.pow(_,1/3)),x++),_++}var b=[];S=S.SHA256=l.extend({_doReset:function(){this._hash=new o.init(f.slice(0))},_doProcessBlock:function(V,T){for(var K=this._hash.words,B=K[0],J=K[1],de=K[2],fe=K[3],pe=K[4],it=K[5],ct=K[6],W=K[7],Z=0;64>Z;Z++){if(16>Z)b[Z]=0|V[T+Z];else{var me=b[Z-15],ye=b[Z-2];b[Z]=((me<<25|me>>>7)^(me<<14|me>>>18)^me>>>3)+b[Z-7]+((ye<<15|ye>>>17)^(ye<<13|ye>>>19)^ye>>>10)+b[Z-16]}me=W+((pe<<26|pe>>>6)^(pe<<21|pe>>>11)^(pe<<7|pe>>>25))+(pe&it^~pe&ct)+p[Z]+b[Z],ye=((B<<30|B>>>2)^(B<<19|B>>>13)^(B<<10|B>>>22))+(B&J^B&de^J&de),W=ct,ct=it,it=pe,pe=fe+me|0,fe=de,de=J,J=B,B=me+ye|0}K[0]=K[0]+B|0,K[1]=K[1]+J|0,K[2]=K[2]+de|0,K[3]=K[3]+fe|0,K[4]=K[4]+pe|0,K[5]=K[5]+it|0,K[6]=K[6]+ct|0,K[7]=K[7]+W|0},_doFinalize:function(){var V=this._data,T=V.words,K=8*this._nDataBytes,B=8*V.sigBytes;return T[B>>>5]|=128<<24-B%32,T[14+(B+64>>>9<<4)]=r.floor(K/4294967296),T[15+(B+64>>>9<<4)]=K,V.sigBytes=4*T.length,this._process(),this._hash},clone:function(){var V=l.clone.call(this);return V._hash=this._hash.clone(),V}}),s.SHA256=l._createHelper(S),s.HmacSHA256=l._createHmacHelper(S)}(Math),function(){var r=ve,s=r.lib.WordArray,o=(l=r.algo).SHA256,l=l.SHA224=o.extend({_doReset:function(){this._hash=new s.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var f=o._doFinalize.call(this);return f.sigBytes-=4,f}});r.SHA224=o._createHelper(l),r.HmacSHA224=o._createHmacHelper(l)}(),function(){function r(){return l.create.apply(l,arguments)}for(var s=ve,o=s.lib.Hasher,l=(p=s.x64).Word,f=p.WordArray,p=s.algo,m=[r(1116352408,3609767458),r(1899447441,602891725),r(3049323471,3964484399),r(3921009573,2173295548),r(961987163,4081628472),r(1508970993,3053834265),r(2453635748,2937671579),r(2870763221,3664609560),r(3624381080,2734883394),r(310598401,1164996542),r(607225278,1323610764),r(1426881987,3590304994),r(1925078388,4068182383),r(2162078206,991336113),r(2614888103,633803317),r(3248222580,3479774868),r(3835390401,2666613458),r(4022224774,944711139),r(264347078,2341262773),r(604807628,2007800933),r(770255983,1495990901),r(1249150122,1856431235),r(1555081692,3175218132),r(1996064986,2198950837),r(2554220882,3999719339),r(2821834349,766784016),r(2952996808,2566594879),r(3210313671,3203337956),r(3336571891,1034457026),r(3584528711,2466948901),r(113926993,3758326383),r(338241895,168717936),r(666307205,1188179964),r(773529912,1546045734),r(1294757372,1522805485),r(1396182291,2643833823),r(1695183700,2343527390),r(1986661051,1014477480),r(2177026350,1206759142),r(2456956037,344077627),r(2730485921,1290863460),r(2820302411,3158454273),r(3259730800,3505952657),r(3345764771,106217008),r(3516065817,3606008344),r(3600352804,1432725776),r(4094571909,1467031594),r(275423344,851169720),r(430227734,3100823752),r(506948616,1363258195),r(659060556,3750685593),r(883997877,3785050280),r(958139571,3318307427),r(1322822218,3812723403),r(1537002063,2003034995),r(1747873779,3602036899),r(1955562222,1575990012),r(2024104815,1125592928),r(2227730452,2716904306),r(2361852424,442776044),r(2428436474,593698344),r(2756734187,3733110249),r(3204031479,2999351573),r(3329325298,3815920427),r(3391569614,3928383900),r(3515267271,566280711),r(3940187606,3454069534),r(4118630271,4000239992),r(116418474,1914138554),r(174292421,2731055270),r(289380356,3203993006),r(460393269,320620315),r(685471733,587496836),r(852142971,1086792851),r(1017036298,365543100),r(1126000580,2618297676),r(1288033470,3409855158),r(1501505948,4234509866),r(1607167915,987167468),r(1816402316,1246189591)],_=[],x=0;80>x;x++)_[x]=r();p=p.SHA512=o.extend({_doReset:function(){this._hash=new f.init([new l.init(1779033703,4089235720),new l.init(3144134277,2227873595),new l.init(1013904242,4271175723),new l.init(2773480762,1595750129),new l.init(1359893119,2917565137),new l.init(2600822924,725511199),new l.init(528734635,4215389547),new l.init(1541459225,327033209)])},_doProcessBlock:function(P,U){for(var J,$=(J=this._hash.words)[0],b=J[1],S=J[2],V=J[3],T=J[4],K=J[5],B=J[6],de=$.high,fe=$.low,pe=b.high,it=b.low,ct=S.high,W=S.low,Z=V.high,me=V.low,ye=T.high,Te=T.low,je=K.high,Ce=K.low,Re=B.high,Le=B.low,ft=(J=J[7]).high,_n=J.low,Rn=de,Mn=fe,yr=pe,cr=it,Mr=ct,Pr=W,mi=Z,ki=me,li=ye,hi=Te,fi=je,Rr=Ce,ci=Re,Br=Le,vi=ft,yi=_n,Vn=0;80>Vn;Vn++){var Ls=_[Vn];if(16>Vn)var Wi=Ls.high=0|P[U+2*Vn],Gn=Ls.low=0|P[U+2*Vn+1];else{Wi=((Gn=(Wi=_[Vn-15]).high)>>>1|(ks=Wi.low)<<31)^(Gn>>>8|ks<<24)^Gn>>>7;var ks=(ks>>>1|Gn<<31)^(ks>>>8|Gn<<24)^(ks>>>7|Gn<<25),ao=((Gn=(ao=_[Vn-2]).high)>>>19|(Yr=ao.low)<<13)^(Gn<<3|Yr>>>29)^Gn>>>6,Yr=(Yr>>>19|Gn<<13)^(Yr<<3|Gn>>>29)^(Yr>>>6|Gn<<26);Ls.high=Wi=(Wi=(Wi=Wi+(Do=(Gn=_[Vn-7]).high)+((Gn=ks+Gn.low)>>>0<ks>>>0?1:0))+ao+((Gn+=Yr)>>>0<Yr>>>0?1:0))+(Ss=(Zs=_[Vn-16]).high)+((Gn+=Zs=Zs.low)>>>0<Zs>>>0?1:0),Ls.low=Gn}var Do=li&fi^~li&ci,Zs=hi&Rr^~hi&Br,Oa=(Ls=Rn&yr^Rn&Mr^yr&Mr,Mn&cr^Mn&Pr^cr&Pr),Na=(Yr=m[Vn]).high,uo=Yr.low,Ss=vi+((li>>>14|hi<<18)^(li>>>18|hi<<14)^(li<<23|hi>>>9))+((Yr=yi+((hi>>>14|li<<18)^(hi>>>18|li<<14)^(hi<<23|li>>>9)))>>>0<yi>>>0?1:0);vi=ci,yi=Br,ci=fi,Br=Rr,fi=li,Rr=hi,li=mi+(Ss=(Ss=(Ss=Ss+Do+((Yr+=Zs)>>>0<Zs>>>0?1:0))+Na+((Yr+=uo)>>>0<uo>>>0?1:0))+Wi+((Yr+=Gn)>>>0<Gn>>>0?1:0))+((hi=ki+Yr|0)>>>0<ki>>>0?1:0)|0,mi=Mr,ki=Pr,Mr=yr,Pr=cr,yr=Rn,cr=Mn,Rn=Ss+(Ls=(ks=(Rn>>>28|Mn<<4)^(Rn<<30|Mn>>>2)^(Rn<<25|Mn>>>7))+Ls+((Gn=(ao=(Mn>>>28|Rn<<4)^(Mn<<30|Rn>>>2)^(Mn<<25|Rn>>>7))+Oa)>>>0<ao>>>0?1:0))+((Mn=Yr+Gn|0)>>>0<Yr>>>0?1:0)|0}fe=$.low=fe+Mn,$.high=de+Rn+(fe>>>0<Mn>>>0?1:0),it=b.low=it+cr,b.high=pe+yr+(it>>>0<cr>>>0?1:0),W=S.low=W+Pr,S.high=ct+Mr+(W>>>0<Pr>>>0?1:0),me=V.low=me+ki,V.high=Z+mi+(me>>>0<ki>>>0?1:0),Te=T.low=Te+hi,T.high=ye+li+(Te>>>0<hi>>>0?1:0),Ce=K.low=Ce+Rr,K.high=je+fi+(Ce>>>0<Rr>>>0?1:0),Le=B.low=Le+Br,B.high=Re+ci+(Le>>>0<Br>>>0?1:0),_n=J.low=_n+yi,J.high=ft+vi+(_n>>>0<yi>>>0?1:0)},_doFinalize:function(){var P=this._data,U=P.words,$=8*this._nDataBytes,b=8*P.sigBytes;return U[b>>>5]|=128<<24-b%32,U[30+(b+128>>>10<<5)]=Math.floor($/4294967296),U[31+(b+128>>>10<<5)]=$,P.sigBytes=4*U.length,this._process(),this._hash.toX32()},clone:function(){var P=o.clone.call(this);return P._hash=this._hash.clone(),P},blockSize:32}),s.SHA512=o._createHelper(p),s.HmacSHA512=o._createHmacHelper(p)}(),function(){var r=ve,s=(f=r.x64).Word,o=f.WordArray,l=(f=r.algo).SHA512,f=f.SHA384=l.extend({_doReset:function(){this._hash=new o.init([new s.init(3418070365,3238371032),new s.init(1654270250,914150663),new s.init(2438529370,812702999),new s.init(355462360,4144912697),new s.init(1731405415,4290775857),new s.init(2394180231,1750603025),new s.init(3675008525,1694076839),new s.init(1203062813,3204075428)])},_doFinalize:function(){var p=l._doFinalize.call(this);return p.sigBytes-=16,p}});r.SHA384=l._createHelper(f),r.HmacSHA384=l._createHmacHelper(f)}(),function(){var r=ve,s=(P=r.lib).WordArray,o=P.Hasher,P=r.algo,l=s.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),f=s.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),p=s.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),m=s.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),_=s.create([0,1518500249,1859775393,2400959708,2840853838]),x=s.create([1352829926,1548603684,1836072691,2053994217,0]);P=P.RIPEMD160=o.extend({_doReset:function(){this._hash=s.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(U,$){for(var b=0;16>b;b++)U[S=$+b]=16711935&((V=U[S])<<8|V>>>24)|4278255360&(V<<24|V>>>8);var S,fe,pe,it,ct,W,Z,me,ye,Te,je,Ce,V=_.words,T=x.words,K=l.words,B=f.words,J=p.words,de=m.words;for(Z=fe=(S=this._hash.words)[0],me=pe=S[1],ye=it=S[2],Te=ct=S[3],je=W=S[4],b=0;80>b;b+=1)Ce=fe+U[$+K[b]]|0,Ce=16>b?Ce+((pe^it^ct)+V[0]):32>b?Ce+((pe&it|~pe&ct)+V[1]):48>b?Ce+(((pe|~it)^ct)+V[2]):64>b?Ce+((pe&ct|it&~ct)+V[3]):Ce+((pe^(it|~ct))+V[4]),Ce=(Ce=(Ce|=0)<<J[b]|Ce>>>32-J[b])+W|0,fe=W,W=ct,ct=it<<10|it>>>22,it=pe,pe=Ce,Ce=Z+U[$+B[b]]|0,Ce=16>b?Ce+((me^(ye|~Te))+T[0]):32>b?Ce+((me&Te|ye&~Te)+T[1]):48>b?Ce+(((me|~ye)^Te)+T[2]):64>b?Ce+((me&ye|~me&Te)+T[3]):Ce+((me^ye^Te)+T[4]),Ce=(Ce=(Ce|=0)<<de[b]|Ce>>>32-de[b])+je|0,Z=je,je=Te,Te=ye<<10|ye>>>22,ye=me,me=Ce;Ce=S[1]+it+Te|0,S[1]=S[2]+ct+je|0,S[2]=S[3]+W+Z|0,S[3]=S[4]+fe+me|0,S[4]=S[0]+pe+ye|0,S[0]=Ce},_doFinalize:function(){var U=this._data,$=U.words,b=8*this._nDataBytes,S=8*U.sigBytes;for($[S>>>5]|=128<<24-S%32,$[14+(S+64>>>9<<4)]=16711935&(b<<8|b>>>24)|4278255360&(b<<24|b>>>8),U.sigBytes=4*($.length+1),this._process(),$=(U=this._hash).words,b=0;5>b;b++)$[b]=16711935&((S=$[b])<<8|S>>>24)|4278255360&(S<<24|S>>>8);return U},clone:function(){var U=o.clone.call(this);return U._hash=this._hash.clone(),U}}),r.RIPEMD160=o._createHelper(P),r.HmacRIPEMD160=o._createHmacHelper(P)}(Math),function(){var s=ve.enc.Utf8;ve.algo.HMAC=ve.lib.Base.extend({init:function(o,l){o=this._hasher=new o.init,"string"==typeof l&&(l=s.parse(l));var f=o.blockSize,p=4*f;l.sigBytes>p&&(l=o.finalize(l)),l.clamp();for(var m=this._oKey=l.clone(),_=this._iKey=l.clone(),x=m.words,P=_.words,U=0;U<f;U++)x[U]^=1549556828,P[U]^=909522486;m.sigBytes=_.sigBytes=p,this.reset()},reset:function(){var o=this._hasher;o.reset(),o.update(this._iKey)},update:function(o){return this._hasher.update(o),this},finalize:function(o){var l=this._hasher;return o=l.finalize(o),l.reset(),l.finalize(this._oKey.clone().concat(o))}})}(),function(){var l,r=ve,s=(l=r.lib).Base,o=l.WordArray,f=(l=r.algo).HMAC,p=l.PBKDF2=s.extend({cfg:s.extend({keySize:4,hasher:l.SHA1,iterations:1}),init:function(m){this.cfg=this.cfg.extend(m)},compute:function(m,_){for(var x=f.create((V=this.cfg).hasher,m),P=o.create(),U=o.create([1]),$=P.words,b=U.words,S=V.keySize,V=V.iterations;$.length<S;){var T=x.update(_).finalize(U);x.reset();for(var K=T.words,B=K.length,J=T,de=1;de<V;de++){J=x.finalize(J),x.reset();for(var fe=J.words,pe=0;pe<B;pe++)K[pe]^=fe[pe]}P.concat(T),b[0]++}return P.sigBytes=4*S,P}});r.PBKDF2=function(m,_,x){return p.create(x).compute(m,_)}}();var xe,Je="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ge="=";function Xe(r){var s,o,l="";for(s=0;s+3<=r.length;s+=3)o=parseInt(r.substring(s,s+3),16),l+=Je.charAt(o>>6)+Je.charAt(63&o);if(s+1==r.length?(o=parseInt(r.substring(s,s+1),16),l+=Je.charAt(o<<2)):s+2==r.length&&(o=parseInt(r.substring(s,s+2),16),l+=Je.charAt(o>>2)+Je.charAt((3&o)<<4)),Ge)for(;(3&l.length)>0;)l+=Ge;return l}function Ie(r){var o,f,p,s="",l=0;for(o=0;o<r.length&&r.charAt(o)!=Ge;++o)!((p=Je.indexOf(r.charAt(o)))<0)&&(0==l?(s+=_t(p>>2),f=3&p,l=1):1==l?(s+=_t(f<<2|p>>4),f=15&p,l=2):2==l?(s+=_t(f),s+=_t(p>>2),f=3&p,l=3):(s+=_t(f<<2|p>>4),s+=_t(15&p),l=0));return 1==l&&(s+=_t(f<<2)),s}function ue(r,s,o){null!=r&&("number"==typeof r?this.fromNumber(r,s,o):this.fromString(r,null==s&&"string"!=typeof r?256:s))}function Ze(){return new ue(null)}"Microsoft Internet Explorer"==u.appName?(ue.prototype.am=function Xt(r,s,o,l,f,p){for(var m=32767&s,_=s>>15;--p>=0;){var x=32767&this[r],P=this[r++]>>15,U=_*x+P*m;f=((x=m*x+((32767&U)<<15)+o[l]+(1073741823&f))>>>30)+(U>>>15)+_*P+(f>>>30),o[l++]=1073741823&x}return f},xe=30):"Netscape"!=u.appName?(ue.prototype.am=function bt(r,s,o,l,f,p){for(;--p>=0;){var m=s*this[r++]+o[l]+f;f=Math.floor(m/67108864),o[l++]=67108863&m}return f},xe=26):(ue.prototype.am=function St(r,s,o,l,f,p){for(var m=16383&s,_=s>>14;--p>=0;){var x=16383&this[r],P=this[r++]>>14,U=_*x+P*m;f=((x=m*x+((16383&U)<<14)+o[l]+f)>>28)+(U>>14)+_*P,o[l++]=268435455&x}return f},xe=28),ue.prototype.DB=xe,ue.prototype.DM=(1<<xe)-1,ue.prototype.DV=1<<xe,ue.prototype.FV=Math.pow(2,52),ue.prototype.F1=52-xe,ue.prototype.F2=2*xe-52;var De,et,wt="0123456789abcdefghijklmnopqrstuvwxyz",be=new Array;for(De="0".charCodeAt(0),et=0;et<=9;++et)be[De++]=et;for(De="a".charCodeAt(0),et=10;et<36;++et)be[De++]=et;for(De="A".charCodeAt(0),et=10;et<36;++et)be[De++]=et;function _t(r){return wt.charAt(r)}function $t(r,s){return be[r.charCodeAt(s)]??-1}function En(r){var s=Ze();return s.fromInt(r),s}function rt(r){var o,s=1;return 0!=(o=r>>>16)&&(r=o,s+=16),0!=(o=r>>8)&&(r=o,s+=8),0!=(o=r>>4)&&(r=o,s+=4),0!=(o=r>>2)&&(r=o,s+=2),0!=(o=r>>1)&&(r=o,s+=1),s}function Dr(r){this.m=r}function yn(r){this.m=r,this.mp=r.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<r.DB-15)-1,this.mt2=2*r.t}function Kr(r,s){return r&s}function yt(r,s){return r|s}function Fe(r,s){return r^s}function Nt(r,s){return r&~s}function ar(r){if(0==r)return-1;var s=0;return 65535&r||(r>>=16,s+=16),255&r||(r>>=8,s+=8),15&r||(r>>=4,s+=4),3&r||(r>>=2,s+=2),1&r||++s,s}function tt(r){for(var s=0;0!=r;)r&=r-1,++s;return s}function fr(){}function Ur(r){return r}function he(r){this.r2=Ze(),this.q3=Ze(),ue.ONE.dlShiftTo(2*r.t,this.r2),this.mu=this.r2.divide(r),this.m=r}Dr.prototype.convert=function Jn(r){return r.s<0||r.compareTo(this.m)>=0?r.mod(this.m):r},Dr.prototype.revert=function ut(r){return r},Dr.prototype.reduce=function dt(r){r.divRemTo(this.m,null,r)},Dr.prototype.mulTo=function Ve(r,s,o){r.multiplyTo(s,o),this.reduce(o)},Dr.prototype.sqrTo=function Lt(r,s){r.squareTo(s),this.reduce(s)},yn.prototype.convert=function On(r){var s=Ze();return r.abs().dlShiftTo(this.m.t,s),s.divRemTo(this.m,null,s),r.s<0&&s.compareTo(ue.ZERO)>0&&this.m.subTo(s,s),s},yn.prototype.revert=function _r(r){var s=Ze();return r.copyTo(s),this.reduce(s),s},yn.prototype.reduce=function oe(r){for(;r.t<=this.mt2;)r[r.t++]=0;for(var s=0;s<this.m.t;++s){var o=32767&r[s],l=o*this.mpl+((o*this.mph+(r[s]>>15)*this.mpl&this.um)<<15)&r.DM;for(r[o=s+this.m.t]+=this.m.am(0,l,r,s,0,this.m.t);r[o]>=r.DV;)r[o]-=r.DV,r[++o]++}r.clamp(),r.drShiftTo(this.m.t,r),r.compareTo(this.m)>=0&&r.subTo(this.m,r)},yn.prototype.mulTo=function gt(r,s,o){r.multiplyTo(s,o),this.reduce(o)},yn.prototype.sqrTo=function st(r,s){r.squareTo(s),this.reduce(s)},ue.prototype.copyTo=function Ot(r){for(var s=this.t-1;s>=0;--s)r[s]=this[s];r.t=this.t,r.s=this.s},ue.prototype.fromInt=function Wt(r){this.t=1,this.s=r<0?-1:0,r>0?this[0]=r:r<-1?this[0]=r+this.DV:this.t=0},ue.prototype.fromString=function Jt(r,s){var o;if(16==s)o=4;else if(8==s)o=3;else if(256==s)o=8;else if(2==s)o=1;else if(32==s)o=5;else{if(4!=s)return void this.fromRadix(r,s);o=2}this.t=0,this.s=0;for(var l=r.length,f=!1,p=0;--l>=0;){var m=8==o?255&r[l]:$t(r,l);m<0?"-"==r.charAt(l)&&(f=!0):(f=!1,0==p?this[this.t++]=m:p+o>this.DB?(this[this.t-1]|=(m&(1<<this.DB-p)-1)<<p,this[this.t++]=m>>this.DB-p):this[this.t-1]|=m<<p,(p+=o)>=this.DB&&(p-=this.DB))}8==o&&128&r[0]&&(this.s=-1,p>0&&(this[this.t-1]|=(1<<this.DB-p)-1<<p)),this.clamp(),f&&ue.ZERO.subTo(this,this)},ue.prototype.clamp=function Pn(){for(var r=this.s&this.DM;this.t>0&&this[this.t-1]==r;)--this.t},ue.prototype.dlShiftTo=function Be(r,s){var o;for(o=this.t-1;o>=0;--o)s[o+r]=this[o];for(o=r-1;o>=0;--o)s[o]=0;s.t=this.t+r,s.s=this.s},ue.prototype.drShiftTo=function vt(r,s){for(var o=r;o<this.t;++o)s[o-r]=this[o];s.t=Math.max(this.t-r,0),s.s=this.s},ue.prototype.lShiftTo=function an(r,s){var _,o=r%this.DB,l=this.DB-o,f=(1<<l)-1,p=Math.floor(r/this.DB),m=this.s<<o&this.DM;for(_=this.t-1;_>=0;--_)s[_+p+1]=this[_]>>l|m,m=(this[_]&f)<<o;for(_=p-1;_>=0;--_)s[_]=0;s[p]=m,s.t=this.t+p+1,s.s=this.s,s.clamp()},ue.prototype.rShiftTo=function Fn(r,s){s.s=this.s;var o=Math.floor(r/this.DB);if(o>=this.t)s.t=0;else{var l=r%this.DB,f=this.DB-l,p=(1<<l)-1;s[0]=this[o]>>l;for(var m=o+1;m<this.t;++m)s[m-o-1]|=(this[m]&p)<<f,s[m-o]=this[m]>>l;l>0&&(s[this.t-o-1]|=(this.s&p)<<f),s.t=this.t-o,s.clamp()}},ue.prototype.subTo=function pn(r,s){for(var o=0,l=0,f=Math.min(r.t,this.t);o<f;)l+=this[o]-r[o],s[o++]=l&this.DM,l>>=this.DB;if(r.t<this.t){for(l-=r.s;o<this.t;)l+=this[o],s[o++]=l&this.DM,l>>=this.DB;l+=this.s}else{for(l+=this.s;o<r.t;)l-=r[o],s[o++]=l&this.DM,l>>=this.DB;l-=r.s}s.s=l<0?-1:0,l<-1?s[o++]=this.DV+l:l>0&&(s[o++]=l),s.t=o,s.clamp()},ue.prototype.multiplyTo=function Bt(r,s){var o=this.abs(),l=r.abs(),f=o.t;for(s.t=f+l.t;--f>=0;)s[f]=0;for(f=0;f<l.t;++f)s[f+o.t]=o.am(0,l[f],s,f,0,o.t);s.s=0,s.clamp(),this.s!=r.s&&ue.ZERO.subTo(s,s)},ue.prototype.squareTo=function qt(r){for(var s=this.abs(),o=r.t=2*s.t;--o>=0;)r[o]=0;for(o=0;o<s.t-1;++o){var l=s.am(o,s[o],r,2*o,0,1);(r[o+s.t]+=s.am(o+1,2*s[o],r,2*o+1,l,s.t-o-1))>=s.DV&&(r[o+s.t]-=s.DV,r[o+s.t+1]=1)}r.t>0&&(r[r.t-1]+=s.am(o,s[o],r,2*o,0,1)),r.s=0,r.clamp()},ue.prototype.divRemTo=function Bn(r,s,o){var l=r.abs();if(!(l.t<=0)){var f=this.abs();if(f.t<l.t)return s?.fromInt(0),void(null!=o&&this.copyTo(o));null==o&&(o=Ze());var p=Ze(),m=this.s,_=r.s,x=this.DB-rt(l[l.t-1]);x>0?(l.lShiftTo(x,p),f.lShiftTo(x,o)):(l.copyTo(p),f.copyTo(o));var P=p.t,U=p[P-1];if(0!=U){var $=U*(1<<this.F1)+(P>1?p[P-2]>>this.F2:0),b=this.FV/$,S=(1<<this.F1)/$,V=1<<this.F2,T=o.t,K=T-P,B=s??Ze();for(p.dlShiftTo(K,B),o.compareTo(B)>=0&&(o[o.t++]=1,o.subTo(B,o)),ue.ONE.dlShiftTo(P,B),B.subTo(p,p);p.t<P;)p[p.t++]=0;for(;--K>=0;){var J=o[--T]==U?this.DM:Math.floor(o[T]*b+(o[T-1]+V)*S);if((o[T]+=p.am(0,J,o,K,0,P))<J)for(p.dlShiftTo(K,B),o.subTo(B,o);o[T]<--J;)o.subTo(B,o)}null!=s&&(o.drShiftTo(P,s),m!=_&&ue.ZERO.subTo(s,s)),o.t=P,o.clamp(),x>0&&o.rShiftTo(x,o),m<0&&ue.ZERO.subTo(o,o)}}},ue.prototype.invDigit=function un(){if(this.t<1)return 0;var r=this[0];if(!(1&r))return 0;var s=3&r;return(s=(s=(s=(s=s*(2-(15&r)*s)&15)*(2-(255&r)*s)&255)*(2-((65535&r)*s&65535))&65535)*(2-r*s%this.DV)%this.DV)>0?this.DV-s:-s},ue.prototype.isEven=function Mt(){return 0==(this.t>0?1&this[0]:this.s)},ue.prototype.exp=function At(r,s){if(r>4294967295||r<1)return ue.ONE;var o=Ze(),l=Ze(),f=s.convert(this),p=rt(r)-1;for(f.copyTo(o);--p>=0;)if(s.sqrTo(o,l),(r&1<<p)>0)s.mulTo(l,f,o);else{var m=o;o=l,l=m}return s.revert(o)},ue.prototype.toString=function dn(r){if(this.s<0)return"-"+this.negate().toString(r);var s;if(16==r)s=4;else if(8==r)s=3;else if(2==r)s=1;else if(32==r)s=5;else{if(4!=r)return this.toRadix(r);s=2}var l,o=(1<<s)-1,f=!1,p="",m=this.t,_=this.DB-m*this.DB%s;if(m-- >0)for(_<this.DB&&(l=this[m]>>_)>0&&(f=!0,p=_t(l));m>=0;)_<s?(l=(this[m]&(1<<_)-1)<<s-_,l|=this[--m]>>(_+=this.DB-s)):(l=this[m]>>(_-=s)&o,_<=0&&(_+=this.DB,--m)),l>0&&(f=!0),f&&(p+=_t(l));return f?p:"0"},ue.prototype.negate=function ht(){var r=Ze();return ue.ZERO.subTo(this,r),r},ue.prototype.abs=function pt(){return this.s<0?this.negate():this},ue.prototype.compareTo=function xt(r){var s=this.s-r.s;if(0!=s)return s;var o=this.t;if(0!=(s=o-r.t))return this.s<0?-s:s;for(;--o>=0;)if(0!=(s=this[o]-r[o]))return s;return 0},ue.prototype.bitLength=function Ke(){return this.t<=0?0:this.DB*(this.t-1)+rt(this[this.t-1]^this.s&this.DM)},ue.prototype.mod=function mr(r){var s=Ze();return this.abs().divRemTo(r,null,s),this.s<0&&s.compareTo(ue.ZERO)>0&&r.subTo(s,s),s},ue.prototype.modPowInt=function Zt(r,s){var o;return o=r<256||s.isEven()?new Dr(s):new yn(s),this.exp(r,o)},ue.ZERO=En(0),ue.ONE=En(1),fr.prototype.convert=Ur,fr.prototype.revert=Ur,fr.prototype.mulTo=function ni(r,s,o){r.multiplyTo(s,o)},fr.prototype.sqrTo=function Qn(r,s){r.squareTo(s)},he.prototype.convert=function qe(r){if(r.s<0||r.t>2*this.m.t)return r.mod(this.m);if(r.compareTo(this.m)<0)return r;var s=Ze();return r.copyTo(s),this.reduce(s),s},he.prototype.revert=function Ct(r){return r},he.prototype.reduce=function nn(r){for(r.drShiftTo(this.m.t-1,this.r2),r.t>this.m.t+1&&(r.t=this.m.t+1,r.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);r.compareTo(this.r2)<0;)r.dAddOffset(1,this.m.t+1);for(r.subTo(this.r2,r);r.compareTo(this.m)>=0;)r.subTo(this.m,r)},he.prototype.mulTo=function ur(r,s,o){r.multiplyTo(s,o),this.reduce(o)},he.prototype.sqrTo=function rr(r,s){r.squareTo(s),this.reduce(s)};var br=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],zr=(1<<26)/br[br.length-1];function Ei(){this.i=0,this.j=0,this.S=new Array}ue.prototype.chunkSize=function kt(r){return Math.floor(Math.LN2*this.DB/Math.log(r))},ue.prototype.toRadix=function Er(r){if(null==r&&(r=10),0==this.signum()||r<2||r>36)return"0";var s=this.chunkSize(r),o=Math.pow(r,s),l=En(o),f=Ze(),p=Ze(),m="";for(this.divRemTo(l,f,p);f.signum()>0;)m=(o+p.intValue()).toString(r).substr(1)+m,f.divRemTo(l,f,p);return p.intValue().toString(r)+m},ue.prototype.fromRadix=function Kn(r,s){this.fromInt(0),null==s&&(s=10);for(var o=this.chunkSize(s),l=Math.pow(s,o),f=!1,p=0,m=0,_=0;_<r.length;++_){var x=$t(r,_);x<0?"-"==r.charAt(_)&&0==this.signum()&&(f=!0):(m=s*m+x,++p>=o&&(this.dMultiply(l),this.dAddOffset(m,0),p=0,m=0))}p>0&&(this.dMultiply(Math.pow(s,p)),this.dAddOffset(m,0)),f&&ue.ZERO.subTo(this,this)},ue.prototype.fromNumber=function Tr(r,s,o){if("number"==typeof s)if(r<2)this.fromInt(1);else for(this.fromNumber(r,o),this.testBit(r-1)||this.bitwiseTo(ue.ONE.shiftLeft(r-1),yt,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(s);)this.dAddOffset(2,0),this.bitLength()>r&&this.subTo(ue.ONE.shiftLeft(r-1),this);else{var l=new Array,f=7&r;l.length=1+(r>>3),s.nextBytes(l),f>0?l[0]&=(1<<f)-1:l[0]=0,this.fromString(l,256)}},ue.prototype.bitwiseTo=function ti(r,s,o){var l,f,p=Math.min(r.t,this.t);for(l=0;l<p;++l)o[l]=s(this[l],r[l]);if(r.t<this.t){for(f=r.s&this.DM,l=p;l<this.t;++l)o[l]=s(this[l],f);o.t=this.t}else{for(f=this.s&this.DM,l=p;l<r.t;++l)o[l]=s(f,r[l]);o.t=r.t}o.s=s(this.s,r.s),o.clamp()},ue.prototype.changeBit=function ae(r,s){var o=ue.ONE.shiftLeft(r);return this.bitwiseTo(o,s,o),o},ue.prototype.addTo=function ke(r,s){for(var o=0,l=0,f=Math.min(r.t,this.t);o<f;)l+=this[o]+r[o],s[o++]=l&this.DM,l>>=this.DB;if(r.t<this.t){for(l+=r.s;o<this.t;)l+=this[o],s[o++]=l&this.DM,l>>=this.DB;l+=this.s}else{for(l+=this.s;o<r.t;)l+=r[o],s[o++]=l&this.DM,l>>=this.DB;l+=r.s}s.s=l<0?-1:0,l>0?s[o++]=l:l<-1&&(s[o++]=this.DV+l),s.t=o,s.clamp()},ue.prototype.dMultiply=function Cn(r){this[this.t]=this.am(0,r-1,this,0,0,this.t),++this.t,this.clamp()},ue.prototype.dAddOffset=function kn(r,s){if(0!=r){for(;this.t<=s;)this[this.t++]=0;for(this[s]+=r;this[s]>=this.DV;)this[s]-=this.DV,++s>=this.t&&(this[this.t++]=0),++this[s]}},ue.prototype.multiplyLowerTo=function Ee(r,s,o){var f,l=Math.min(this.t+r.t,s);for(o.s=0,o.t=l;l>0;)o[--l]=0;for(f=o.t-this.t;l<f;++l)o[l+this.t]=this.am(0,r[l],o,l,0,this.t);for(f=Math.min(r.t,s);l<f;++l)this.am(0,r[l],o,l,0,s-l);o.clamp()},ue.prototype.multiplyUpperTo=function L(r,s,o){--s;var l=o.t=this.t+r.t-s;for(o.s=0;--l>=0;)o[l]=0;for(l=Math.max(s-this.t,0);l<r.t;++l)o[this.t+l-s]=this.am(s-l,r[l],o,0,0,this.t+l-s);o.clamp(),o.drShiftTo(1,o)},ue.prototype.modInt=function Xn(r){if(r<=0)return 0;var s=this.DV%r,o=this.s<0?r-1:0;if(this.t>0)if(0==s)o=this[0]%r;else for(var l=this.t-1;l>=0;--l)o=(s*o+this[l])%r;return o},ue.prototype.millerRabin=function vr(r){var s=this.subtract(ue.ONE),o=s.getLowestSetBit();if(o<=0)return!1;var l=s.shiftRight(o);(r=r+1>>1)>br.length&&(r=br.length);for(var f=Ze(),p=0;p<r;++p){f.fromInt(br[Math.floor(Math.random()*br.length)]);var m=f.modPow(l,this);if(0!=m.compareTo(ue.ONE)&&0!=m.compareTo(s)){for(var _=1;_++<o&&0!=m.compareTo(s);)if(0==(m=m.modPowInt(2,this)).compareTo(ue.ONE))return!1;if(0!=m.compareTo(s))return!1}}return!0},ue.prototype.clone=function Kt(){var r=Ze();return this.copyTo(r),r},ue.prototype.intValue=function Dt(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},ue.prototype.byteValue=function Et(){return 0==this.t?this.s:this[0]<<24>>24},ue.prototype.shortValue=function wn(){return 0==this.t?this.s:this[0]<<16>>16},ue.prototype.signum=function Wn(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},ue.prototype.toByteArray=function Zn(){var r=this.t,s=new Array;s[0]=this.s;var l,o=this.DB-r*this.DB%8,f=0;if(r-- >0)for(o<this.DB&&(l=this[r]>>o)!=(this.s&this.DM)>>o&&(s[f++]=l|this.s<<this.DB-o);r>=0;)o<8?(l=(this[r]&(1<<o)-1)<<8-o,l|=this[--r]>>(o+=this.DB-8)):(l=this[r]>>(o-=8)&255,o<=0&&(o+=this.DB,--r)),128&l&&(l|=-256),0==f&&(128&this.s)!=(128&l)&&++f,(f>0||l!=this.s)&&(s[f++]=l);return s},ue.prototype.equals=function jr(r){return 0==this.compareTo(r)},ue.prototype.min=function zn(r){return this.compareTo(r)<0?this:r},ue.prototype.max=function _i(r){return this.compareTo(r)>0?this:r},ue.prototype.and=function tr(r){var s=Ze();return this.bitwiseTo(r,Kr,s),s},ue.prototype.or=function Pe(r){var s=Ze();return this.bitwiseTo(r,yt,s),s},ue.prototype.xor=function Vt(r){var s=Ze();return this.bitwiseTo(r,Fe,s),s},ue.prototype.andNot=function Tn(r){var s=Ze();return this.bitwiseTo(r,Nt,s),s},ue.prototype.not=function Hn(){for(var r=Ze(),s=0;s<this.t;++s)r[s]=this.DM&~this[s];return r.t=this.t,r.s=~this.s,r},ue.prototype.shiftLeft=function hr(r){var s=Ze();return r<0?this.rShiftTo(-r,s):this.lShiftTo(r,s),s},ue.prototype.shiftRight=function Un(r){var s=Ze();return r<0?this.lShiftTo(-r,s):this.rShiftTo(r,s),s},ue.prototype.getLowestSetBit=function Wr(){for(var r=0;r<this.t;++r)if(0!=this[r])return r*this.DB+ar(this[r]);return this.s<0?this.t*this.DB:-1},ue.prototype.bitCount=function Oe(){for(var r=0,s=this.s&this.DM,o=0;o<this.t;++o)r+=tt(this[o]^s);return r},ue.prototype.testBit=function Y(r){var s=Math.floor(r/this.DB);return s>=this.t?0!=this.s:0!=(this[s]&1<<r%this.DB)},ue.prototype.setBit=function R(r){return this.changeBit(r,yt)},ue.prototype.clearBit=function te(r){return this.changeBit(r,Nt)},ue.prototype.flipBit=function Ae(r){return this.changeBit(r,Fe)},ue.prototype.add=function ze(r){var s=Ze();return this.addTo(r,s),s},ue.prototype.subtract=function Ye(r){var s=Ze();return this.subTo(r,s),s},ue.prototype.multiply=function Pt(r){var s=Ze();return this.multiplyTo(r,s),s},ue.prototype.divide=function cn(r){var s=Ze();return this.divRemTo(r,s,null),s},ue.prototype.remainder=function jt(r){var s=Ze();return this.divRemTo(r,null,s),s},ue.prototype.divideAndRemainder=function hn(r){var s=Ze(),o=Ze();return this.divRemTo(r,s,o),new Array(s,o)},ue.prototype.modPow=function zt(r,s){var l,p,o=r.bitLength(),f=En(1);if(o<=0)return f;l=o<18?1:o<48?3:o<144?4:o<768?5:6,p=o<8?new Dr(s):s.isEven()?new he(s):new yn(s);var m=new Array,_=3,x=l-1,P=(1<<l)-1;if(m[1]=p.convert(this),l>1){var U=Ze();for(p.sqrTo(m[1],U);_<=P;)m[_]=Ze(),p.mulTo(U,m[_-2],m[_]),_+=2}var b,T,$=r.t-1,S=!0,V=Ze();for(o=rt(r[$])-1;$>=0;){for(o>=x?b=r[$]>>o-x&P:(b=(r[$]&(1<<o+1)-1)<<x-o,$>0&&(b|=r[$-1]>>this.DB+o-x)),_=l;!(1&b);)b>>=1,--_;if((o-=_)<0&&(o+=this.DB,--$),S)m[b].copyTo(f),S=!1;else{for(;_>1;)p.sqrTo(f,V),p.sqrTo(V,f),_-=2;_>0?p.sqrTo(f,V):(T=f,f=V,V=T),p.mulTo(V,m[b],f)}for(;$>=0&&!(r[$]&1<<o);)p.sqrTo(f,V),T=f,f=V,V=T,--o<0&&(o=this.DB-1,--$)}return p.revert(f)},ue.prototype.modInverse=function Sr(r){var s=r.isEven();if(this.isEven()&&s||0==r.signum())return ue.ZERO;for(var o=r.clone(),l=this.clone(),f=En(1),p=En(0),m=En(0),_=En(1);0!=o.signum();){for(;o.isEven();)o.rShiftTo(1,o),s?((!f.isEven()||!p.isEven())&&(f.addTo(this,f),p.subTo(r,p)),f.rShiftTo(1,f)):p.isEven()||p.subTo(r,p),p.rShiftTo(1,p);for(;l.isEven();)l.rShiftTo(1,l),s?((!m.isEven()||!_.isEven())&&(m.addTo(this,m),_.subTo(r,_)),m.rShiftTo(1,m)):_.isEven()||_.subTo(r,_),_.rShiftTo(1,_);o.compareTo(l)>=0?(o.subTo(l,o),s&&f.subTo(m,f),p.subTo(_,p)):(l.subTo(o,l),s&&m.subTo(f,m),_.subTo(p,_))}return 0!=l.compareTo(ue.ONE)?ue.ZERO:_.compareTo(r)>=0?_.subtract(r):_.signum()<0?(_.addTo(r,_),_.signum()<0?_.add(r):_):_},ue.prototype.pow=function _e(r){return this.exp(r,new fr)},ue.prototype.gcd=function Sn(r){var s=this.s<0?this.negate():this.clone(),o=r.s<0?r.negate():r.clone();if(s.compareTo(o)<0){var l=s;s=o,o=l}var f=s.getLowestSetBit(),p=o.getLowestSetBit();if(p<0)return s;for(f<p&&(p=f),p>0&&(s.rShiftTo(p,s),o.rShiftTo(p,o));s.signum()>0;)(f=s.getLowestSetBit())>0&&s.rShiftTo(f,s),(f=o.getLowestSetBit())>0&&o.rShiftTo(f,o),s.compareTo(o)>=0?(s.subTo(o,s),s.rShiftTo(1,s)):(o.subTo(s,o),o.rShiftTo(1,o));return p>0&&o.lShiftTo(p,o),o},ue.prototype.isProbablePrime=function gi(r){var s,o=this.abs();if(1==o.t&&o[0]<=br[br.length-1]){for(s=0;s<br.length;++s)if(o[0]==br[s])return!0;return!1}if(o.isEven())return!1;for(s=1;s<br.length;){for(var l=br[s],f=s+1;f<br.length&&l<zr;)l*=br[f++];for(l=o.modInt(l);s<f;)if(l%br[s++]==0)return!1}return o.millerRabin(r)},ue.prototype.square=function Qt(){var r=Ze();return this.squareTo(r),r},Ei.prototype.init=function Bi(r){var s,o,l;for(s=0;s<256;++s)this.S[s]=s;for(o=0,s=0;s<256;++s)l=this.S[s],this.S[s]=this.S[o=o+this.S[s]+r[s%r.length]&255],this.S[o]=l;this.i=0,this.j=0},Ei.prototype.next=function Ln(){var r;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,r=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=r,this.S[r+this.S[this.i]&255]};var Xi,Jr,pr,Hi=256;function Zr(){!function us(r){Jr[pr++]^=255&r,Jr[pr++]^=r>>8&255,Jr[pr++]^=r>>16&255,Jr[pr++]^=r>>24&255,pr>=Hi&&(pr-=Hi)}((new Date).getTime())}if(null==Jr){var Or;if(Jr=new Array,pr=0,void 0!==ee&&(void 0!==ee.crypto||void 0!==ee.msCrypto)){var Pi=ee.crypto||ee.msCrypto;if(Pi.getRandomValues){var es=new Uint8Array(32);for(Pi.getRandomValues(es),Or=0;Or<32;++Or)Jr[pr++]=es[Or]}else if("Netscape"==u.appName&&u.appVersion<"5"){var Ar=ee.crypto.random(32);for(Or=0;Or<Ar.length;++Or)Jr[pr++]=255&Ar.charCodeAt(Or)}}for(;pr<Hi;)Or=Math.floor(65536*Math.random()),Jr[pr++]=Or>>>8,Jr[pr++]=255&Or;pr=0,Zr()}function ps(){if(null==Xi){for(Zr(),(Xi=function Ws(){return new Ei}()).init(Jr),pr=0;pr<Jr.length;++pr)Jr[pr]=0;pr=0}return Xi.next()}function Ri(){}function Nr(r,s){return new ue(r,s)}function Ds(r,s,o){for(var l="",f=0;l.length<s;)l+=o(String.fromCharCode.apply(String,r.concat([(4278190080&f)>>24,(16711680&f)>>16,(65280&f)>>8,255&f]))),f+=1;return l}function mn(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function qi(r,s,o){for(var l="",f=0;l.length<s;)l+=o(r+String.fromCharCode.apply(String,[(4278190080&f)>>24,(16711680&f)>>16,(65280&f)>>8,255&f])),f+=1;return l}function $r(r,s){this.x=s,this.q=r}function lr(r,s,o,l){this.curve=r,this.x=s,this.y=o,this.z=null==l?ue.ONE:l,this.zinv=null}function Ci(r,s,o){this.q=r,this.a=this.fromBigInteger(s),this.b=this.fromBigInteger(o),this.infinity=new lr(this,null,null)}Ri.prototype.nextBytes=function gs(r){var s;for(s=0;s<r.length;++s)r[s]=ps()},mn.prototype.doPublic=function Vi(r){return r.modPowInt(this.e,this.n)},mn.prototype.setPublic=function Oi(r,s){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof r)this.n=r,this.e=s;else{if(!(null!=r&&null!=s&&r.length>0&&s.length>0))throw"Invalid RSA public key";this.n=Nr(r,16),this.e=parseInt(s,16)}},mn.prototype.encrypt=function vs(r){var s=function Hr(r,s){if(s<r.length+11)throw"Message too long for RSA";for(var o=new Array,l=r.length-1;l>=0&&s>0;){var f=r.charCodeAt(l--);f<128?o[--s]=f:f>127&&f<2048?(o[--s]=63&f|128,o[--s]=f>>6|192):(o[--s]=63&f|128,o[--s]=f>>6&63|128,o[--s]=f>>12|224)}o[--s]=0;for(var p=new Ri,m=new Array;s>2;){for(m[0]=0;0==m[0];)p.nextBytes(m);o[--s]=m[0]}return o[--s]=2,o[--s]=0,new ue(o)}(r,this.n.bitLength()+7>>3);if(null==s)return null;var o=this.doPublic(s);if(null==o)return null;var l=o.toString(16);return 1&l.length?"0"+l:l},mn.prototype.encryptOAEP=function ri(r,s,o){var l=this.n.bitLength()+7>>3,f=function Gr(r,s,o,l){var f=h.crypto.MessageDigest,p=h.crypto.Util,m=null;if(o||(o="sha1"),"string"==typeof o&&(m=f.getCanonicalAlgName(o),l=f.getHashLength(m),o=function(T){return Lr(p.hashHex(wr(T),m))}),r.length+2*l+2>s)throw"Message too long for RSA";var x,_="";for(x=0;x<s-r.length-2*l-2;x+=1)_+="\0";var P=o("")+_+"\x01"+r,U=new Array(l);(new Ri).nextBytes(U);var $=Ds(U,P.length,o),b=[];for(x=0;x<P.length;x+=1)b[x]=P.charCodeAt(x)^$.charCodeAt(x);var S=Ds(b,U.length,o),V=[0];for(x=0;x<U.length;x+=1)V[x+1]=U[x]^S.charCodeAt(x);return new ue(V.concat(b))}(r,l,s,o);if(null==f)return null;var p=this.doPublic(f);if(null==p)return null;for(var m=p.toString(16);m.length<2*l;)m="0"+m;return m},mn.prototype.type="RSA",mn.prototype.doPrivate=function Ui(r){if(null==this.p||null==this.q)return r.modPow(this.d,this.n);for(var s=r.mod(this.p).modPow(this.dmp1,this.p),o=r.mod(this.q).modPow(this.dmq1,this.q);s.compareTo(o)<0;)s=s.add(this.p);return s.subtract(o).multiply(this.coeff).mod(this.p).multiply(this.q).add(o)},mn.prototype.setPrivate=function ji(r,s,o){if(this.isPrivate=!0,"string"!=typeof r)this.n=r,this.e=s,this.d=o;else{if(!(null!=r&&null!=s&&r.length>0&&s.length>0))throw"Invalid RSA private key";this.n=Nr(r,16),this.e=parseInt(s,16),this.d=Nr(o,16)}},mn.prototype.setPrivateEx=function Us(r,s,o,l,f,p,m,_){if(this.isPrivate=!0,this.isPublic=!1,null==r)throw"RSASetPrivateEx N == null";if(null==s)throw"RSASetPrivateEx E == null";if(0==r.length)throw"RSASetPrivateEx N.length == 0";if(0==s.length)throw"RSASetPrivateEx E.length == 0";if(!(null!=r&&null!=s&&r.length>0&&s.length>0))throw"Invalid RSA private key in RSASetPrivateEx";this.n=Nr(r,16),this.e=parseInt(s,16),this.d=Nr(o,16),this.p=Nr(l,16),this.q=Nr(f,16),this.dmp1=Nr(p,16),this.dmq1=Nr(m,16),this.coeff=Nr(_,16)},mn.prototype.generate=function ls(r,s){var o=new Ri,l=r>>1;this.e=parseInt(s,16);for(var f=new ue(s,16),p=r/2-100,m=ue.ONE.shiftLeft(p);;){for(;this.p=new ue(r-l,1,o),0!=this.p.subtract(ue.ONE).gcd(f).compareTo(ue.ONE)||!this.p.isProbablePrime(10););for(;this.q=new ue(l,1,o),0!=this.q.subtract(ue.ONE).gcd(f).compareTo(ue.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var _=this.p;this.p=this.q,this.q=_}var x=this.q.subtract(this.p).abs();if(!(x.bitLength()<p||x.compareTo(m)<=0)){var P=this.p.subtract(ue.ONE),U=this.q.subtract(ue.ONE),$=P.multiply(U);if(0==$.gcd(f).compareTo(ue.ONE)&&(this.n=this.p.multiply(this.q),this.n.bitLength()==r)){this.d=f.modInverse($),this.dmp1=this.d.mod(P),this.dmq1=this.d.mod(U),this.coeff=this.q.modInverse(this.p);break}}}this.isPrivate=!0},mn.prototype.decrypt=function yo(r){if(r.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var s=Nr(r,16),o=this.doPrivate(s);return null==o?null:function Vs(r,s){for(var o=r.toByteArray(),l=0;l<o.length&&0==o[l];)++l;if(o.length-l!=s-1||2!=o[l])return null;for(++l;0!=o[l];)if(++l>=o.length)return null;for(var f="";++l<o.length;){var p=255&o[l];p<128?f+=String.fromCharCode(p):p>191&&p<224?(f+=String.fromCharCode((31&p)<<6|63&o[l+1]),++l):(f+=String.fromCharCode((15&p)<<12|(63&o[l+1])<<6|63&o[l+2]),l+=2)}return f}(o,this.n.bitLength()+7>>3)},mn.prototype.decryptOAEP=function Cs(r,s,o){if(r.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var l=Nr(r,16),f=this.doPrivate(l);return null==f?null:function js(r,s,o,l){var f=h.crypto.MessageDigest,p=h.crypto.Util,m=null;for(o||(o="sha1"),"string"==typeof o&&(m=f.getCanonicalAlgName(o),l=f.getHashLength(m),o=function(K){return Lr(p.hashHex(wr(K),m))}),r=r.toByteArray(),$=0;$<r.length;$+=1)r[$]&=255;for(;r.length<s;)r.unshift(0);if((r=String.fromCharCode.apply(String,r)).length<2*l+2)throw"Cipher too short";var $,_=r.substr(1,l),x=r.substr(l+1),P=qi(x,l,o),U=[];for($=0;$<_.length;$+=1)U[$]=_.charCodeAt($)^P.charCodeAt($);var b=qi(String.fromCharCode.apply(String,U),r.length-l,o),S=[];for($=0;$<x.length;$+=1)S[$]=x.charCodeAt($)^b.charCodeAt($);if((S=String.fromCharCode.apply(String,S)).substr(0,l)!==o(""))throw"Hash mismatch";var V=(S=S.substr(l)).indexOf("\x01");if((-1!=V?S.substr(0,V).lastIndexOf("\0"):-1)+1!=V)throw"Malformed data";return S.substr(V+1)}(f,this.n.bitLength()+7>>3,s,o)},$r.prototype.equals=function As(r){return r==this||this.q.equals(r.q)&&this.x.equals(r.x)},$r.prototype.toBigInteger=function qs(){return this.x},$r.prototype.negate=function xs(){return new $r(this.q,this.x.negate().mod(this.q))},$r.prototype.add=function $s(r){return new $r(this.q,this.x.add(r.toBigInteger()).mod(this.q))},$r.prototype.subtract=function no(r){return new $r(this.q,this.x.subtract(r.toBigInteger()).mod(this.q))},$r.prototype.multiply=function ii(r){return new $r(this.q,this.x.multiply(r.toBigInteger()).mod(this.q))},$r.prototype.square=function ts(){return new $r(this.q,this.x.square().mod(this.q))},$r.prototype.divide=function ns(r){return new $r(this.q,this.x.multiply(r.toBigInteger().modInverse(this.q)).mod(this.q))},$r.prototype.sqrt=function(){return new $r(this.q,this.x.sqrt().mod(this.q))},lr.prototype.getX=function ro(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},lr.prototype.getY=function Ts(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},lr.prototype.equals=function Si(r){return r==this||(this.isInfinity()?r.isInfinity():r.isInfinity()?this.isInfinity():!!r.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(r.z)).mod(this.curve.q).equals(ue.ZERO)&&r.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(r.z)).mod(this.curve.q).equals(ue.ZERO))},lr.prototype.isInfinity=function rs(){return null==this.x&&null==this.y||this.z.equals(ue.ZERO)&&!this.y.toBigInteger().equals(ue.ZERO)},lr.prototype.negate=function Ys(){return new lr(this.curve,this.x,this.y.negate(),this.z)},lr.prototype.add=function cs(r){if(this.isInfinity())return r;if(r.isInfinity())return this;var s=r.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(r.z)).mod(this.curve.q),o=r.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(r.z)).mod(this.curve.q);if(ue.ZERO.equals(o))return ue.ZERO.equals(s)?this.twice():this.curve.getInfinity();var l=new ue("3"),f=this.x.toBigInteger(),p=this.y.toBigInteger(),x=(r.x.toBigInteger(),r.y.toBigInteger(),o.square()),P=x.multiply(o),U=f.multiply(x),$=s.square().multiply(this.z),b=$.subtract(U.shiftLeft(1)).multiply(r.z).subtract(P).multiply(o).mod(this.curve.q),S=U.multiply(l).multiply(s).subtract(p.multiply(P)).subtract($.multiply(s)).multiply(r.z).add(s.multiply(P)).mod(this.curve.q),V=P.multiply(this.z).multiply(r.z).mod(this.curve.q);return new lr(this.curve,this.curve.fromBigInteger(b),this.curve.fromBigInteger(S),V)},lr.prototype.twice=function _o(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var r=new ue("3"),s=this.x.toBigInteger(),o=this.y.toBigInteger(),l=o.multiply(this.z),f=l.multiply(o).mod(this.curve.q),p=this.curve.a.toBigInteger(),m=s.square().multiply(r);ue.ZERO.equals(p)||(m=m.add(this.z.square().multiply(p)));var _=(m=m.mod(this.curve.q)).square().subtract(s.shiftLeft(3).multiply(f)).shiftLeft(1).multiply(l).mod(this.curve.q),x=m.multiply(r).multiply(s).subtract(f.shiftLeft(1)).shiftLeft(2).multiply(f).subtract(m.square().multiply(m)).mod(this.curve.q),P=l.square().multiply(l).shiftLeft(3).mod(this.curve.q);return new lr(this.curve,this.curve.fromBigInteger(_),this.curve.fromBigInteger(x),P)},lr.prototype.multiply=function Yi(r){if(this.isInfinity())return this;if(0==r.signum())return this.curve.getInfinity();var P,s=r,o=s.multiply(new ue("3")),l=this.negate(),f=this,p=this.curve.q.subtract(r),m=p.multiply(new ue("3")),_=new lr(this.curve,this.x,this.y),x=_.negate();for(P=o.bitLength()-2;P>0;--P){f=f.twice();var U=o.testBit(P);U!=s.testBit(P)&&(f=f.add(U?this:l))}for(P=m.bitLength()-2;P>0;--P){_=_.twice();var b=m.testBit(P);b!=p.testBit(P)&&(_=_.add(b?_:x))}return f},lr.prototype.multiplyTwo=function Ks(r,s,o){var l;l=r.bitLength()>o.bitLength()?r.bitLength()-1:o.bitLength()-1;for(var f=this.curve.getInfinity(),p=this.add(s);l>=0;)f=f.twice(),r.testBit(l)?f=o.testBit(l)?f.add(p):f.add(this):o.testBit(l)&&(f=f.add(s)),--l;return f},Ci.prototype.getQ=function si(){return this.q},Ci.prototype.getA=function Ai(){return this.a},Ci.prototype.getB=function oi(){return this.b},Ci.prototype.equals=function di(r){return r==this||this.q.equals(r.q)&&this.a.equals(r.a)&&this.b.equals(r.b)},Ci.prototype.getInfinity=function Ti(){return this.infinity},Ci.prototype.fromBigInteger=function Is(r){return new $r(this.q,r)},Ci.prototype.decodePointHex=function qr(r){switch(parseInt(r.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:var s=r.substr(0,2),l=(r.substr(2),this.fromBigInteger(new ue(P,16))),f=this.getA(),p=this.getB(),_=l.square().add(f).multiply(l).add(p).sqrt();return"03"==s&&(_=_.negate()),new lr(this,l,_);case 4:case 6:case 7:var x=(r.length-2)/2,P=r.substr(2,x),U=r.substr(x+2,x);return new lr(this,this.fromBigInteger(new ue(P,16)),this.fromBigInteger(new ue(U,16)));default:return null}},$r.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},lr.prototype.getEncoded=function(r){var s=function(p,m){var _=p.toByteArrayUnsigned();if(m<_.length)_=_.slice(_.length-m);else for(;m>_.length;)_.unshift(0);return _},o=this.getX().toBigInteger(),l=this.getY().toBigInteger(),f=s(o,32);return r?l.isEven()?f.unshift(2):f.unshift(3):(f.unshift(4),f=f.concat(s(l,32))),f},lr.decodeFrom=function(r,s){var l=s.length-1,f=s.slice(1,1+l/2),p=s.slice(1+l/2,1+l);f.unshift(0),p.unshift(0);var m=new ue(f),_=new ue(p);return new lr(r,r.fromBigInteger(m),r.fromBigInteger(_))},lr.decodeFromHex=function(r,s){s.substr(0,2);var l=s.length-2,f=s.substr(2,l/2),p=s.substr(2+l/2,l/2),m=new ue(f,16),_=new ue(p,16);return new lr(r,r.fromBigInteger(m),r.fromBigInteger(_))},lr.prototype.add2D=function(r){if(this.isInfinity())return r;if(r.isInfinity())return this;if(this.x.equals(r.x))return this.y.equals(r.y)?this.twice():this.curve.getInfinity();var s=r.x.subtract(this.x),l=r.y.subtract(this.y).divide(s),f=l.square().subtract(this.x).subtract(r.x),p=l.multiply(this.x.subtract(f)).subtract(this.y);return new lr(this.curve,f,p)},lr.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var r=this.curve.fromBigInteger(ue.valueOf(2)),s=this.curve.fromBigInteger(ue.valueOf(3)),o=this.x.square().multiply(s).add(this.curve.a).divide(this.y.multiply(r)),l=o.square().subtract(this.x.multiply(r)),f=o.multiply(this.x.subtract(l)).subtract(this.y);return new lr(this.curve,l,f)},lr.prototype.multiply2D=function(r){if(this.isInfinity())return this;if(0==r.signum())return this.curve.getInfinity();var p,s=r,o=s.multiply(new ue("3")),l=this.negate(),f=this;for(p=o.bitLength()-2;p>0;--p){f=f.twice();var m=o.testBit(p);m!=s.testBit(p)&&(f=f.add2D(m?this:l))}return f},lr.prototype.isOnCurve=function(){var r=this.getX().toBigInteger(),s=this.getY().toBigInteger(),o=this.curve.getA().toBigInteger(),l=this.curve.getB().toBigInteger(),f=this.curve.getQ(),p=s.multiply(s).mod(f),m=r.multiply(r).multiply(r).add(o.multiply(r)).add(l).mod(f);return p.equals(m)},lr.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},lr.prototype.validate=function(){var r=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var s=this.getX().toBigInteger(),o=this.getY().toBigInteger();if(s.compareTo(ue.ONE)<0||s.compareTo(r.subtract(ue.ONE))>0)throw new Error("x coordinate out of bounds");if(o.compareTo(ue.ONE)<0||o.compareTo(r.subtract(ue.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(r).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var is=function(){var l=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),f=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),p={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function m($,b,S){return b?p[b]:String.fromCharCode(parseInt(S,16))}var _=new String(""),U=Object.hasOwnProperty;return function($,b){var V,S=$.match(l),T=S[0],K=!1;"{"===T?V={}:"["===T?V=[]:(V=[],K=!0);for(var B,J=[V],de=1-K,fe=S.length;de<fe;++de){var pe;switch((T=S[de]).charCodeAt(0)){default:(pe=J[0])[B||pe.length]=+T,B=void 0;break;case 34:if(-1!==(T=T.substring(1,T.length-1)).indexOf("\\")&&(T=T.replace(f,m)),pe=J[0],!B){if(!(pe instanceof Array)){B=T||_;break}B=pe.length}pe[B]=T,B=void 0;break;case 91:J.unshift((pe=J[0])[B||pe.length]=[]),B=void 0;break;case 93:case 125:J.shift();break;case 102:(pe=J[0])[B||pe.length]=!1,B=void 0;break;case 110:(pe=J[0])[B||pe.length]=null,B=void 0;break;case 116:(pe=J[0])[B||pe.length]=!0,B=void 0;break;case 123:J.unshift((pe=J[0])[B||pe.length]={}),B=void 0}}if(K){if(1!==J.length)throw new Error;V=V[0]}else if(J.length)throw new Error;if(b){var it=function(ct,W){var Z=ct[W];if(Z&&"object"==typeof Z){var me=null;for(var ye in Z)if(U.call(Z,ye)&&Z!==ct){var Te=it(Z,ye);void 0!==Te?Z[ye]=Te:(me||(me=[]),me.push(ye))}if(me)for(var je=me.length;--je>=0;)delete Z[me[je]]}return b.call(ct,W,Z)};V=it({"":V},"")}return V}}();(typeof h>"u"||!h)&&(h={}),(typeof h.asn1>"u"||!h.asn1)&&(h.asn1={}),h.asn1.ASN1Util=new function(){this.integerToByteHex=function(r){var s=r.toString(16);return s.length%2==1&&(s="0"+s),s},this.bigIntToMinTwosComplementsHex=function(r){var s=r.toString(16);if("-"!=s.substr(0,1))s.length%2==1?s="0"+s:s.match(/^[0-7]/)||(s="00"+s);else{var l=s.substr(1).length;l%2==1?l+=1:s.match(/^[0-7]/)||(l+=2);for(var f="",p=0;p<l;p++)f+="f";s=new ue(f,16).xor(r).add(ue.ONE).toString(16).replace(/^-/,"")}return s},this.getPEMStringFromHex=function(r,s){return kr(r,s)},this.newObject=function(r){var o=h.asn1,l=o.ASN1Object,f=o.DERBoolean,p=o.DERInteger,m=o.DERBitString,_=o.DEROctetString,x=o.DERNull,P=o.DERObjectIdentifier,U=o.DEREnumerated,$=o.DERUTF8String,b=o.DERNumericString,S=o.DERPrintableString,V=o.DERTeletexString,T=o.DERIA5String,K=o.DERUTCTime,B=o.DERGeneralizedTime,J=o.DERVisibleString,de=o.DERBMPString,fe=o.DERSequence,pe=o.DERSet,it=o.DERTaggedObject,ct=o.ASN1Util.newObject;if(r instanceof o.ASN1Object)return r;var W=Object.keys(r);if(1!=W.length)throw new Error("key of param shall be only one.");var Z=W[0];if(-1==":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+Z+":"))throw new Error("undefined key: "+Z);if("bool"==Z)return new f(r[Z]);if("int"==Z)return new p(r[Z]);if("bitstr"==Z)return new m(r[Z]);if("octstr"==Z)return new _(r[Z]);if("null"==Z)return new x(r[Z]);if("oid"==Z)return new P(r[Z]);if("enum"==Z)return new U(r[Z]);if("utf8str"==Z)return new $(r[Z]);if("numstr"==Z)return new b(r[Z]);if("prnstr"==Z)return new S(r[Z]);if("telstr"==Z)return new V(r[Z]);if("ia5str"==Z)return new T(r[Z]);if("utctime"==Z)return new K(r[Z]);if("gentime"==Z)return new B(r[Z]);if("visstr"==Z)return new J(r[Z]);if("bmpstr"==Z)return new de(r[Z]);if("asn1"==Z)return new l(r[Z]);if("seq"==Z){for(var me=r[Z],ye=[],Te=0;Te<me.length;Te++){var je=ct(me[Te]);ye.push(je)}return new fe({array:ye})}if("set"==Z){for(me=r[Z],ye=[],Te=0;Te<me.length;Te++)je=ct(me[Te]),ye.push(je);return new pe({array:ye})}if("tag"==Z){var Ce=r[Z];if("[object Array]"===Object.prototype.toString.call(Ce)&&3==Ce.length){var Re=ct(Ce[2]);return new it({tag:Ce[0],explicit:Ce[1],obj:Re})}return new it(Ce)}},this.jsonToASN1HEX=function(r){return this.newObject(r).tohex()}},h.asn1.ASN1Util.oidHexToInt=function(r){for(var f="",s=parseInt(r.substr(0,2),16),p=(f=Math.floor(s/40)+"."+s%40,""),m=2;m<r.length;m+=2){var x=("00000000"+parseInt(r.substr(m,2),16).toString(2)).slice(-8);p+=x.substr(1,7),"0"==x.substr(0,1)&&(f=f+"."+new ue(p,2).toString(10),p="")}return f},h.asn1.ASN1Util.oidIntToHex=function(r){var s=function(_){var x=_.toString(16);return 1==x.length&&(x="0"+x),x},o=function(_){var x="",U=new ue(_,10).toString(2),$=7-U.length%7;7==$&&($=0);for(var b="",S=0;S<$;S++)b+="0";for(U=b+U,S=0;S<U.length-1;S+=7){var V=U.substr(S,7);S!=U.length-7&&(V="1"+V),x+=s(parseInt(V,2))}return x};if(!r.match(/^[0-9.]+$/))throw"malformed oid string: "+r;var l="",f=r.split("."),p=40*parseInt(f[0])+parseInt(f[1]);l+=s(p),f.splice(0,2);for(var m=0;m<f.length;m++)l+=o(f[m]);return l},h.asn1.ASN1Object=function(r){this.params=null,this.getLengthHexFromValue=function(){if(typeof this.hV>"u"||null==this.hV)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n="+"".length+",v="+this.hV);var m=this.hV.length/2,_=m.toString(16);if(_.length%2==1&&(_="0"+_),m<128)return _;var x=_.length/2;if(x>15)throw new Error("ASN.1 length too long to represent by 8x: n = "+m.toString(16));return(128+x).toString(16)+_},this.tohex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getEncodedHex=function(){return this.tohex()},this.getValueHex=function(){return this.tohex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(m){this.params=m},null!=r&&null!=r.tlv&&(this.hTLV=r.tlv,this.isModified=!1)},h.asn1.DERAbstractString=function(r){h.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(l){this.hTLV=null,this.isModified=!0,this.s=l,this.hV=F(this.s).toLowerCase()},this.setStringHex=function(l){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=l},this.getFreshValueHex=function(){return this.hV},typeof r<"u"&&("string"==typeof r?this.setString(r):typeof r.str<"u"?this.setString(r.str):typeof r.hex<"u"&&this.setStringHex(r.hex))},ne(h.asn1.DERAbstractString,h.asn1.ASN1Object),h.asn1.DERAbstractTime=function(r){h.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(l){var f=l.getTime()+6e4*l.getTimezoneOffset();return new Date(f)},this.formatDate=function(l,f,p){var m=this.zeroPadding,_=this.localDateToUTC(l),x=String(_.getFullYear());"utc"==f&&(x=x.substr(2,2));var V=x+m(String(_.getMonth()+1),2)+m(String(_.getDate()),2)+m(String(_.getHours()),2)+m(String(_.getMinutes()),2)+m(String(_.getSeconds()),2);if(!0===p){var T=_.getMilliseconds();if(0!=T){var K=m(String(T),3);V=V+"."+(K=K.replace(/[0]+$/,""))}}return V+"Z"},this.zeroPadding=function(l,f){return l.length>=f?l:new Array(f-l.length+1).join("0")+l},this.setByParam=function(l){this.hV=null,this.hTLV=null,this.params=l},this.getString=function(){},this.setString=function(l){this.hTLV=null,this.isModified=!0,null==this.params&&(this.params={}),this.params.str=l},this.setByDate=function(l){this.hTLV=null,this.isModified=!0,null==this.params&&(this.params={}),this.params.date=l},this.setByDateValue=function(l,f,p,m,_,x){var P=new Date(Date.UTC(l,f-1,p,m,_,x,0));this.setByDate(P)},this.getFreshValueHex=function(){return this.hV}},ne(h.asn1.DERAbstractTime,h.asn1.ASN1Object),h.asn1.DERAbstractStructured=function(r){h.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(o){this.hTLV=null,this.isModified=!0,this.asn1Array=o},this.appendASN1Object=function(o){this.hTLV=null,this.isModified=!0,this.asn1Array.push(o)},this.asn1Array=new Array,typeof r<"u"&&typeof r.array<"u"&&(this.asn1Array=r.array)},ne(h.asn1.DERAbstractStructured,h.asn1.ASN1Object),h.asn1.DERBoolean=function(r){h.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=0==r?"010100":"0101ff"},ne(h.asn1.DERBoolean,h.asn1.ASN1Object),h.asn1.DERInteger=function(r){h.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.params=null;var s=h.asn1.ASN1Util.bigIntToMinTwosComplementsHex;this.setByBigInteger=function(o){this.isModified=!0,this.params={bigint:o}},this.setByInteger=function(o){this.isModified=!0,this.params=o},this.setValueHex=function(o){this.isModified=!0,this.params={hex:o}},this.getFreshValueHex=function(){var o=this.params,l=null;if(null==o)throw new Error("value not set");if("object"==typeof o&&null!=o.hex)return this.hV=o.hex,this.hV;if("number"==typeof o)l=new ue(String(o),10);else if(null!=o.int)l=new ue(String(o.int),10);else{if(null==o.bigint)throw new Error("wrong parameter");l=o.bigint}return this.hV=s(l),this.hV},null!=r&&(this.params=r)},ne(h.asn1.DERInteger,h.asn1.ASN1Object),h.asn1.DERBitString=function(r){if(void 0!==r&&typeof r.obj<"u"){var s=h.asn1.ASN1Util.newObject(r.obj);r.hex="00"+s.tohex()}h.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(o){this.hTLV=null,this.isModified=!0,this.hV=o},this.setUnusedBitsAndHexValue=function(o,l){if(o<0||7<o)throw"unused bits shall be from 0 to 7: u = "+o;var f="0"+o;this.hTLV=null,this.isModified=!0,this.hV=f+l},this.setByBinaryString=function(o){var l=8-(o=o.replace(/0+$/,"")).length%8;8==l&&(l=0),o+="0000000".substr(0,l);for(var f="",p=0;p<o.length-1;p+=8){var m=o.substr(p,8),_=parseInt(m,2).toString(16);1==_.length&&(_="0"+_),f+=_}this.hTLV=null,this.isModified=!0,this.hV="0"+l+f},this.setByBooleanArray=function(o){for(var l="",f=0;f<o.length;f++)l+=1==o[f]?"1":"0";this.setByBinaryString(l)},this.newFalseArray=function(o){for(var l=new Array(o),f=0;f<o;f++)l[f]=!1;return l},this.getFreshValueHex=function(){return this.hV},typeof r<"u"&&("string"==typeof r&&r.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(r):typeof r.hex<"u"?this.setHexValueIncludingUnusedBits(r.hex):typeof r.bin<"u"?this.setByBinaryString(r.bin):typeof r.array<"u"&&this.setByBooleanArray(r.array))},ne(h.asn1.DERBitString,h.asn1.ASN1Object),h.asn1.DEROctetString=function(r){if(void 0!==r&&typeof r.obj<"u"){var s=h.asn1.ASN1Util.newObject(r.obj);r.hex=s.tohex()}h.asn1.DEROctetString.superclass.constructor.call(this,r),this.hT="04"},ne(h.asn1.DEROctetString,h.asn1.DERAbstractString),h.asn1.DERNull=function(){h.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},ne(h.asn1.DERNull,h.asn1.ASN1Object),h.asn1.DERObjectIdentifier=function(r){h.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(s){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=s},this.setValueOidString=function(s){var o=function An(r){var s=function(_){var x=_.toString(16);return 1==x.length&&(x="0"+x),x},o=function(_){var x="",U=parseInt(_,10).toString(2),$=7-U.length%7;7==$&&($=0);for(var b="",S=0;S<$;S++)b+="0";for(U=b+U,S=0;S<U.length-1;S+=7){var V=U.substr(S,7);S!=U.length-7&&(V="1"+V),x+=s(parseInt(V,2))}return x};try{if(!r.match(/^[0-9.]+$/))return null;var l="",f=r.split("."),p=40*parseInt(f[0],10)+parseInt(f[1],10);l+=s(p),f.splice(0,2);for(var m=0;m<f.length;m++)l+=o(f[m]);return l}catch{return null}}(s);if(null==o)throw new Error("malformed oid string: "+s);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=o},this.setValueName=function(s){var o=h.asn1.x509.OID.name2oid(s);if(""===o)throw new Error("DERObjectIdentifier oidName undefined: "+s);this.setValueOidString(o)},this.setValueNameOrOid=function(s){s.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(s):this.setValueName(s)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(s){"string"==typeof s?this.setValueNameOrOid(s):void 0!==s.oid?this.setValueNameOrOid(s.oid):void 0!==s.name?this.setValueNameOrOid(s.name):void 0!==s.hex&&this.setValueHex(s.hex)},void 0!==r&&this.setByParam(r)},ne(h.asn1.DERObjectIdentifier,h.asn1.ASN1Object),h.asn1.DEREnumerated=function(r){h.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(s){this.hTLV=null,this.isModified=!0,this.hV=h.asn1.ASN1Util.bigIntToMinTwosComplementsHex(s)},this.setByInteger=function(s){var o=new ue(String(s),10);this.setByBigInteger(o)},this.setValueHex=function(s){this.hV=s},this.getFreshValueHex=function(){return this.hV},typeof r<"u"&&(typeof r.int<"u"?this.setByInteger(r.int):"number"==typeof r?this.setByInteger(r):typeof r.hex<"u"&&this.setValueHex(r.hex))},ne(h.asn1.DEREnumerated,h.asn1.ASN1Object),h.asn1.DERUTF8String=function(r){h.asn1.DERUTF8String.superclass.constructor.call(this,r),this.hT="0c"},ne(h.asn1.DERUTF8String,h.asn1.DERAbstractString),h.asn1.DERNumericString=function(r){h.asn1.DERNumericString.superclass.constructor.call(this,r),this.hT="12"},ne(h.asn1.DERNumericString,h.asn1.DERAbstractString),h.asn1.DERPrintableString=function(r){h.asn1.DERPrintableString.superclass.constructor.call(this,r),this.hT="13"},ne(h.asn1.DERPrintableString,h.asn1.DERAbstractString),h.asn1.DERTeletexString=function(r){h.asn1.DERTeletexString.superclass.constructor.call(this,r),this.hT="14"},ne(h.asn1.DERTeletexString,h.asn1.DERAbstractString),h.asn1.DERIA5String=function(r){h.asn1.DERIA5String.superclass.constructor.call(this,r),this.hT="16"},ne(h.asn1.DERIA5String,h.asn1.DERAbstractString),h.asn1.DERVisibleString=function(r){h.asn1.DERIA5String.superclass.constructor.call(this,r),this.hT="1a"},ne(h.asn1.DERVisibleString,h.asn1.DERAbstractString),h.asn1.DERBMPString=function(r){h.asn1.DERBMPString.superclass.constructor.call(this,r),this.hT="1e"},ne(h.asn1.DERBMPString,h.asn1.DERAbstractString),h.asn1.DERUTCTime=function(r){h.asn1.DERUTCTime.superclass.constructor.call(this,r),this.hT="17",this.params=void 0,this.getFreshValueHex=function(){var s=this.params;if(null==this.params&&(s={date:new Date}),"string"==typeof s){if(!s.match(/^[0-9]{12}Z$/)&&!s.match(/^[0-9]{12}\.[0-9]+Z$/))throw new Error("malformed string for UTCTime: "+s);this.hV=Xr(s)}else null!=s.str?this.hV=Xr(s.str):null==s.date&&1==s.millis?this.hV=Xr(this.formatDate(new Date,"utc",!0)):null!=s.date&&s.date instanceof Date?this.hV=Xr(this.formatDate(s.date,"utc",!0===s.millis)):s instanceof Date&&(this.hV=Xr(this.formatDate(s,"utc")));if(null==this.hV)throw new Error("parameter not specified properly for UTCTime");return this.hV},null!=r&&this.setByParam(r)},ne(h.asn1.DERUTCTime,h.asn1.DERAbstractTime),h.asn1.DERGeneralizedTime=function(r){h.asn1.DERGeneralizedTime.superclass.constructor.call(this,r),this.hT="18",this.params=r,this.getFreshValueHex=function(){var s=this.params;if(null==this.params&&(s={date:new Date}),"string"==typeof s){if(!s.match(/^[0-9]{14}Z$/)&&!s.match(/^[0-9]{14}\.[0-9]+Z$/))throw new Error("malformed string for GeneralizedTime: "+s);this.hV=Xr(s)}else null!=s.str?this.hV=Xr(s.str):null==s.date&&1==s.millis?this.hV=Xr(this.formatDate(new Date,"gen",!0)):null!=s.date&&s.date instanceof Date?this.hV=Xr(this.formatDate(s.date,"gen",!0===s.millis)):s instanceof Date&&(this.hV=Xr(this.formatDate(s,"gen")));if(null==this.hV)throw new Error("parameter not specified properly for GeneralizedTime");return this.hV},null!=r&&this.setByParam(r)},ne(h.asn1.DERGeneralizedTime,h.asn1.DERAbstractTime),h.asn1.DERSequence=function(r){h.asn1.DERSequence.superclass.constructor.call(this,r),this.hT="30",this.getFreshValueHex=function(){for(var s="",o=0;o<this.asn1Array.length;o++)s+=this.asn1Array[o].tohex();return this.hV=s,this.hV}},ne(h.asn1.DERSequence,h.asn1.DERAbstractStructured),h.asn1.DERSet=function(r){h.asn1.DERSet.superclass.constructor.call(this,r),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var s=new Array,o=0;o<this.asn1Array.length;o++)s.push(this.asn1Array[o].tohex());return 1==this.sortFlag&&s.sort(),this.hV=s.join(""),this.hV},typeof r<"u"&&typeof r.sortflag<"u"&&0==r.sortflag&&(this.sortFlag=!1)},ne(h.asn1.DERSet,h.asn1.DERAbstractStructured),h.asn1.DERTaggedObject=function(r){h.asn1.DERTaggedObject.superclass.constructor.call(this);var s=h.asn1,l=Ut.getV,p=s.ASN1Util.newObject;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.params={tag:"a0",explicit:!0},this.setASN1Object=function(m,_,x){this.params={tag:_,explicit:m,obj:x}},this.getFreshValueHex=function(){var m=this.params;if(null==m.explicit&&(m.explicit=!0),null!=m.tage&&(m.tag=m.tage,m.explicit=!0),null!=m.tagi&&(m.tag=m.tagi,m.explicit=!1),null!=m.str)this.hV=F(m.str);else if(null!=m.hex)this.hV=m.hex;else{if(null==m.obj)throw new Error("str, hex nor obj not specified");var _;m.obj instanceof s.ASN1Object?_=m.obj.tohex():"object"==typeof m.obj&&(_=p(m.obj).tohex()),this.hV=m.explicit?_:l(_,0)}return null==m.tag&&(m.tag="a0"),this.hT=m.tag,this.hTLV=null,this.isModified=!0,this.hV},this.setByParam=function(m){this.params=m},void 0!==r&&this.setByParam(r)},ne(h.asn1.DERTaggedObject,h.asn1.ASN1Object);var h,_s,Fi,Ut=new function(){};function Qr(r){for(var s="",o=0;o<r.length;o++){var l=r[o].toString(16);1==l.length&&(l="0"+l),s+=l}return s}function Xr(r){return Qr(function Ji(r){for(var s=new Array,o=0;o<r.length;o++)s[o]=r.charCodeAt(o);return s}(r))}function Ki(r){return(r=(r=r.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function Ni(r){return r.length%4==2?r+="==":r.length%4==3&&(r+="="),(r=r.replace(/-/g,"+")).replace(/_/g,"/")}function bn(r){return r.length%2==1&&(r="0"+r),Ki(Xe(r))}function Ir(r){return Ie(Ni(r))}function F(r){return Es(ce(r)).toLowerCase()}function X(r){try{return decodeURIComponent(ss(r))}catch{return null}}function mt(r){return X(function In(r){for(var s=r.match(/.{1,2}/g),o=[],l=0;l<s.length;l++){var f=parseInt(s[l],16);161<=f&&f<=191?(o.push("c2"),o.push(s[l])):192<=f&&f<=255?(o.push("c3"),o.push((f-64).toString(16))):o.push(s[l])}return o.join("")}(r))}function Lr(r){for(var s="",o=0;o<r.length-1;o+=2)s+=String.fromCharCode(parseInt(r.substr(o,2),16));return s}function wr(r){for(var s="",o=0;o<r.length;o++)s+=("0"+r.charCodeAt(o).toString(16)).slice(-2);return s}function kr(r,s){return"-----BEGIN "+s+"-----\r\n"+function ui(r,s){return(r=r.replace(new RegExp("(.{"+s+"})","g"),"$1\r\n")).replace(/\s+$/,"")}(function ds(r){return Xe(r)}(r),64)+"\r\n-----END "+s+"-----\r\n"}function Vr(r,s){if(-1==r.indexOf("-----BEGIN "))throw new Error("can't find PEM header");return function Fs(r){return Ie(r.replace(/[^0-9A-Za-z\/+=]*/g,""))}(r=void 0!==s?(r=r.replace(new RegExp("^[^]*-----BEGIN "+s+"-----"),"")).replace(new RegExp("-----END "+s+"-----[^]*$"),""):(r=r.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function Gi(r){return Math.round(function Ps(r){var s,o,l,f,p,m,_,U,$,b;if(b=(r=function oo(r){return r.match(/^[0-9]{12}Z$/)||r.match(/^[0-9]{12}[.][0-9]*Z$/)?r.match(/^[0-4]/)?"20"+r:"19"+r:r}(r)).match(/^(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return s=parseInt(b[1]),o=parseInt(b[2])-1,l=parseInt(b[3]),f=parseInt(b[4]),p=parseInt(b[5]),m=parseInt(b[6]),_=0,""!==(U=b[7])&&($=(U.substr(1)+"00").substr(0,3),_=parseInt($)),Date.UTC(s,o,l,f,p,m,_);throw new Error("unsupported zulu format: "+r)}(r)/1e3)}function Es(r){return r.replace(/%/g,"")}function ss(r){return r.replace(/(..)/g,"%$1")}function Ns(r){var s="malformed IPv6 address";if(!r.match(/^[0-9A-Fa-f:]+$/))throw s;var o=(r=r.toLowerCase()).split(":").length-1;if(o<2)throw s;var l=":".repeat(7-o+2),f=(r=r.replace("::",l)).split(":");if(8!=f.length)throw s;for(var p=0;p<8;p++)f[p]=("0000"+f[p]).slice(-4);return f.join("")}function ws(r){if(!r.match(/^[0-9A-Fa-f]{32}$/))throw new Error("malformed IPv6 address: "+r);var s=(r=r.toLowerCase()).match(/.{1,4}/g);s=s.map(function(f){return f.replace(/^0+/,"")}),s=s.map(function(f){return""==f?"0":f});var o=(r=":"+s.join(":")+":").match(/:(0:){2,}/g);if(null==o)return r.slice(1,-1);var l=o.sort().slice(-1)[0];return"::"!=(r=r.replace(l.substr(0,l.length-1),":")).substr(0,2)&&(r=r.substr(1)),"::"!=r.substr(-2,2)&&(r=r.substr(0,r.length-1)),r}function q(r){var s=new Error("malformed hex value");if(!r.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw s;if(8==r.length)try{return parseInt(r.substr(0,2),16)+"."+parseInt(r.substr(2,2),16)+"."+parseInt(r.substr(4,2),16)+"."+parseInt(r.substr(6,2),16)}catch{throw s}else{if(16!=r.length){if(32==r.length)return ws(r);if(64==r.length){try{return ws(r.substr(0,32))+"/"+v(r.substr(32))}catch{throw s}return}return r}try{return q(r.substr(0,8))+"/"+v(r.substr(8))}catch{throw s}}}function v(r){var o,s=new Error("malformed mask");try{o=new ue(r,16).toString(2)}catch{throw s}if(!o.match(/^1*0*$/))throw s;return o.replace(/0+$/,"").length}function E(r){var s=new Error("malformed IP address");if(!(r=r.toLowerCase(r)).match(/^[0-9a-f.:/]+$/))throw s;if(!r.match(/^[0-9.]+$/)){var m;if(r.match(/^[0-9.]+\/[0-9]+$/))return E((m=r.split("/"))[0])+k(parseInt(m[1]),32);if(r.match(/^[0-9a-f:]+$/)&&-1!==r.indexOf(":"))return Ns(r);if(r.match(/^[0-9a-f:]+\/[0-9]+$/)&&-1!==r.indexOf(":"))return Ns((m=r.split("/"))[0])+k(parseInt(m[1]),128);throw s}var o=r.split(".");if(4!==o.length)throw s;var l="";try{for(var f=0;f<4;f++)l+=("0"+parseInt(o[f]).toString(16)).slice(-2);return l}catch{throw s}}function k(r,s){return 32==s&&0==r?"00000000":128==s&&0==r?"00000000000000000000000000000000":new ue(Array(r+1).join("1")+Array(s-r+1).join("0"),2).toString(16)}function Q(r){var l=r.match(/.{4}/g).map(function s(f){var p=parseInt(f.substr(0,2),16),m=parseInt(f.substr(2),16);if(0==p&m<128)return String.fromCharCode(m);if(p<8){var x=128|63&m;return X((192|(7&p)<<3|(192&m)>>6).toString(16)+x.toString(16))}x=128|(15&p)<<2|(192&m)>>6;var P=128|63&m;return X((224|(240&p)>>4).toString(16)+x.toString(16)+P.toString(16))});return l.join("")}function ce(r){for(var s=encodeURIComponent(r),o="",l=0;l<s.length;l++)"%"==s[l]?(o+=s.substr(l,3),l+=2):o=o+"%"+Xr(s[l]);return o}function lt(r){return!(r.length%2!=0||!r.match(/^[0-9a-f]+$/)&&!r.match(/^[0-9A-F]+$/))}function It(r){return!!r.match(/^[0-9A-Za-z-_.]+$/)}function ln(r){return r.length%2==1?"0"+r:r.substr(0,1)>"7"?"00"+r:r}function Nn(r){if(!lt(r))return null;try{var s=[],o=r.substr(0,2),l=parseInt(o,16);s[0]=new String(Math.floor(l/40)),s[1]=new String(l%40);for(var f=r.substr(2),p=[],m=0;m<f.length/2;m++)p.push(parseInt(f.substr(2*m,2),16));var _=[],x="";for(m=0;m<p.length;m++)128&p[m]?x+=$n((127&p[m]).toString(2),7):(x+=$n((127&p[m]).toString(2),7),_.push(new String(parseInt(x,2))),x="");var P=s.join(".");return _.length>0&&(P=P+"."+_.join(".")),P}catch{return null}}Ut.getLblen=function(r,s){if("8"!=r.substr(s+2,1))return 1;var o=parseInt(r.substr(s+3,1));return 0==o?-1:0<o&&o<10?o+1:-2},Ut.getL=function(r,s){var o=Ut.getLblen(r,s);return o<1?"":r.substr(s+2,2*o)},Ut.getVblen=function(r,s){var o;return""==(o=Ut.getL(r,s))?-1:("8"===o.substr(0,1)?new ue(o.substr(2),16):new ue(o,16)).intValue()},Ut.getVidx=function(r,s){var o=Ut.getLblen(r,s);return o<0?o:s+2*(o+1)},Ut.getV=function(r,s){var o=Ut.getVidx(r,s),l=Ut.getVblen(r,s);return r.substr(o,2*l)},Ut.getTLV=function(r,s){return r.substr(s,2)+Ut.getL(r,s)+Ut.getV(r,s)},Ut.getTLVblen=function(r,s){return 2+2*Ut.getLblen(r,s)+2*Ut.getVblen(r,s)},Ut.getNextSiblingIdx=function(r,s){return Ut.getVidx(r,s)+2*Ut.getVblen(r,s)},Ut.getChildIdx=function(r,s){var f,p,m,o=Ut,l=[];f=o.getVidx(r,s),p=2*o.getVblen(r,s),"03"==r.substr(s,2)&&(f+=2,p-=2),m=0;for(var _=f;m<=p;){var x=o.getTLVblen(r,_);if((m+=x)<=p&&l.push(_),_+=x,m>=p)break}return l},Ut.getNthChildIdx=function(r,s,o){return Ut.getChildIdx(r,s)[o]},Ut.getIdxbyList=function(r,s,o,l){var p,m,f=Ut;return 0==o.length?void 0!==l&&r.substr(s,2)!==l?-1:s:(p=o.shift())>=(m=f.getChildIdx(r,s)).length?-1:f.getIdxbyList(r,m[p],o,l)},Ut.getIdxbyListEx=function(r,s,o,l){var p,m,f=Ut;if(0==o.length)return void 0!==l&&r.substr(s,2)!==l?-1:s;p=o.shift(),m=f.getChildIdx(r,s);for(var _=0,x=0;x<m.length;x++){var P=r.substr(m[x],2);if("number"==typeof p&&!f.isContextTag(P)&&_==p||"string"==typeof p&&f.isContextTag(P,p))return f.getIdxbyListEx(r,m[x],o,l);f.isContextTag(P)||_++}return-1},Ut.getTLVbyList=function(r,s,o,l){var f=Ut,p=f.getIdxbyList(r,s,o,l);return-1==p||p>=r.length?null:f.getTLV(r,p)},Ut.getTLVbyListEx=function(r,s,o,l){var f=Ut,p=f.getIdxbyListEx(r,s,o,l);return-1==p?null:f.getTLV(r,p)},Ut.getVbyList=function(r,s,o,l,f){var m,_,p=Ut;return-1==(m=p.getIdxbyList(r,s,o,l))||m>=r.length?null:(_=p.getV(r,m),!0===f&&(_=_.substr(2)),_)},Ut.getVbyListEx=function(r,s,o,l,f){var m,x,p=Ut;return-1==(m=p.getIdxbyListEx(r,s,o,l))?null:(x=p.getV(r,m),"03"==r.substr(m,2)&&!1!==f&&(x=x.substr(2)),x)},Ut.getInt=function(r,s,o){null==o&&(o=-1);try{var l=r.substr(s,2);if("02"!=l&&"03"!=l)return o;var f=Ut.getV(r,s);return"02"==l?parseInt(f,16):function Cr(r){if(r.length%2!=0||null==(r=r.toLowerCase()).match(/^[0-9a-f]+$/))return-1;try{var s=r.substr(0,2);if("00"==s)return parseInt(r.substr(2),16);var o=parseInt(s,16);if(o>7)return-1;var l=r.substr(2),f=parseInt(l,16).toString(2);"0"==f&&(f="00000000"),f=f.slice(0,0-o);var p=parseInt(f,2);return NaN==p?-1:p}catch{return-1}}(f)}catch{return o}},Ut.getOID=function(r,s,o){null==o&&(o=null);try{return"06"!=r.substr(s,2)?o:Nn(Ut.getV(r,s))}catch{return o}},Ut.getOIDName=function(r,s,o){null==o&&(o=null);try{var l=Ut.getOID(r,s,o);if(l==o)return o;var f=h.asn1.x509.OID.oid2name(l);return""==f?l:f}catch{return o}},Ut.getString=function(r,s,o){null==o&&(o=null);try{return Lr(Ut.getV(r,s))}catch{return o}},Ut.hextooidstr=function(r){var s=function($,b){return $.length>=b?$:new Array(b-$.length+1).join("0")+$},o=[],l=r.substr(0,2),f=parseInt(l,16);o[0]=new String(Math.floor(f/40)),o[1]=new String(f%40);for(var p=r.substr(2),m=[],_=0;_<p.length/2;_++)m.push(parseInt(p.substr(2*_,2),16));var x=[],P="";for(_=0;_<m.length;_++)128&m[_]?P+=s((127&m[_]).toString(2),7):(P+=s((127&m[_]).toString(2),7),x.push(new String(parseInt(P,2))),P="");var U=o.join(".");return x.length>0&&(U=U+"."+x.join(".")),U},Ut.dump=function(r,s,o,l){var f=Ut,p=f.getV,m=f.dump,_=f.getChildIdx,x=r;r instanceof h.asn1.ASN1Object&&(x=r.tohex());var P=function(ct,W){return ct.length<=2*W?ct:ct.substr(0,W)+"..(total "+ct.length/2+"bytes).."+ct.substr(ct.length-W,W)};void 0===s&&(s={ommit_long_octet:32}),void 0===o&&(o=0),void 0===l&&(l="");var pe,U=s.ommit_long_octet;if("01"==(pe=x.substr(o,2)))return"00"==($=p(x,o))?l+"BOOLEAN FALSE\n":l+"BOOLEAN TRUE\n";if("02"==pe)return l+"INTEGER "+P($=p(x,o),U)+"\n";if("03"==pe){var $=p(x,o);return f.isASN1HEX($.substr(2))?(b=l+"BITSTRING, encapsulates\n")+m($.substr(2),s,0,l+"  "):l+"BITSTRING "+P($,U)+"\n"}if("04"==pe)return $=p(x,o),f.isASN1HEX($)?(b=l+"OCTETSTRING, encapsulates\n")+m($,s,0,l+"  "):l+"OCTETSTRING "+P($,U)+"\n";if("05"==pe)return l+"NULL\n";if("06"==pe){var S=p(x,o),V=h.asn1.ASN1Util.oidHexToInt(S),T=h.asn1.x509.OID.oid2name(V),K=V.replace(/\./g," ");return""!=T?l+"ObjectIdentifier "+T+" ("+K+")\n":l+"ObjectIdentifier ("+K+")\n"}if("0a"==pe)return l+"ENUMERATED "+parseInt(p(x,o))+"\n";if("0c"==pe)return l+"UTF8String '"+X(p(x,o))+"'\n";if("13"==pe)return l+"PrintableString '"+X(p(x,o))+"'\n";if("14"==pe)return l+"TeletexString '"+X(p(x,o))+"'\n";if("16"==pe)return l+"IA5String '"+X(p(x,o))+"'\n";if("17"==pe)return l+"UTCTime "+X(p(x,o))+"\n";if("18"==pe)return l+"GeneralizedTime "+X(p(x,o))+"\n";if("1a"==pe)return l+"VisualString '"+X(p(x,o))+"'\n";if("1e"==pe)return l+"BMPString '"+Q(p(x,o))+"'\n";if("30"==pe){if("3000"==x.substr(o,4))return l+"SEQUENCE {}\n";b=l+"SEQUENCE\n";var J=s;if((2==(B=_(x,o)).length||3==B.length)&&"06"==x.substr(B[0],2)&&"04"==x.substr(B[B.length-1],2)){T=f.oidname(p(x,B[0]));var de=JSON.parse(JSON.stringify(s));de.x509ExtName=T,J=de}for(var fe=0;fe<B.length;fe++)b+=m(x,J,B[fe],l+"  ");return b}if("31"==pe){b=l+"SET\n";var B=_(x,o);for(fe=0;fe<B.length;fe++)b+=m(x,s,B[fe],l+"  ");return b}if(128&(pe=parseInt(pe,16))){var b,it=31&pe;if(32&pe){for(b=l+"["+it+"]\n",B=_(x,o),fe=0;fe<B.length;fe++)b+=m(x,s,B[fe],l+"  ");return b}return $=p(x,o),Ut.isASN1HEX($)?(b=l+"["+it+"]\n")+m($,s,0,l+"  "):(("68747470"==$.substr(0,8)||"subjectAltName"===s.x509ExtName&&2==it)&&($=X($)),l+"["+it+"] "+$+"\n")}return l+"UNKNOWN("+pe+") "+p(x,o)+"\n"},Ut.parse=function(r){var o=Ut.parse,l=Ut.isASN1HEX,f=Ut.getV,p=Ut.getTLV,m=Ut.getChildIdx,_=h.asn1,x=_.ASN1Util.oidHexToInt,P=_.x509.OID.oid2name,U=X,$=Q,b=mt,S={"0c":"utf8str",12:"numstr",13:"prnstr",14:"telstr",16:"ia5str",17:"utctime",18:"gentime","1a":"visstr","1e":"bmpstr",30:"seq",31:"set"},T=r.substr(0,2),K={},B=f(r,0);if("01"==T)return"0101ff"==r?{bool:!0}:{bool:!1};if("02"==T)return{int:{hex:B}};if("03"==T)try{if("00"!=B.substr(0,2))throw"not encap";var J=B.substr(2);if(!l(J))throw"not encap";return{bitstr:{obj:o(J)}}}catch{var de=null;return B.length<=10&&(de=function C(r){if("string"!=typeof r||r.length%2!=0||!r.match(/^[0-9a-f]+$/))return null;try{var s=parseInt(r.substr(0,2),16);if(s<0||7<s)return null;for(var o=r.substr(2),l="",f=0;f<o.length;f+=2){var p=o.substr(f,2),m=parseInt(p,16).toString(2);l+=m=("0000000"+m).slice(-8)}return l.substr(0,l.length-s)}catch{return null}}(B)),null==de?{bitstr:{hex:B}}:{bitstr:{bin:de}}}else if("04"==T)try{if(!l(B))throw"not encap";return{octstr:{obj:o(B)}}}catch{return{octstr:{hex:B}}}else{if("05"==T)return{null:""};if("06"==T){var fe=x(B),pe=P(fe);return""==pe?{oid:fe}:{oid:pe}}if("0a"==T)return B.length>4?{enum:{hex:B}}:{enum:parseInt(B,16)};if("30"==T||"31"==T)return K[S[T]]=function(Z){for(var me=[],ye=m(Z,0),Te=0;Te<ye.length;Te++){var Ce=p(Z,ye[Te]),Re=o(Ce);me.push(Re)}return me}(r),K;if("14"==T){var it=b(B);return K[S[T]]={str:it},K}if("1e"==T)return it=$(B),K[S[T]]={str:it},K;if(-1!=":0c:12:13:16:17:18:1a:".indexOf(T))return it=U(B),K[S[T]]={str:it},K;if(T.match(/^8[0-9]$/))return null==(it=U(B))|""==it||null!=it.match(/[\x00-\x1F\x7F-\x9F]/)||null!=it.match(/[\u0000-\u001F\u0080\u2013\u009F]/)?{tag:{tag:T,explicit:!1,hex:B}}:{tag:{tag:T,explicit:!1,str:it}};if(!T.match(/^a[0-9]$/)){var ct=new h.asn1.ASN1Object;return ct.hV=B,{asn1:{tlv:T+ct.getLengthHexFromValue()+B}}}try{if(!l(B))throw new Error("not encap");return{tag:{tag:T,explicit:!0,obj:o(B)}}}catch{return{tag:{tag:T,explicit:!0,hex:B}}}}},Ut.isContextTag=function(r,s){var o,l;r=r.toLowerCase();try{o=parseInt(r,16)}catch{return-1}if(void 0===s)return 128==(192&o);try{return!(null==s.match(/^\[[0-9]+\]$/)||(l=parseInt(s.substr(1,s.length-1),10),l>31))&&128==(192&o)&&(31&o)==l}catch{return!1}},Ut.isASN1HEX=function(r){var s=Ut;if(r.length%2==1)return!1;var o=s.getVblen(r,0),l=r.substr(0,2),f=s.getL(r,0);return r.length-l.length-f.length==2*o},Ut.checkStrictDER=function(r,s,o,l,f){var p=Ut;if(void 0===o){if("string"!=typeof r)throw new Error("not hex string");if(r=r.toLowerCase(),!h.lang.String.isHex(r))throw new Error("not hex string");o=r.length,f=(l=r.length/2)<128?1:Math.ceil(l.toString(16))+1}if(p.getL(r,s).length>2*f)throw new Error("L of TLV too long: idx="+s);var _=p.getVblen(r,s);if(_>l)throw new Error("value of L too long than hex: idx="+s);var x=p.getTLV(r,s),P=x.length-2-p.getL(r,s).length;if(P!==2*_)throw new Error("V string length and L's value not the same:"+P+"/"+2*_);if(0===s&&r.length!=x.length)throw new Error("total length and TLV length unmatch:"+r.length+"!="+x.length);var U=r.substr(s,2);if("02"===U){var $=p.getVidx(r,s);if("00"==r.substr($,2)&&r.charCodeAt($+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(U,16)){for(var b=p.getVblen(r,s),S=0,V=p.getChildIdx(r,s),T=0;T<V.length;T++)S+=p.getTLV(r,V[T]).length,p.checkStrictDER(r,V[T],o,l,f);if(2*b!=S)throw new Error("sum of children's TLV length and L unmatch: "+2*b+"!="+S)}},Ut.oidname=function(r){var s=h.asn1;h.lang.String.isHex(r)&&(r=s.ASN1Util.oidHexToInt(r));var o=s.x509.OID.oid2name(r);return""===o&&(o=r),o},(typeof h>"u"||!h)&&(h={}),(typeof h.asn1>"u"||!h.asn1)&&(h.asn1={}),(typeof h.asn1.x509>"u"||!h.asn1.x509)&&(h.asn1.x509={}),h.asn1.x509.Certificate=function(r){h.asn1.x509.Certificate.superclass.constructor.call(this);var o=h.asn1,l=o.DERBitString,f=o.DERSequence,p=o.x509,m=p.TBSCertificate,_=p.AlgorithmIdentifier;this.params=void 0,this.setByParam=function(x){this.params=x},this.sign=function(){var x=this.params,P=x.sigalg;null!=x.sigalg.name&&(P=x.sigalg.name);var U=x.tbsobj.tohex(),$=new h.crypto.Signature({alg:P});$.init(x.cakey),$.updateHex(U),x.sighex=$.sign()},this.getPEM=function(){return kr(this.tohex(),"CERTIFICATE")},this.tohex=function(){var x=this.params;if((null==x.tbsobj||null==x.tbsobj)&&(x.tbsobj=new m(x)),null==x.sighex&&null!=x.cakey&&this.sign(),null==x.sighex)throw new Error("sighex or cakey parameter not defined");var P=[];return P.push(x.tbsobj),P.push(new _({name:x.sigalg})),P.push(new l({hex:"00"+x.sighex})),new f({array:P}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&(this.params=r)},ne(h.asn1.x509.Certificate,h.asn1.ASN1Object),h.asn1.x509.TBSCertificate=function(r){h.asn1.x509.TBSCertificate.superclass.constructor.call(this);var o=h.asn1,l=o.x509,f=o.DERTaggedObject,p=o.DERInteger,m=o.DERSequence,_=l.AlgorithmIdentifier,x=l.Time,P=l.X500Name,U=l.Extensions,$=l.SubjectPublicKeyInfo;this.params=null,this.setByParam=function(b){this.params=b},this.tohex=function(){var b=[],S=this.params;if(null!=S.version||1!=S.version){var V=2;null!=S.version&&(V=S.version-1);var T=new f({obj:new p({int:V})});b.push(T)}return b.push(new p(S.serial)),b.push(new _({name:S.sigalg})),b.push(new P(S.issuer)),b.push(new m({array:[new x(S.notbefore),new x(S.notafter)]})),b.push(new P(S.subject)),b.push(new $($e.getKey(S.sbjpubkey))),void 0!==S.ext&&S.ext.length>0&&b.push(new f({tag:"a3",obj:new U(S.ext)})),new h.asn1.DERSequence({array:b}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&this.setByParam(r)},ne(h.asn1.x509.TBSCertificate,h.asn1.ASN1Object),h.asn1.x509.Extensions=function(r){h.asn1.x509.Extensions.superclass.constructor.call(this);var o=h.asn1,l=o.DERSequence,f=o.x509;this.aParam=[],this.setByParam=function(p){this.aParam=p},this.tohex=function(){for(var p=[],m=0;m<this.aParam.length;m++){var _=this.aParam[m],x=_.extname,P=null;if(null!=_.extn)P=new f.PrivateExtension(_);else if("subjectKeyIdentifier"==x)P=new f.SubjectKeyIdentifier(_);else if("keyUsage"==x)P=new f.KeyUsage(_);else if("subjectAltName"==x)P=new f.SubjectAltName(_);else if("issuerAltName"==x)P=new f.IssuerAltName(_);else if("basicConstraints"==x)P=new f.BasicConstraints(_);else if("nameConstraints"==x)P=new f.NameConstraints(_);else if("cRLDistributionPoints"==x)P=new f.CRLDistributionPoints(_);else if("certificatePolicies"==x)P=new f.CertificatePolicies(_);else if("policyMappings"==x)P=new f.PolicyMappings(_);else if("policyConstraints"==x)P=new f.PolicyConstraints(_);else if("inhibitAnyPolicy"==x)P=new f.InhibitAnyPolicy(_);else if("authorityKeyIdentifier"==x)P=new f.AuthorityKeyIdentifier(_);else if("extKeyUsage"==x)P=new f.ExtKeyUsage(_);else if("authorityInfoAccess"==x)P=new f.AuthorityInfoAccess(_);else if("cRLNumber"==x)P=new f.CRLNumber(_);else if("cRLReason"==x)P=new f.CRLReason(_);else if("ocspNonce"==x)P=new f.OCSPNonce(_);else if("ocspNoCheck"==x)P=new f.OCSPNoCheck(_);else if("adobeTimeStamp"==x)P=new f.AdobeTimeStamp(_);else{if("subjectDirectoryAttributes"!=x)throw new Error("extension not supported:"+JSON.stringify(_));P=new f.SubjectDirectoryAttributes(_)}null!=P&&p.push(P)}return new l({array:p}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},ne(h.asn1.x509.Extensions,h.asn1.ASN1Object),h.asn1.x509.Extension=function(r){h.asn1.x509.Extension.superclass.constructor.call(this);var l=h.asn1,f=l.DERObjectIdentifier,p=l.DEROctetString,_=l.DERBoolean,x=l.DERSequence;this.tohex=function(){var P=new f({oid:this.oid}),U=new p({hex:this.getExtnValueHex()}),$=new Array;return $.push(P),this.critical&&$.push(new _),$.push(U),new x({array:$}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.critical=!1,void 0!==r&&void 0!==r.critical&&(this.critical=r.critical)},ne(h.asn1.x509.Extension,h.asn1.ASN1Object),h.asn1.x509.KeyUsage=function(r){h.asn1.x509.KeyUsage.superclass.constructor.call(this,r);var s=Error,o={digitalSignature:0,nonRepudiation:1,keyEncipherment:2,dataEncipherment:3,keyAgreement:4,keyCertSign:5,cRLSign:6,encipherOnly:7,decipherOnly:8};this.getExtnValueHex=function(){var l=this.getBinValue();return this.asn1ExtnValue=new h.asn1.DERBitString({bin:l}),this.asn1ExtnValue.tohex()},this.getBinValue=function(){var l=this.params;if("object"!=typeof l||"object"!=typeof l.names&&"string"!=typeof l.bin)throw new s("parameter not yet set");if(null!=l.names)return M(l.names,o);if(null!=l.bin)return l.bin;throw new s("parameter not set properly")},this.oid="2.5.29.15",void 0!==r&&(this.params=r)},ne(h.asn1.x509.KeyUsage,h.asn1.x509.Extension),h.asn1.x509.BasicConstraints=function(r){h.asn1.x509.BasicConstraints.superclass.constructor.call(this,r);var s=h.asn1,o=s.DERBoolean,l=s.DERInteger,f=s.DERSequence;this.getExtnValueHex=function(){var _=new Array;this.cA&&_.push(new o),this.pathLen>-1&&_.push(new l({int:this.pathLen}));var x=new f({array:_});return this.asn1ExtnValue=x,this.asn1ExtnValue.tohex()},this.oid="2.5.29.19",this.cA=!1,this.pathLen=-1,void 0!==r&&(void 0!==r.cA&&(this.cA=r.cA),void 0!==r.pathLen&&(this.pathLen=r.pathLen))},ne(h.asn1.x509.BasicConstraints,h.asn1.x509.Extension),h.asn1.x509.CRLDistributionPoints=function(r){h.asn1.x509.CRLDistributionPoints.superclass.constructor.call(this,r);var o=h.asn1,l=o.x509;this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.setByDPArray=function(f){for(var p=[],m=0;m<f.length;m++)if(f[m]instanceof h.asn1.ASN1Object)p.push(f[m]);else{var _=new l.DistributionPoint(f[m]);p.push(_)}this.asn1ExtnValue=new o.DERSequence({array:p})},this.setByOneURI=function(f){var p=new l.DistributionPoint({fulluri:f});this.setByDPArray([p])},this.oid="2.5.29.31",void 0!==r&&(void 0!==r.array?this.setByDPArray(r.array):void 0!==r.uri&&this.setByOneURI(r.uri))},ne(h.asn1.x509.CRLDistributionPoints,h.asn1.x509.Extension),h.asn1.x509.DistributionPoint=function(r){h.asn1.x509.DistributionPoint.superclass.constructor.call(this);var l=h.asn1,f=l.x509.DistributionPointName;this.tohex=function(){var p=new l.DERSequence;if(null!=this.asn1DP){var m=new l.DERTaggedObject({explicit:!0,tag:"a0",obj:this.asn1DP});p.appendASN1Object(m)}return this.hTLV=p.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&(void 0!==r.dpobj?this.asn1DP=r.dpobj:void 0!==r.dpname?this.asn1DP=new f(r.dpname):void 0!==r.fulluri&&(this.asn1DP=new f({full:[{uri:r.fulluri}]})))},ne(h.asn1.x509.DistributionPoint,h.asn1.ASN1Object),h.asn1.x509.DistributionPointName=function(r){h.asn1.x509.DistributionPointName.superclass.constructor.call(this);var m=h.asn1,_=m.DERTaggedObject;if(this.tohex=function(){if("full"!=this.type)throw new Error("currently type shall be 'full': "+this.type);return this.asn1Obj=new _({explicit:!1,tag:this.tag,obj:this.asn1V}),this.hTLV=this.asn1Obj.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==r)if(m.x509.GeneralNames.prototype.isPrototypeOf(r))this.type="full",this.tag="a0",this.asn1V=r;else{if(void 0===r.full)throw new Error("This class supports GeneralNames only as argument");this.type="full",this.tag="a0",this.asn1V=new m.x509.GeneralNames(r.full)}},ne(h.asn1.x509.DistributionPointName,h.asn1.ASN1Object),h.asn1.x509.CertificatePolicies=function(r){h.asn1.x509.CertificatePolicies.superclass.constructor.call(this,r);var o=h.asn1,f=o.DERSequence,p=o.x509.PolicyInformation;this.params=null,this.getExtnValueHex=function(){for(var m=[],_=0;_<this.params.array.length;_++)m.push(new p(this.params.array[_]));var x=new f({array:m});return this.asn1ExtnValue=x,this.asn1ExtnValue.tohex()},this.oid="2.5.29.32",void 0!==r&&(this.params=r)},ne(h.asn1.x509.CertificatePolicies,h.asn1.x509.Extension),h.asn1.x509.PolicyInformation=function(r){h.asn1.x509.PolicyInformation.superclass.constructor.call(this,r);var s=h.asn1,o=s.DERSequence,l=s.DERObjectIdentifier,f=s.x509.PolicyQualifierInfo;this.params=null,this.tohex=function(){if(void 0===this.params.policyoid&&void 0===this.params.array)throw new Error("parameter oid and array missing");var p=[new l(this.params.policyoid)];if(void 0!==this.params.array){for(var m=[],_=0;_<this.params.array.length;_++)m.push(new f(this.params.array[_]));m.length>0&&p.push(new o({array:m}))}return new o({array:p}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&(this.params=r)},ne(h.asn1.x509.PolicyInformation,h.asn1.ASN1Object),h.asn1.x509.PolicyQualifierInfo=function(r){h.asn1.x509.PolicyQualifierInfo.superclass.constructor.call(this,r);var s=h.asn1,o=s.DERSequence,l=s.DERIA5String,f=s.DERObjectIdentifier,p=s.x509.UserNotice;this.params=null,this.tohex=function(){return void 0!==this.params.cps?new o({array:[new f({oid:"1.3.6.1.5.5.7.2.1"}),new l({str:this.params.cps})]}).tohex():null!=this.params.unotice?new o({array:[new f({oid:"1.3.6.1.5.5.7.2.2"}),new p(this.params.unotice)]}).tohex():void 0},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&(this.params=r)},ne(h.asn1.x509.PolicyQualifierInfo,h.asn1.ASN1Object),h.asn1.x509.UserNotice=function(r){h.asn1.x509.UserNotice.superclass.constructor.call(this,r);var s=h.asn1.DERSequence,l=h.asn1.x509.DisplayText,f=h.asn1.x509.NoticeReference;this.params=null,this.tohex=function(){var p=[];return void 0!==this.params.noticeref&&p.push(new f(this.params.noticeref)),void 0!==this.params.exptext&&p.push(new l(this.params.exptext)),new s({array:p}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&(this.params=r)},ne(h.asn1.x509.UserNotice,h.asn1.ASN1Object),h.asn1.x509.NoticeReference=function(r){h.asn1.x509.NoticeReference.superclass.constructor.call(this,r);var s=h.asn1.DERSequence,o=h.asn1.DERInteger,l=h.asn1.x509.DisplayText;this.params=null,this.tohex=function(){var f=[];if(void 0!==this.params.org&&f.push(new l(this.params.org)),void 0!==this.params.noticenum){for(var p=[],m=this.params.noticenum,_=0;_<m.length;_++)p.push(new o(m[_]));f.push(new s({array:p}))}if(0==f.length)throw new Error("parameter is empty");return new s({array:f}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&(this.params=r)},ne(h.asn1.x509.NoticeReference,h.asn1.ASN1Object),h.asn1.x509.DisplayText=function(r){h.asn1.x509.DisplayText.superclass.constructor.call(this,r),this.hT="0c",void 0!==r&&("ia5"===r.type?this.hT="16":"vis"===r.type?this.hT="1a":"bmp"===r.type&&(this.hT="1e"))},ne(h.asn1.x509.DisplayText,h.asn1.DERAbstractString),h.asn1.x509.PolicyMappings=function(r){h.asn1.x509.PolicyMappings.superclass.constructor.call(this,r);var f=h.asn1.ASN1Util.newObject;this.params=null,this.getExtnValueHex=function(){for(var p=this.params,m=[],_=0;_<p.array.length;_++){var x=p.array[_];m.push({seq:[{oid:x[0]},{oid:x[1]}]})}return this.asn1ExtnValue=f({seq:m}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.33",void 0!==r&&(this.params=r)},ne(h.asn1.x509.PolicyMappings,h.asn1.x509.Extension),h.asn1.x509.PolicyConstraints=function(r){h.asn1.x509.PolicyConstraints.superclass.constructor.call(this,r);var f=h.asn1.ASN1Util.newObject;this.params=null,this.getExtnValueHex=function(){var p=this.params,m=[];return null!=p.reqexp&&m.push({tag:{tagi:"80",obj:{int:p.reqexp}}}),null!=p.inhibit&&m.push({tag:{tagi:"81",obj:{int:p.inhibit}}}),this.asn1ExtnValue=f({seq:m}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.36",void 0!==r&&(this.params=r)},ne(h.asn1.x509.PolicyConstraints,h.asn1.x509.Extension),h.asn1.x509.InhibitAnyPolicy=function(r){h.asn1.x509.InhibitAnyPolicy.superclass.constructor.call(this,r);var f=h.asn1.ASN1Util.newObject;this.params=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=f({int:this.params.skip}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.54",void 0!==r&&(this.params=r)},ne(h.asn1.x509.InhibitAnyPolicy,h.asn1.x509.Extension),h.asn1.x509.NameConstraints=function(r){h.asn1.x509.NameConstraints.superclass.constructor.call(this,r);var o=h.asn1,f=o.ASN1Util.newObject,p=o.x509.GeneralSubtree;this.params=null,this.getExtnValueHex=function(){var m=this.params,_=[];if(null!=m.permit&&null!=m.permit.length){for(var x=[],P=0;P<m.permit.length;P++)x.push(new p(m.permit[P]));_.push({tag:{tagi:"a0",obj:{seq:x}}})}if(null!=m.exclude&&null!=m.exclude.length){var U=[];for(P=0;P<m.exclude.length;P++)U.push(new p(m.exclude[P]));_.push({tag:{tagi:"a1",obj:{seq:U}}})}return this.asn1ExtnValue=f({seq:_}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.30",void 0!==r&&(this.params=r)},ne(h.asn1.x509.NameConstraints,h.asn1.x509.Extension),h.asn1.x509.GeneralSubtree=function(r){h.asn1.x509.GeneralSubtree.superclass.constructor.call(this);var s=h.asn1,l=s.x509.GeneralName,f=s.ASN1Util.newObject;this.params=null,this.setByParam=function(p){this.params=p},this.tohex=function(){var p=this.params,m=[new l(p)];return null!=p.min&&m.push({tag:{tagi:"80",obj:{int:p.min}}}),null!=p.max&&m.push({tag:{tagi:"81",obj:{int:p.max}}}),f({seq:m}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&this.setByParam(r)},ne(h.asn1.x509.GeneralSubtree,h.asn1.ASN1Object),h.asn1.x509.ExtKeyUsage=function(r){h.asn1.x509.ExtKeyUsage.superclass.constructor.call(this,r);var o=h.asn1;this.setPurposeArray=function(l){this.asn1ExtnValue=new o.DERSequence;for(var f=0;f<l.length;f++){var p=new o.DERObjectIdentifier(l[f]);this.asn1ExtnValue.appendASN1Object(p)}},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.37",void 0!==r&&void 0!==r.array&&this.setPurposeArray(r.array)},ne(h.asn1.x509.ExtKeyUsage,h.asn1.x509.Extension),h.asn1.x509.AuthorityKeyIdentifier=function(r){h.asn1.x509.AuthorityKeyIdentifier.superclass.constructor.call(this,r);var o=h.asn1,l=o.DERTaggedObject,f=o.x509.GeneralNames;this.asn1KID=null,this.asn1CertIssuer=null,this.asn1CertSN=null,this.getExtnValueHex=function(){var m=new Array;this.asn1KID&&m.push(new l({explicit:!1,tag:"80",obj:this.asn1KID})),this.asn1CertIssuer&&m.push(new l({explicit:!1,tag:"a1",obj:new f([{dn:this.asn1CertIssuer}])})),this.asn1CertSN&&m.push(new l({explicit:!1,tag:"82",obj:this.asn1CertSN}));var _=new o.DERSequence({array:m});return this.asn1ExtnValue=_,this.asn1ExtnValue.tohex()},this.setKIDByParam=function(m){if(void 0!==m.str||void 0!==m.hex)this.asn1KID=new h.asn1.DEROctetString(m);else if("object"==typeof m&&h.crypto.Util.isKey(m)||"string"==typeof m&&-1!=m.indexOf("BEGIN ")){var _=m;"string"==typeof m&&(_=$e.getKey(m));var x=$e.getKeyID(_);this.asn1KID=new h.asn1.DEROctetString({hex:x})}},this.setCertIssuerByParam=function(m){void 0!==m.str||void 0!==m.ldapstr||void 0!==m.hex||void 0!==m.certsubject||void 0!==m.certissuer?this.asn1CertIssuer=new h.asn1.x509.X500Name(m):"string"==typeof m&&-1!=m.indexOf("BEGIN ")&&-1!=m.indexOf("CERTIFICATE")&&(this.asn1CertIssuer=new h.asn1.x509.X500Name({certissuer:m}))},this.setCertSNByParam=function(m){if(void 0!==m.str||void 0!==m.bigint||void 0!==m.hex)this.asn1CertSN=new h.asn1.DERInteger(m);else if("string"==typeof m&&-1!=m.indexOf("BEGIN ")&&m.indexOf("CERTIFICATE")){var _=new rn;_.readCertPEM(m);var x=_.getSerialNumberHex();this.asn1CertSN=new h.asn1.DERInteger({hex:x})}},this.oid="2.5.29.35",void 0!==r&&(void 0!==r.kid&&this.setKIDByParam(r.kid),void 0!==r.issuer&&this.setCertIssuerByParam(r.issuer),void 0!==r.sn&&this.setCertSNByParam(r.sn),void 0!==r.issuersn&&"string"==typeof r.issuersn&&-1!=r.issuersn.indexOf("BEGIN ")&&r.issuersn.indexOf("CERTIFICATE")&&(this.setCertSNByParam(r.issuersn),this.setCertIssuerByParam(r.issuersn)))},ne(h.asn1.x509.AuthorityKeyIdentifier,h.asn1.x509.Extension),h.asn1.x509.SubjectKeyIdentifier=function(r){h.asn1.x509.SubjectKeyIdentifier.superclass.constructor.call(this,r);var l=h.asn1.DEROctetString;this.asn1KID=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=this.asn1KID,this.asn1ExtnValue.tohex()},this.setKIDByParam=function(f){if(void 0!==f.str||void 0!==f.hex)this.asn1KID=new l(f);else if("object"==typeof f&&h.crypto.Util.isKey(f)||"string"==typeof f&&-1!=f.indexOf("BEGIN")){var p=f;"string"==typeof f&&(p=$e.getKey(f));var m=$e.getKeyID(p);this.asn1KID=new h.asn1.DEROctetString({hex:m})}},this.oid="2.5.29.14",void 0!==r&&void 0!==r.kid&&this.setKIDByParam(r.kid)},ne(h.asn1.x509.SubjectKeyIdentifier,h.asn1.x509.Extension),h.asn1.x509.AuthorityInfoAccess=function(r){h.asn1.x509.AuthorityInfoAccess.superclass.constructor.call(this,r),this.setAccessDescriptionArray=function(s){for(var o=new Array,f=h.asn1,p=f.DERSequence,m=f.DERObjectIdentifier,_=f.x509.GeneralName,x=0;x<s.length;x++){var P,U=s[x];if(void 0!==U.ocsp)P=new p({array:[new m({oid:"1.3.6.1.5.5.7.48.1"}),new _({uri:U.ocsp})]});else{if(void 0===U.caissuer)throw new Error("unknown AccessMethod parameter: "+JSON.stringify(U));P=new p({array:[new m({oid:"1.3.6.1.5.5.7.48.2"}),new _({uri:U.caissuer})]})}o.push(P)}this.asn1ExtnValue=new p({array:o})},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.1.1",void 0!==r&&void 0!==r.array&&this.setAccessDescriptionArray(r.array)},ne(h.asn1.x509.AuthorityInfoAccess,h.asn1.x509.Extension),h.asn1.x509.SubjectAltName=function(r){h.asn1.x509.SubjectAltName.superclass.constructor.call(this,r),this.setNameArray=function(s){this.asn1ExtnValue=new h.asn1.x509.GeneralNames(s)},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.17",void 0!==r&&void 0!==r.array&&this.setNameArray(r.array)},ne(h.asn1.x509.SubjectAltName,h.asn1.x509.Extension),h.asn1.x509.IssuerAltName=function(r){h.asn1.x509.IssuerAltName.superclass.constructor.call(this,r),this.setNameArray=function(s){this.asn1ExtnValue=new h.asn1.x509.GeneralNames(s)},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.18",void 0!==r&&void 0!==r.array&&this.setNameArray(r.array)},ne(h.asn1.x509.IssuerAltName,h.asn1.x509.Extension),h.asn1.x509.SubjectDirectoryAttributes=function(r){h.asn1.x509.SubjectDirectoryAttributes.superclass.constructor.call(this,r);var s=h.asn1,o=s.DERSequence,l=s.ASN1Util.newObject,f=s.x509.OID.name2oid;this.params=null,this.getExtnValueHex=function(){for(var p=[],m=0;m<this.params.array.length;m++){var _=this.params.array[m];if(null==_.attr||null==_.array){var P={seq:[{oid:"1.2.3.4"},{set:[{utf8str:"DE"}]}]};if("dateOfBirth"==_.attr)P.seq[0].oid=f(_.attr),P.seq[1].set[0]={gentime:_.str};else if("placeOfBirth"==_.attr)P.seq[0].oid=f(_.attr),P.seq[1].set[0]={utf8str:_.str};else if("gender"==_.attr)P.seq[0].oid=f(_.attr),P.seq[1].set[0]={prnstr:_.str};else if("countryOfCitizenship"==_.attr)P.seq[0].oid=f(_.attr),P.seq[1].set[0]={prnstr:_.str};else{if("countryOfResidence"!=_.attr)throw new Error("unsupported attribute: "+_.attr);P.seq[0].oid=f(_.attr),P.seq[1].set[0]={prnstr:_.str}}p.push(new l(P))}else p.push(l({seq:[{oid:_.attr},{set:_.array}]}))}var U=new o({array:p});return this.asn1ExtnValue=U,this.asn1ExtnValue.tohex()},this.oid="2.5.29.9",void 0!==r&&(this.params=r)},ne(h.asn1.x509.SubjectDirectoryAttributes,h.asn1.x509.Extension),h.asn1.x509.PrivateExtension=function(r){h.asn1.x509.PrivateExtension.superclass.constructor.call(this,r);var o=h.lang.String.isHex,l=h.asn1,f=l.x509.OID.name2oid,p=l.ASN1Util.newObject;this.params=null,this.setByParam=function(m){this.oid=f(m.extname),this.params=m},this.getExtnValueHex=function(){if(null==this.params.extname||null==this.params.extn)throw new Error("extname or extnhex not specified");var m=this.params.extn;if("string"==typeof m&&o(m))return m;if("object"==typeof m)try{return p(m).tohex()}catch{}throw new Error("unsupported extn value")},null!=r&&this.setByParam(r)},ne(h.asn1.x509.PrivateExtension,h.asn1.x509.Extension),h.asn1.x509.CRL=function(r){h.asn1.x509.CRL.superclass.constructor.call(this);var o=h.asn1,l=o.DERSequence,f=o.DERBitString,p=o.x509,m=p.AlgorithmIdentifier,_=p.TBSCertList;this.params=void 0,this.setByParam=function(x){this.params=x},this.sign=function(){var x=new _(this.params).tohex(),P=new h.crypto.Signature({alg:this.params.sigalg});P.init(this.params.cakey),P.updateHex(x);var U=P.sign();this.params.sighex=U},this.getPEM=function(){return kr(this.tohex(),"X509 CRL")},this.tohex=function(){var x=this.params;if(null==x.tbsobj&&(x.tbsobj=new _(x)),null==x.sighex&&null!=x.cakey&&this.sign(),null==x.sighex)throw new Error("sighex or cakey parameter not defined");var P=[];return P.push(x.tbsobj),P.push(new m({name:x.sigalg})),P.push(new f({hex:"00"+x.sighex})),new l({array:P}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&(this.params=r)},ne(h.asn1.x509.CRL,h.asn1.ASN1Object),h.asn1.x509.TBSCertList=function(r){h.asn1.x509.TBSCertList.superclass.constructor.call(this);var o=h.asn1,l=o.DERInteger,f=o.DERSequence,p=o.DERTaggedObject,_=o.x509,x=_.AlgorithmIdentifier,P=_.Time,U=_.Extensions,$=_.X500Name;this.params=null,this.setByParam=function(b){this.params=b},this.getRevCertSequence=function(){for(var b=[],S=this.params.revcert,V=0;V<S.length;V++){var T=[new l(S[V].sn),new P(S[V].date)];null!=S[V].ext&&T.push(new U(S[V].ext)),b.push(new f({array:T}))}return new f({array:b})},this.tohex=function(){var b=[],S=this.params;if(null!=S.version){var T=new l({int:S.version-1});b.push(T)}if(b.push(new x({name:S.sigalg})),b.push(new $(S.issuer)),b.push(new P(S.thisupdate)),null!=S.nextupdate&&b.push(new P(S.nextupdate)),null!=S.revcert&&b.push(this.getRevCertSequence()),null!=S.ext){var K=new U(S.ext);b.push(new p({tag:"a0",explicit:!0,obj:K}))}return new f({array:b}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&this.setByParam(r)},ne(h.asn1.x509.TBSCertList,h.asn1.ASN1Object),h.asn1.x509.CRLEntry=function(r){h.asn1.x509.CRLEntry.superclass.constructor.call(this);var f=h.asn1;this.setCertSerial=function(p){this.sn=new f.DERInteger(p)},this.setRevocationDate=function(p){this.time=new f.x509.Time(p)},this.tohex=function(){var p=new f.DERSequence({array:[this.sn,this.time]});return this.TLV=p.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&(void 0!==r.time&&this.setRevocationDate(r.time),void 0!==r.sn&&this.setCertSerial(r.sn))},ne(h.asn1.x509.CRLEntry,h.asn1.ASN1Object),h.asn1.x509.CRLNumber=function(r){h.asn1.x509.CRLNumber.superclass.constructor.call(this,r),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new h.asn1.DERInteger(this.params.num),this.asn1ExtnValue.tohex()},this.oid="2.5.29.20",null!=r&&(this.params=r)},ne(h.asn1.x509.CRLNumber,h.asn1.x509.Extension),h.asn1.x509.CRLReason=function(r){h.asn1.x509.CRLReason.superclass.constructor.call(this,r),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new h.asn1.DEREnumerated(this.params.code),this.asn1ExtnValue.tohex()},this.oid="2.5.29.21",null!=r&&(this.params=r)},ne(h.asn1.x509.CRLReason,h.asn1.x509.Extension),h.asn1.x509.OCSPNonce=function(r){h.asn1.x509.OCSPNonce.superclass.constructor.call(this,r),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new h.asn1.DEROctetString(this.params),this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.48.1.2",null!=r&&(this.params=r)},ne(h.asn1.x509.OCSPNonce,h.asn1.x509.Extension),h.asn1.x509.OCSPNoCheck=function(r){h.asn1.x509.OCSPNoCheck.superclass.constructor.call(this,r),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new h.asn1.DERNull,this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.48.1.5",null!=r&&(this.params=r)},ne(h.asn1.x509.OCSPNoCheck,h.asn1.x509.Extension),h.asn1.x509.AdobeTimeStamp=function(r){h.asn1.x509.AdobeTimeStamp.superclass.constructor.call(this,r);var o=h.asn1,l=o.DERInteger,f=o.DERBoolean,p=o.DERSequence,m=o.x509.GeneralName;this.params=null,this.getExtnValueHex=function(){var _=this.params,x=[new l(1)];return x.push(new m({uri:_.uri})),null!=_.reqauth&&x.push(new f(_.reqauth)),this.asn1ExtnValue=new p({array:x}),this.asn1ExtnValue.tohex()},this.oid="1.2.840.113583.1.1.9.1",void 0!==r&&this.setByParam(r)},ne(h.asn1.x509.AdobeTimeStamp,h.asn1.x509.Extension),h.asn1.x509.X500Name=function(r){h.asn1.x509.X500Name.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var o=h.asn1,l=o.x509,f=l.RDN;this.setByString=function(m,_){void 0!==_&&(this.sRule=_);var x=m.split("/");x.shift();for(var P=[],U=0;U<x.length;U++)if(x[U].match(/^[^=]+=.+$/))P.push(x[U]);else{var $=P.length-1;P[$]=P[$]+"/"+x[U]}for(U=0;U<P.length;U++)this.asn1Array.push(new f({str:P[U],rule:this.sRule}))},this.setByLdapString=function(m,_){void 0!==_&&(this.sRule=_);var x=l.X500Name.ldapToCompat(m);this.setByString(x,_)},this.setByObject=function(m,_){for(var x in void 0!==_&&(this.sRule=_),m)if(m.hasOwnProperty(x)){var P=new f({str:x+"="+m[x],rule:this.sRule});this.asn1Array?this.asn1Array.push(P):this.asn1Array=[P]}},this.setByParam=function(m){if(void 0!==m.rule&&(this.sRule=m.rule),void 0!==m.array)this.paramArray=m.array;else if(void 0!==m.str)this.setByString(m.str);else if(void 0!==m.ldapstr)this.setByLdapString(m.ldapstr);else if(void 0!==m.hex)this.hTLV=m.hex;else if(void 0!==m.certissuer)(_=new rn).readCertPEM(m.certissuer),this.hTLV=_.getIssuerHex();else if(void 0!==m.certsubject){var _;(_=new rn).readCertPEM(m.certsubject),this.hTLV=_.getSubjectHex()}else"object"==typeof m&&void 0===m.certsubject&&void 0===m.certissuer&&this.setByObject(m)},this.tohex=function(){if("string"==typeof this.hTLV)return this.hTLV;if(0==this.asn1Array.length&&this.paramArray.length>0)for(var m=0;m<this.paramArray.length;m++){var _={array:this.paramArray[m]};"utf8"!=this.sRule&&(_.rule=this.sRule);var x=new f(_);this.asn1Array.push(x)}var P=new o.DERSequence({array:this.asn1Array});return this.hTLV=P.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&this.setByParam(r)},ne(h.asn1.x509.X500Name,h.asn1.ASN1Object),h.asn1.x509.X500Name.compatToLDAP=function(r){if("/"!==r.substr(0,1))throw"malformed input";var o=(r=r.substr(1)).split("/");return o.reverse(),o=o.map(function(l){return l.replace(/,/,"\\,")}),o.join(",")},h.asn1.x509.X500Name.onelineToLDAP=function(r){return h.asn1.x509.X500Name.compatToLDAP(r)},h.asn1.x509.X500Name.ldapToCompat=function(r){for(var s=r.split(","),o=!1,l=[],f=0;s.length>0;f++){var p=s.shift();if(!0===o){var _=(l.pop()+","+p).replace(/\\,/g,",");l.push(_),o=!1}else l.push(p);"\\"===p.substr(-1,1)&&(o=!0)}return l=l.map(function(x){return x.replace("/","\\/")}),l.reverse(),"/"+l.join("/")},h.asn1.x509.X500Name.ldapToOneline=function(r){return h.asn1.x509.X500Name.ldapToCompat(r)},h.asn1.x509.RDN=function(r){h.asn1.x509.RDN.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var s=h.asn1.x509.AttributeTypeAndValue;this.setByParam=function(o){void 0!==o.rule&&(this.sRule=o.rule),void 0!==o.str&&this.addByMultiValuedString(o.str),void 0!==o.array&&(this.paramArray=o.array)},this.addByString=function(o){this.asn1Array.push(new h.asn1.x509.AttributeTypeAndValue({str:o,rule:this.sRule}))},this.addByMultiValuedString=function(o){for(var l=h.asn1.x509.RDN.parseString(o),f=0;f<l.length;f++)this.addByString(l[f])},this.tohex=function(){if(0==this.asn1Array.length&&this.paramArray.length>0)for(var o=0;o<this.paramArray.length;o++){var l=this.paramArray[o];void 0!==l.rule&&"utf8"!=this.sRule&&(l.rule=this.sRule);var f=new s(l);this.asn1Array.push(f)}var p=new h.asn1.DERSet({array:this.asn1Array});return this.TLV=p.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&this.setByParam(r)},ne(h.asn1.x509.RDN,h.asn1.ASN1Object),h.asn1.x509.RDN.parseString=function(r){for(var s=r.split(/\+/),o=!1,l=[],f=0;s.length>0;f++){var p=s.shift();if(!0===o){var _=(l.pop()+"+"+p).replace(/\\\+/g,"+");l.push(_),o=!1}else l.push(p);"\\"===p.substr(-1,1)&&(o=!0)}var x=!1,P=[];for(f=0;l.length>0;f++){if(p=l.shift(),!0===x){var U=P.pop();p.match(/"$/)?(_=(U+"+"+p).replace(/^([^=]+)="(.*)"$/,"$1=$2"),P.push(_),x=!1):P.push(U+"+"+p)}else P.push(p);p.match(/^[^=]+="/)&&(x=!0)}return P},h.asn1.x509.AttributeTypeAndValue=function(r){h.asn1.x509.AttributeTypeAndValue.superclass.constructor.call(this),this.sRule="utf8",this.sType=null,this.sValue=null,this.dsType=null;var o=h.asn1,l=o.DERSequence,f=o.DERUTF8String,p=o.DERPrintableString,m=o.DERTeletexString,_=o.DERIA5String,x=o.DERVisibleString,P=o.DERBMPString,U=h.lang.String.isMail,$=h.lang.String.isPrintable;this.setByParam=function(b){if(void 0!==b.rule&&(this.sRule=b.rule),void 0!==b.ds&&(this.dsType=b.ds),void 0===b.value&&void 0!==b.str){var V=b.str.match(/^([^=]+)=(.+)$/);if(!V)throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr);this.sType=V[1],this.sValue=V[2]}else this.sType=b.type,this.sValue=b.value},this.setByString=function(b,S){void 0!==S&&(this.sRule=S);var V=b.match(/^([^=]+)=(.+)$/);if(!V)throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr);this.setByAttrTypeAndValueStr(V[1],V[2])},this._getDsType=function(){var b=this.sType,S=this.sValue,V=this.sRule;return"prn"===V?"CN"==b&&U(S)?"ia5":$(S)?"prn":"utf8":"utf8"===V?"CN"==b&&U(S)?"ia5":"C"==b?"prn":"utf8":"utf8"},this.setByAttrTypeAndValueStr=function(b,S,V){void 0!==V&&(this.sRule=V),this.sType=b,this.sValue=S},this.getValueObj=function(b,S){if("utf8"==b)return new f({str:S});if("prn"==b)return new p({str:S});if("tel"==b)return new m({str:S});if("ia5"==b)return new _({str:S});if("vis"==b)return new x({str:S});if("bmp"==b)return new P({str:S});throw new Error("unsupported directory string type: type="+b+" value="+S)},this.tohex=function(){null==this.dsType&&(this.dsType=this._getDsType());var b=h.asn1.x509.OID.atype2obj(this.sType),S=this.getValueObj(this.dsType,this.sValue),V=new l({array:[b,S]});return this.TLV=V.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&this.setByParam(r)},ne(h.asn1.x509.AttributeTypeAndValue,h.asn1.ASN1Object),h.asn1.x509.SubjectPublicKeyInfo=function(r){h.asn1.x509.SubjectPublicKeyInfo.superclass.constructor.call(this);var f=h.asn1,p=f.DERInteger,m=f.DERBitString,_=f.DERObjectIdentifier,x=f.DERSequence,P=f.ASN1Util.newObject,$=f.x509.AlgorithmIdentifier;this.getASN1Object=function(){if(null==this.asn1AlgId||null==this.asn1SubjPKey)throw"algId and/or subjPubKey not set";return new x({array:[this.asn1AlgId,this.asn1SubjPKey]})},this.tohex=function(){var T=this.getASN1Object();return this.hTLV=T.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},this.setPubKey=function(T){try{if(T instanceof mn){var B=P({seq:[{int:{bigint:T.n}},{int:{int:T.e}}]}).tohex();this.asn1AlgId=new $({name:"rsaEncryption"}),this.asn1SubjPKey=new m({hex:"00"+B})}}catch{}try{if(T instanceof h.crypto.ECDSA){var J=new _({name:T.curveName});this.asn1AlgId=new $({name:"ecPublicKey",asn1params:J}),this.asn1SubjPKey=new m({hex:"00"+T.pubKeyHex})}}catch{}try{if(T instanceof h.crypto.DSA){J=new P({seq:[{int:{bigint:T.p}},{int:{bigint:T.q}},{int:{bigint:T.g}}]}),this.asn1AlgId=new $({name:"dsa",asn1params:J});var de=new p({bigint:T.y});this.asn1SubjPKey=new m({hex:"00"+de.tohex()})}}catch{}},void 0!==r&&this.setPubKey(r)},ne(h.asn1.x509.SubjectPublicKeyInfo,h.asn1.ASN1Object),h.asn1.x509.Time=function(r){h.asn1.x509.Time.superclass.constructor.call(this);var f=h.asn1,p=f.DERUTCTime,m=f.DERGeneralizedTime;this.params=null,this.type=null,this.setTimeParams=function(_){this.timeParams=_},this.setByParam=function(_){this.params=_},this.getType=function(_){return _.match(/^[0-9]{12}Z$/)?"utc":_.match(/^[0-9]{14}Z$/)?"gen":_.match(/^[0-9]{12}\.[0-9]+Z$/)?"utc":_.match(/^[0-9]{14}\.[0-9]+Z$/)?"gen":null},this.tohex=function(){var _=this.params,x=null;if("string"==typeof _&&(_={str:_}),null!=_&&_.str&&(null==_.type||null==_.type)&&(_.type=this.getType(_.str)),null!=_&&_.str?("utc"==_.type&&(x=new p(_.str)),"gen"==_.type&&(x=new m(_.str))):x="gen"==this.type?new m:new p,null==x)throw new Error("wrong setting for Time");return this.TLV=x.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},h.asn1.x509.Time_bak=function(r){h.asn1.x509.Time_bak.superclass.constructor.call(this);var f=h.asn1,p=f.DERUTCTime,m=f.DERGeneralizedTime;this.setTimeParams=function(_){this.timeParams=_},this.tohex=function(){var _=null;return _=null!=this.timeParams?"utc"==this.type?new p(this.timeParams):new m(this.timeParams):"utc"==this.type?new p:new m,this.TLV=_.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},this.type="utc",void 0!==r&&(void 0!==r.type?this.type=r.type:void 0!==r.str&&(r.str.match(/^[0-9]{12}Z$/)&&(this.type="utc"),r.str.match(/^[0-9]{14}Z$/)&&(this.type="gen")),this.timeParams=r)},ne(h.asn1.x509.Time,h.asn1.ASN1Object),h.asn1.x509.AlgorithmIdentifier=function(r){h.asn1.x509.AlgorithmIdentifier.superclass.constructor.call(this),this.nameAlg=null,this.asn1Alg=null,this.asn1Params=null,this.paramEmpty=!1;var o=h.asn1,l=o.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV;if(this.tohex=function(){if(null===this.nameAlg&&null===this.asn1Alg)throw new Error("algorithm not specified");if(null!==this.nameAlg){var p=null;for(var m in l)m===this.nameAlg&&(p=l[m]);if(null!==p)return this.hTLV=p,this.hTLV}null!==this.nameAlg&&null===this.asn1Alg&&(this.asn1Alg=o.x509.OID.name2obj(this.nameAlg));var _=[this.asn1Alg];null!==this.asn1Params&&_.push(this.asn1Params);var x=new o.DERSequence({array:_});return this.hTLV=x.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&(void 0!==r.name&&(this.nameAlg=r.name),void 0!==r.asn1params&&(this.asn1Params=r.asn1params),void 0!==r.paramempty&&(this.paramEmpty=r.paramempty)),null===this.asn1Params&&!1===this.paramEmpty&&null!==this.nameAlg){void 0!==this.nameAlg.name&&(this.nameAlg=this.nameAlg.name);var f=this.nameAlg.toLowerCase();"withdsa"!==f.substr(-7,7)&&"withecdsa"!==f.substr(-9,9)&&(this.asn1Params=new o.DERNull)}},ne(h.asn1.x509.AlgorithmIdentifier,h.asn1.ASN1Object),h.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV={SHAwithRSAandMGF1:"300d06092a864886f70d01010a3000",SHA256withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040201a11a301806092a864886f70d010108300b0609608648016503040201a203020120",SHA384withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040202a11a301806092a864886f70d010108300b0609608648016503040202a203020130",SHA512withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040203a11a301806092a864886f70d010108300b0609608648016503040203a203020140"},h.asn1.x509.GeneralName=function(r){h.asn1.x509.GeneralName.superclass.constructor.call(this);var l=h.asn1,f=l.x509,p=f.X500Name,m=f.OtherName,_=l.DERIA5String,P=l.DEROctetString,U=l.DERTaggedObject,$=l.ASN1Object,b=Error;this.params=null,this.setByParam=function(S){this.params=S},this.tohex=function(){var V,T,S=this.params,K=!1;if(void 0!==S.other)V="a0",T=new m(S.other);else if(void 0!==S.rfc822)V="81",T=new _({str:S.rfc822});else if(void 0!==S.dns)V="82",T=new _({str:S.dns});else if(void 0!==S.dn)V="a4",K=!0,T="string"==typeof S.dn?new p({str:S.dn}):S.dn instanceof h.asn1.x509.X500Name?S.dn:new p(S.dn);else if(void 0!==S.ldapdn)V="a4",K=!0,T=new p({ldapstr:S.ldapdn});else if(void 0!==S.certissuer||void 0!==S.certsubj){V="a4",K=!0;var B,J,de=null;if(void 0!==S.certsubj?(B=!1,J=S.certsubj):(B=!0,J=S.certissuer),J.match(/^[0-9A-Fa-f]+$/),-1!=J.indexOf("-----BEGIN ")&&(de=Vr(J)),null==de)throw new Error("certsubj/certissuer not cert");var pe,fe=new rn;fe.hex=de,pe=B?fe.getIssuerHex():fe.getSubjectHex(),(T=new $).hTLV=pe}else if(void 0!==S.uri)V="86",T=new _({str:S.uri});else{if(void 0===S.ip)throw new b("improper params");V="87";var it,ct=S.ip;try{if(ct.match(/^[0-9a-f]+$/)){var W=ct.length;if(8!=W&&16!=W&&32!=W&&64!=W)throw"err";it=ct}else it=E(ct)}catch(me){throw new b("malformed IP address: "+S.ip+":"+me.message)}T=new P({hex:it})}return new U({tag:V,explicit:K,obj:T}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&this.setByParam(r)},ne(h.asn1.x509.GeneralName,h.asn1.ASN1Object),h.asn1.x509.GeneralNames=function(r){h.asn1.x509.GeneralNames.superclass.constructor.call(this);var l=h.asn1;this.setByParamArray=function(f){for(var p=0;p<f.length;p++){var m=new l.x509.GeneralName(f[p]);this.asn1Array.push(m)}},this.tohex=function(){return new l.DERSequence({array:this.asn1Array}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.asn1Array=new Array,typeof r<"u"&&this.setByParamArray(r)},ne(h.asn1.x509.GeneralNames,h.asn1.ASN1Object),h.asn1.x509.OtherName=function(r){h.asn1.x509.OtherName.superclass.constructor.call(this);var f=h.asn1,p=f.DERObjectIdentifier,m=f.DERSequence,_=f.ASN1Util.newObject;this.params=null,this.setByParam=function(x){this.params=x},this.tohex=function(){var x=this.params;if(null==x.oid||null==x.value)throw new Error("oid or value not specified");var P=new p({oid:x.oid}),U=_({tag:{tag:"a0",explicit:!0,obj:x.value}});return new m({array:[P,U]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&this.setByParam(r)},ne(h.asn1.x509.OtherName,h.asn1.ASN1Object),h.asn1.x509.OID=new function(){var r=h.asn1.DERObjectIdentifier;this.name2oidList={sha1:"1.3.14.3.2.26",sha256:"2.16.840.1.101.3.4.2.1",sha384:"2.16.840.1.101.3.4.2.2",sha512:"2.16.840.1.101.3.4.2.3",sha224:"2.16.840.1.101.3.4.2.4",md5:"1.2.840.113549.2.5",md2:"1.3.14.7.2.2.1",ripemd160:"1.3.36.3.2.1",MD2withRSA:"1.2.840.113549.1.1.2",MD4withRSA:"1.2.840.113549.1.1.3",MD5withRSA:"1.2.840.113549.1.1.4",SHA1withRSA:"1.2.840.113549.1.1.5","pkcs1-MGF":"1.2.840.113549.1.1.8",rsaPSS:"1.2.840.113549.1.1.10",SHA224withRSA:"1.2.840.113549.1.1.14",SHA256withRSA:"1.2.840.113549.1.1.11",SHA384withRSA:"1.2.840.113549.1.1.12",SHA512withRSA:"1.2.840.113549.1.1.13",SHA1withECDSA:"1.2.840.10045.4.1",SHA224withECDSA:"1.2.840.10045.4.3.1",SHA256withECDSA:"1.2.840.10045.4.3.2",SHA384withECDSA:"1.2.840.10045.4.3.3",SHA512withECDSA:"1.2.840.10045.4.3.4",dsa:"1.2.840.10040.4.1",SHA1withDSA:"1.2.840.10040.4.3",SHA224withDSA:"2.16.840.1.101.3.4.3.1",SHA256withDSA:"2.16.840.1.101.3.4.3.2",rsaEncryption:"1.2.840.113549.1.1.1",commonName:"2.5.4.3",countryName:"2.5.4.6",localityName:"2.5.4.7",stateOrProvinceName:"2.5.4.8",streetAddress:"2.5.4.9",organizationName:"2.5.4.10",organizationalUnitName:"2.5.4.11",domainComponent:"0.9.2342.19200300.100.1.25",userId:"0.9.2342.19200300.100.1.1",surname:"2.5.4.4",givenName:"2.5.4.42",title:"2.5.4.12",distinguishedName:"2.5.4.49",emailAddress:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3",subjectDirectoryAttributes:"2.5.29.9",subjectKeyIdentifier:"2.5.29.14",keyUsage:"2.5.29.15",subjectAltName:"2.5.29.17",issuerAltName:"2.5.29.18",basicConstraints:"2.5.29.19",cRLNumber:"2.5.29.20",cRLReason:"2.5.29.21",nameConstraints:"2.5.29.30",cRLDistributionPoints:"2.5.29.31",certificatePolicies:"2.5.29.32",anyPolicy:"2.5.29.32.0",policyMappings:"2.5.29.33",authorityKeyIdentifier:"2.5.29.35",policyConstraints:"2.5.29.36",extKeyUsage:"2.5.29.37",inhibitAnyPolicy:"2.5.29.54",authorityInfoAccess:"1.3.6.1.5.5.7.1.1",ocsp:"1.3.6.1.5.5.7.48.1",ocspBasic:"1.3.6.1.5.5.7.48.1.1",ocspNonce:"1.3.6.1.5.5.7.48.1.2",ocspNoCheck:"1.3.6.1.5.5.7.48.1.5",caIssuers:"1.3.6.1.5.5.7.48.2",anyExtendedKeyUsage:"2.5.29.37.0",serverAuth:"1.3.6.1.5.5.7.3.1",clientAuth:"1.3.6.1.5.5.7.3.2",codeSigning:"1.3.6.1.5.5.7.3.3",emailProtection:"1.3.6.1.5.5.7.3.4",timeStamping:"1.3.6.1.5.5.7.3.8",ocspSigning:"1.3.6.1.5.5.7.3.9",smtpUTF8Mailbox:"1.3.6.1.5.5.7.8.9",dateOfBirth:"1.3.6.1.5.5.7.9.1",placeOfBirth:"1.3.6.1.5.5.7.9.2",gender:"1.3.6.1.5.5.7.9.3",countryOfCitizenship:"1.3.6.1.5.5.7.9.4",countryOfResidence:"1.3.6.1.5.5.7.9.5",ecPublicKey:"1.2.840.10045.2.1","P-256":"1.2.840.10045.3.1.7",secp256r1:"1.2.840.10045.3.1.7",secp256k1:"1.3.132.0.10",secp384r1:"1.3.132.0.34",secp521r1:"1.3.132.0.35",pkcs5PBES2:"1.2.840.113549.1.5.13",pkcs5PBKDF2:"1.2.840.113549.1.5.12","des-EDE3-CBC":"1.2.840.113549.3.7",data:"1.2.840.113549.1.7.1","signed-data":"1.2.840.113549.1.7.2","enveloped-data":"1.2.840.113549.1.7.3","digested-data":"1.2.840.113549.1.7.5","encrypted-data":"1.2.840.113549.1.7.6","authenticated-data":"1.2.840.113549.1.9.16.1.2",tstinfo:"1.2.840.113549.1.9.16.1.4",signingCertificate:"1.2.840.113549.1.9.16.2.12",timeStampToken:"1.2.840.113549.1.9.16.2.14",signaturePolicyIdentifier:"1.2.840.113549.1.9.16.2.15",etsArchiveTimeStamp:"1.2.840.113549.1.9.16.2.27",signingCertificateV2:"1.2.840.113549.1.9.16.2.47",etsArchiveTimeStampV2:"1.2.840.113549.1.9.16.2.48",extensionRequest:"1.2.840.113549.1.9.14",contentType:"1.2.840.113549.1.9.3",messageDigest:"1.2.840.113549.1.9.4",signingTime:"1.2.840.113549.1.9.5",counterSignature:"1.2.840.113549.1.9.6",archiveTimeStampV3:"0.4.0.1733.2.4",pdfRevocationInfoArchival:"1.2.840.113583.1.1.8",adobeTimeStamp:"1.2.840.113583.1.1.9.1",smimeMailboxLegacy:"2.23.140.1.5.1.1",smimeMailboxMulti:"2.23.140.1.5.1.2",smimeMailboxStrict:"2.23.140.1.5.1.3",smimeOrganizationLegacy:"2.23.140.1.5.2.1",smimeOrganizationMulti:"2.23.140.1.5.2.2",smimeOrganizationStrict:"2.23.140.1.5.2.3",smimeSponsorLegacy:"2.23.140.1.5.3.1",smimeSponsorMulti:"2.23.140.1.5.3.2",smimeSponsorStrict:"2.23.140.1.5.3.3",smimeIndividualLegacy:"2.23.140.1.5.4.1",smimeIndividualMulti:"2.23.140.1.5.4.2",smimeIndividualStrict:"2.23.140.1.5.4.3"},this.atype2oidList={CN:"2.5.4.3",L:"2.5.4.7",ST:"2.5.4.8",O:"2.5.4.10",OU:"2.5.4.11",C:"2.5.4.6",STREET:"2.5.4.9",DC:"0.9.2342.19200300.100.1.25",UID:"0.9.2342.19200300.100.1.1",SN:"2.5.4.4",T:"2.5.4.12",GN:"2.5.4.42",DN:"2.5.4.49",E:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",serialNumber:"2.5.4.5",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3"},this.objCache={},this.name2obj=function(s){if(typeof this.objCache[s]<"u")return this.objCache[s];if(typeof this.name2oidList[s]>"u")throw"Name of ObjectIdentifier not defined: "+s;var l=new r({oid:this.name2oidList[s]});return this.objCache[s]=l,l},this.atype2obj=function(s){if(void 0!==this.objCache[s])return this.objCache[s];var o;if(s.match(/^\d+\.\d+\.[0-9.]+$/))o=s;else if(void 0!==this.atype2oidList[s])o=this.atype2oidList[s];else{if(void 0===this.name2oidList[s])throw new Error("AttributeType name undefined: "+s);o=this.name2oidList[s]}var l=new r({oid:o});return this.objCache[s]=l,l},this.registerOIDs=function(s){if(this.checkOIDs(s))for(var o in s)this.name2oidList[o]=s[o]},this.checkOIDs=function(s){try{var o=Object.keys(s);return 0!=o.length&&(o.map(function(l,f,p){if(!this[l].match(/^[0-2]\.[0-9.]+$/))throw new Error("value is not OID")},s),!0)}catch{return!1}}},h.asn1.x509.OID.oid2name=function(r){var s=h.asn1.x509.OID.name2oidList;for(var o in s)if(s[o]==r)return o;return""},h.asn1.x509.OID.oid2atype=function(r){var s=h.asn1.x509.OID.atype2oidList;for(var o in s)if(s[o]==r)return o;return r},h.asn1.x509.OID.name2oid=function(r){if(r.match(/^[0-9.]+$/))return r;var s=h.asn1.x509.OID.name2oidList;return void 0===s[r]?"":s[r]},h.asn1.x509.X509Util={},h.asn1.x509.X509Util.newCertPEM=function(r){return new(0,h.asn1.x509.Certificate)(r).getPEM()},(typeof h>"u"||!h)&&(h={}),(typeof h.asn1>"u"||!h.asn1)&&(h.asn1={}),(typeof h.asn1.cms>"u"||!h.asn1.cms)&&(h.asn1.cms={}),h.asn1.cms.Attribute=function(r){var s=Error,l=h.asn1,f=l.DERSequence,p=l.DERSet,m=l.DERObjectIdentifier;this.params=null,this.typeOid=null,this.setByParam=function(_){this.params=_},this.getValueArray=function(){throw new s("not yet implemented abstract")},this.tohex=function(){var _=new m({oid:this.typeOid}),x=new p({array:this.getValueArray()});return new f({array:[_,x]}).tohex()},this.getEncodedHex=function(){return this.tohex()}},ne(h.asn1.cms.Attribute,h.asn1.ASN1Object),h.asn1.cms.ContentType=function(r){var o=h.asn1;o.cms.ContentType.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.3",this.getValueArray=function(){return[new o.DERObjectIdentifier(this.params.type)]},null!=r&&this.setByParam(r)},ne(h.asn1.cms.ContentType,h.asn1.cms.Attribute),h.asn1.cms.MessageDigest=function(r){var o=h.asn1,l=o.DEROctetString;o.cms.MessageDigest.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.4",this.getValueArray=function(){return[new l(this.params)]},null!=r&&this.setByParam(r)},ne(h.asn1.cms.MessageDigest,h.asn1.cms.Attribute),h.asn1.cms.SigningTime=function(r){var o=h.asn1;o.cms.SigningTime.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.5",this.getValueArray=function(){return[new o.x509.Time(this.params)]},null!=r&&this.setByParam(r)},ne(h.asn1.cms.SigningTime,h.asn1.cms.Attribute),h.asn1.cms.SigningCertificate=function(r){var s=Error,l=h.asn1,f=l.DERSequence,p=l.cms,m=p.ESSCertID;p.SigningCertificate.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.12",this.getValueArray=function(){if(null==this.params||null==this.params||null==this.params.array)throw new s("parameter 'array' not specified");for(var x=this.params.array,P=[],U=0;U<x.length;U++){var $=x[U];0==r.hasis&&"string"==typeof $&&(-1!=$.indexOf("-----BEGIN")||Ut.isASN1HEX($))&&($={cert:$}),0!=$.hasis&&0==r.hasis&&($.hasis=!1),P.push(new m($))}var b=new f({array:P});return[new f({array:[b]})]},null!=r&&this.setByParam(r)},ne(h.asn1.cms.SigningCertificate,h.asn1.cms.Attribute),h.asn1.cms.ESSCertID=function(r){h.asn1.cms.ESSCertID.superclass.constructor.call(this);var s=Error,o=h,l=o.asn1,f=l.DEROctetString,p=l.DERSequence,m=l.cms.IssuerSerial;this.params=null,this.getCertHash=function(_,x){if(null!=_.hash)return _.hash;if("string"==typeof _&&-1==_.indexOf("-----BEGIN")&&!Ut.isASN1HEX(_))return _;var P,U,$;if("string"==typeof _)P=_;else{if(null==_.cert)throw new s("hash nor cert unspecified");P=_.cert}if(U=-1!=P.indexOf("-----BEGIN")?Vr(P):P,"string"==typeof _&&(-1!=_.indexOf("-----BEGIN")?U=Vr(_):Ut.isASN1HEX(_)&&(U=_)),null!=_.alg)$=_.alg;else{if(null==x)throw new s("hash alg unspecified");$=x}return o.crypto.Util.hashHex(U,$)},this.tohex=function(){var _=this.params,x=this.getCertHash(_,"sha1"),P=[];return P.push(new f({hex:x})),("string"==typeof _&&-1!=_.indexOf("-----BEGIN")||null!=_.cert&&0!=_.hasis||null!=_.issuer&&null!=_.serial)&&P.push(new m(_)),new p({array:P}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},ne(h.asn1.cms.ESSCertID,h.asn1.ASN1Object),h.asn1.cms.SigningCertificateV2=function(r){var s=Error,l=h.asn1,f=l.DERSequence,m=l.cms,_=m.ESSCertIDv2;m.SigningCertificateV2.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.47",this.getValueArray=function(){if(null==this.params||null==this.params||null==this.params.array)throw new s("parameter 'array' not specified");for(var P=this.params.array,U=[],$=0;$<P.length;$++){var b=P[$];(null!=r.alg||0==r.hasis)&&"string"==typeof b&&(-1!=b.indexOf("-----BEGIN")||Ut.isASN1HEX(b))&&(b={cert:b}),null==b.alg&&null!=r.alg&&(b.alg=r.alg),0!=b.hasis&&0==r.hasis&&(b.hasis=!1),U.push(new _(b))}var S=new f({array:U});return[new f({array:[S]})]},null!=r&&this.setByParam(r)},ne(h.asn1.cms.SigningCertificateV2,h.asn1.cms.Attribute),h.asn1.cms.ESSCertIDv2=function(r){h.asn1.cms.ESSCertIDv2.superclass.constructor.call(this),Error;var l=h.asn1,f=l.DEROctetString,p=l.DERSequence,m=l.cms.IssuerSerial,_=l.x509.AlgorithmIdentifier;this.params=null,this.tohex=function(){var x=this.params,P=this.getCertHash(x,"sha256"),U=[];return null!=x.alg&&"sha256"!=x.alg&&U.push(new _({name:x.alg})),U.push(new f({hex:P})),("string"==typeof x&&-1!=x.indexOf("-----BEGIN")||null!=x.cert&&0!=x.hasis||null!=x.issuer&&null!=x.serial)&&U.push(new m(x)),new p({array:U}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},ne(h.asn1.cms.ESSCertIDv2,h.asn1.cms.ESSCertID),h.asn1.cms.IssuerSerial=function(r){var s=Error,l=h.asn1,f=l.DERInteger,p=l.DERSequence,x=l.x509.GeneralNames,P=rn;l.cms.IssuerSerial.superclass.constructor.call(this),this.setByParam=function(U){this.params=U},this.tohex=function(){var $,b,U=this.params;if("string"==typeof U&&-1!=U.indexOf("-----BEGIN")||null!=U.cert){var S;S=null!=U.cert?U.cert:U;var V=new P;V.readCertPEM(S),$=V.getIssuer(),b={hex:V.getSerialNumberHex()}}else{if(null==U.issuer||!U.serial)throw new s("cert or issuer and serial parameter not specified");$=U.issuer,b=U.serial}var T=new x([{dn:$}]),K=new f(b);return new p({array:[T,K]}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},ne(h.asn1.cms.IssuerSerial,h.asn1.ASN1Object),h.asn1.cms.SignerIdentifier=function(r){var p=h.asn1.cms,m=p.IssuerAndSerialNumber,_=p.SubjectKeyIdentifier;Error,p.SignerIdentifier.superclass.constructor.call(this),this.params=null,this.tohex=function(){var b=this.params;if("isssn"==b.type)return new m(b).tohex();if("skid"==b.type)return new _(b).tohex();throw new Error("wrong property for isssn or skid")},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},ne(h.asn1.cms.SignerIdentifier,h.asn1.ASN1Object),h.asn1.cms.IssuerAndSerialNumber=function(r){var o=h.asn1,l=o.DERInteger,f=o.DERSequence,_=o.x509.X500Name,x=rn,P=Error;o.cms.IssuerAndSerialNumber.superclass.constructor.call(this),this.params=null,this.tohex=function(){var $,b,U=this.params;if("string"==typeof U&&-1!=U.indexOf("-----BEGIN")||null!=U.cert){var S;S=null!=U.cert?U.cert:U;var V=new x;V.readCertPEM(S),$=V.getIssuer(),b={hex:V.getSerialNumberHex()}}else{if(null==U.issuer||!U.serial)throw new P("cert or issuer and serial parameter not specified");$=U.issuer,b=U.serial}var T=new _($),K=new l(b);return new f({array:[T,K]}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(U){this.params=U},null!=r&&this.setByParam(r)},ne(h.asn1.cms.IssuerAndSerialNumber,h.asn1.ASN1Object),h.asn1.cms.SubjectKeyIdentifier=function(r){var o=h.asn1,p=o.ASN1Util.newObject,$=rn,b=Error;o.cms.SubjectKeyIdentifier.superclass.constructor.call(this),this.tohex=function(){var V,S=this.params;if(null==S.cert&&null==S.skid)throw new b("property cert nor skid undefined");return null!=S.cert?V=new $(S.cert).getExtSubjectKeyIdentifier().kid.hex:null!=S.skid&&(V=S.skid),p({tag:{tage:"a0",obj:{octstr:{hex:V}}}}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},ne(h.asn1.cms.SubjectKeyIdentifier,h.asn1.ASN1Object),h.asn1.cms.AttributeList=function(r){var s=Error,l=h.asn1,f=l.DERSet,p=l.cms;p.AttributeList.superclass.constructor.call(this),this.params=null,this.hTLV=null,this.setByParam=function(m){this.params=m},this.tohex=function(){var m=this.params;if(null!=this.hTLV)return this.hTLV;var _=!0;null!=m.sortflag&&(_=m.sortflag);for(var x=m.array,P=[],U=0;U<x.length;U++){var $=x[U],b=$.attr;if("contentType"==b)P.push(new p.ContentType($));else if("messageDigest"==b)P.push(new p.MessageDigest($));else if("signingTime"==b)P.push(new p.SigningTime($));else if("signingCertificate"==b)P.push(new p.SigningCertificate($));else if("signingCertificateV2"==b)P.push(new p.SigningCertificateV2($));else if("signaturePolicyIdentifier"==b)P.push(new h.asn1.cades.SignaturePolicyIdentifier($));else{if("signatureTimeStamp"!=b&&"timeStampToken"!=b)throw new s("unknown attr: "+b);P.push(new h.asn1.cades.SignatureTimeStamp($))}}var S=new f({array:P,sortflag:_});return this.hTLV=S.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},ne(h.asn1.cms.AttributeList,h.asn1.ASN1Object),h.asn1.cms.SignerInfo=function(r){var s=Error,l=h.asn1,f=l.DERInteger,p=l.DEROctetString,m=l.DERSequence,_=l.DERTaggedObject,x=l.cms,P=x.SignerIdentifier,U=x.AttributeList,K=l.x509.AlgorithmIdentifier,B=h.crypto,J=$e;x.SignerInfo.superclass.constructor.call(this),this.params=null,this.sign=function(){var de=this.params,fe=de.sigalg,pe=new U(de.sattrs).tohex(),it=J.getKey(de.signkey),ct=new B.Signature({alg:fe});ct.init(it),ct.updateHex(pe);var W=ct.sign();de.sighex=W},this.tohex=function(){var de=this.params,fe=[];if(fe.push(new f({int:de.version})),fe.push(new P(de.id)),fe.push(new K({name:de.hashalg})),null!=de.sattrs){var pe=new U(de.sattrs);try{fe.push(new _({tag:"a0",explicit:!1,obj:pe}))}catch(ct){throw new s("si sattr error: "+ct)}}if(fe.push(new K(null!=de.sigalgfield?{name:de.sigalgfield}:{name:de.sigalg})),null==de.sighex&&null!=de.signkey&&this.sign(),fe.push(new p({hex:de.sighex})),null!=de.uattrs){pe=new U(de.uattrs);try{fe.push(new _({tag:"a1",explicit:!1,obj:pe}))}catch(W){throw new s("si uattr error: "+W)}}return new m({array:fe}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},ne(h.asn1.cms.SignerInfo,h.asn1.ASN1Object),h.asn1.cms.EncapsulatedContentInfo=function(r){var o=h.asn1,l=o.DERTaggedObject,f=o.DERSequence,p=o.DERObjectIdentifier,m=o.DEROctetString;o.cms.EncapsulatedContentInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var x=this.params,P=[];if(P.push(new p(x.type)),null!=x.content&&(null!=x.content.hex||null!=x.content.str)&&1!=x.isDetached){var U=new m(x.content),$=new l({tag:"a0",explicit:!0,obj:U});P.push($)}return new f({array:P}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(x){this.params=x},null!=r&&this.setByParam(r)},ne(h.asn1.cms.EncapsulatedContentInfo,h.asn1.ASN1Object),h.asn1.cms.ContentInfo=function(r){var o=h.asn1,l=o.DERTaggedObject,f=o.DERSequence,p=o.DERObjectIdentifier;h.asn1.cms.ContentInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var x=this.params,P=[];P.push(new p(x.type));var U=new l({tag:"a0",explicit:!0,obj:x.obj});return P.push(U),new f({array:P}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(x){this.params=x},null!=r&&this.setByParam(r)},ne(h.asn1.cms.ContentInfo,h.asn1.ASN1Object),h.asn1.cms.SignedData=function(r){Error;var l=h.asn1,p=l.DERInteger,m=l.DERSet,_=l.DERSequence,P=l.cms,U=P.EncapsulatedContentInfo,$=P.SignerInfo,b=P.ContentInfo,S=P.CertificateSet,V=P.RevocationInfoChoices,K=l.x509.AlgorithmIdentifier;h.asn1.cms.SignedData.superclass.constructor.call(this),this.params=null,this.checkAndFixParam=function(){var B=this.params;this._setDigestAlgs(B),this._setContentTypeByEContent(B),this._setMessageDigestByEContent(B),this._setSignerInfoVersion(B),this._setSignedDataVersion(B)},this._setDigestAlgs=function(B){for(var J={},de=B.sinfos,fe=0;fe<de.length;fe++)J[de[fe].hashalg]=1;B.hashalgs=Object.keys(J).sort()},this._setContentTypeByEContent=function(B){for(var J=B.econtent.type,de=B.sinfos,fe=0;fe<de.length;fe++)this._getAttrParamByName(de[fe],"contentType").type=J},this._setMessageDigestByEContent=function(B){var J=B.econtent,fe=J.content.hex;null==fe&&"data"==J.type&&null!=J.content.str&&(fe=wr(J.content.str));for(var pe=B.sinfos,it=0;it<pe.length;it++){var ct=pe[it],W=ct.hashalg,Z=this._getAttrParamByName(ct,"messageDigest"),me=h.crypto.Util.hashHex(fe,W);Z.hex=me}},this._getAttrParamByName=function(B,J){for(var de=B.sattrs.array,fe=0;fe<de.length;fe++)if(de[fe].attr==J)return de[fe]},this._setSignerInfoVersion=function(B){for(var J=B.sinfos,de=0;de<J.length;de++){var fe=J[de],pe=1;"skid"==fe.id.type&&(pe=3),fe.version=pe}},this._setSignedDataVersion=function(B){var J=this._getSignedDataVersion(B);B.version=J},this._getSignedDataVersion=function(B){if(null!=B.revinfos)for(var J=B.revinfos,de=0;de<J.length;de++)if(null!=J[de].ocsp)return 5;var pe=B.sinfos;for(de=0;de<pe.length;de++)if(3==B.sinfos[de].version)return 3;return"data"!=B.econtent.type?3:1},this.tohex=function(){var B=this.params;null!=this.getEncodedHexPrepare&&this.getEncodedHexPrepare(),1!=B.fixed&&this.checkAndFixParam();var J=[];J.push(new p({int:B.version}));for(var de=[],fe=0;fe<B.hashalgs.length;fe++)de.push(new K({name:B.hashalgs[fe]}));J.push(new m({array:de})),J.push(new U(B.econtent)),null!=B.certs&&J.push(new S(B.certs)),null!=B.revinfos&&J.push(new V(B.revinfos));var it=[];for(fe=0;fe<B.sinfos.length;fe++)it.push(new $(B.sinfos[fe]));return J.push(new m({array:it})),new _({array:J}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.getContentInfo=function(){return new b({type:"signed-data",obj:this})},this.getContentInfoEncodedHex=function(){return this.getContentInfo().tohex()},null!=r&&this.setByParam(r)},ne(h.asn1.cms.SignedData,h.asn1.ASN1Object),h.asn1.cms.CertificateSet=function(r){h.asn1.cms.CertificateSet.superclass.constructor.call(this);var s=Error,o=h.asn1,l=o.DERTaggedObject,f=o.DERSet,p=o.ASN1Object;this.params=null,this.tohex=function(){var x,m=this.params,_=[];if(m instanceof Array)x=m;else{if(null==m.array)throw new s("cert array not specified");x=m.array}for(var P=0;P<x.length;P++){var $=Vr(x[P]),b=new p;b.hTLV=$,_.push(b)}var S={array:_};0==m.sortflag&&(S.sortflag=!1);var V=new f(S);return new l({tag:"a0",explicit:!1,obj:V}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},ne(h.asn1.cms.CertificateSet,h.asn1.ASN1Object),h.asn1.cms.RevocationInfoChoices=function(r){h.asn1.cms.RevocationInfoChoices.superclass.constructor.call(this),this.params=null,this.tohex=function(){var s=this.params;if(!s instanceof Array)throw new Error("params is not array");for(var o=[],l=0;l<s.length;l++)o.push(new h.asn1.cms.RevocationInfoChoice(s[l]));return h.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:{set:o}}}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},ne(h.asn1.cms.RevocationInfoChoices,h.asn1.ASN1Object),h.asn1.cms.RevocationInfoChoice=function(r){h.asn1.cms.RevocationInfoChoice.superclass.constructor.call(this),this.params=null,this.tohex=function(){var s=this.params;if(null!=s.crl&&"string"==typeof s.crl){var o=s.crl;return-1!=s.crl.indexOf("-----BEGIN")&&(o=Vr(s.crl)),o}if(null!=s.ocsp)return h.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:new h.asn1.cms.OtherRevocationFormat(s)}}).tohex();throw new Error("property crl or ocsp undefined")},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},ne(h.asn1.cms.RevocationInfoChoice,h.asn1.ASN1Object),h.asn1.cms.OtherRevocationFormat=function(r){h.asn1.cms.OtherRevocationFormat.superclass.constructor.call(this);var s=Error,f=h.asn1.ASN1Util.newObject,p=h.lang.String.isHex;this.params=null,this.tohex=function(){var m=this.params;if(null==m.ocsp)throw new s("property ocsp not specified");if(!p(m.ocsp)||!Ut.isASN1HEX(m.ocsp))throw new s("ocsp value not ASN.1 hex string");return f({seq:[{oid:"1.3.6.1.5.5.7.16.2"},{asn1:{tlv:m.ocsp}}]}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},ne(h.asn1.cms.OtherRevocationFormat,h.asn1.ASN1Object),h.asn1.cms.CMSUtil=new function(){},h.asn1.cms.CMSUtil.newSignedData=function(r){return new h.asn1.cms.SignedData(r)},h.asn1.cms.CMSUtil.verifySignedData=function(r){var S=Ut.getVbyList,V=Ut.getTLVbyList,T=Ut.getIdxbyList,K=Ut.getChildIdx,B=Ut.getTLV,J=Ut.oidname,de=h.crypto.Util.hashHex;void 0===r.cms&&(0,h.lang.String.isHex)(r.cms);var fe=r.cms,ct=function(Re,Le){var ft=Le.idx;Le.signerid_issuer1=V(Re,ft,[1,0],"30"),Le.signerid_serial1=S(Re,ft,[1,1],"02"),Le.hashalg=J(S(Re,ft,[2,0],"06"));var _n=T(Re,ft,[3],"a0");Le.idxSignedAttrs=_n,W(Re,Le,_n);var Mn=K(Re,ft).length;if(Mn<6)throw"malformed SignerInfo";Le.sigalg=J(S(Re,ft,[Mn-2,0],"06")),Le.sigval=S(Re,ft,[Mn-1],"04")},W=function(Re,Le,ft){var _n=K(Re,ft);Le.signedAttrIdxList=_n;for(var Rn=0;Rn<_n.length;Rn++){var cr,Mn=_n[Rn],yr=S(Re,Mn,[0],"06");"2a864886f70d010905"===yr?(cr=X(S(Re,Mn,[1,0])),Le.saSigningTime=cr):"2a864886f70d010904"===yr&&(cr=S(Re,Mn,[1,0],"04"),Le.saMessageDigest=cr)}},Te=function(Re,Le,ft,_n){ft.verifyDetail={};var Rn=ft.verifyDetail,Mn=Le.parse.econtent,yr=ft.hashalg,cr=ft.saMessageDigest;Rn.validMessageDigest=!1,de(Mn,yr)===cr&&(Rn.validMessageDigest=!0),function(Re,Le,ft,_n){var Mn,Rn=Le.parse.certsIdx;if(void 0===Le.certs){Mn=[],Le.certkeys=[];for(var yr=K(Re,Rn),cr=0;cr<yr.length;cr++){var Mr=B(Re,yr[cr]),Pr=new rn;Pr.readCertHex(Mr),Mn[cr]=Pr,Le.certkeys[cr]=Pr.getPublicKey()}Le.certs=Mn}else Mn=Le.certs;for(Le.cccc=Mn.length,Le.cccci=yr.length,cr=0;cr<Mn.length;cr++){var mi=Pr.getIssuerHex(),ki=Pr.getSerialNumberHex();ft.signerid_issuer1===mi&&ft.signerid_serial1===ki&&(ft.certkey_idx=cr)}}(Re,Le,ft),Rn.validSignatureValue=!1;var Mr=ft.sigalg,Pr="31"+B(Re,ft.idxSignedAttrs).substr(2);ft.signedattrshex=Pr;var mi=Le.certs[ft.certkey_idx].getPublicKey(),ki=new h.crypto.Signature({alg:Mr});ki.init(mi),ki.updateHex(Pr);var li=ki.verify(ft.sigval);Rn.validSignatureValue_isValid=li,!0===li&&(Rn.validSignatureValue=!0),ft.isValid=!1,Rn.validMessageDigest&&Rn.validSignatureValue&&(ft.isValid=!0)},Ce={isValid:!1,parse:{}};return function(Re,Le){if("2a864886f70d010702"!==S(Re,0,[0],"06"))return Le;Le.cmsType="signedData",Le.econtent=S(Re,0,[1,0,2,1,0]),function(Re,Le){for(var ft,_n=3;_n<6;_n++)if(void 0!==(ft=T(Re,0,[1,0,_n]))){var Rn=Re.substr(ft,2);"a0"===Rn&&(Le.certsIdx=ft),"a1"===Rn&&(Le.revinfosIdx=ft),"31"===Rn&&(Le.signerinfosIdx=ft)}}(Re,Le),Le.signerInfos=[],function(Re,Le){var ft=Le.signerinfosIdx;if(void 0!==ft){var _n=K(Re,ft);Le.signerInfoIdxList=_n;for(var Rn=0;Rn<_n.length;Rn++){var yr={idx:_n[Rn]};ct(Re,yr),Le.signerInfos.push(yr)}}}(Re,Le)}(fe,Ce.parse),function(Re,Le){for(var ft=Le.parse.signerInfos,_n=ft.length,Rn=!0,Mn=0;Mn<_n;Mn++){var yr=ft[Mn];Te(Re,Le,yr),yr.isValid||(Rn=!1)}Le.isValid=Rn}(fe,Ce),Ce},h.asn1.cms.CMSParser=function(){var r=Error,s=rn,o=new s,l=Ut,f=l.getV,p=l.getTLV,_=l.getTLVbyList,x=l.getTLVbyListEx,P=l.getVbyList,U=l.getVbyListEx,$=l.getChildIdx;this.getCMSSignedData=function(b){var S=_(b,0,[1,0]);return this.getSignedData(S)},this.getSignedData=function(b){var S=$(b,0),V={},T=f(b,S[0]),K=parseInt(T,16);V.version=K;var B=p(b,S[1]);V.hashalgs=this.getHashAlgArray(B);var J=p(b,S[2]);V.econtent=this.getEContent(J);var de=x(b,0,["[0]"]);null!=de&&(V.certs=this.getCertificateSet(de)),x(b,0,["[1]"]);var pe=x(b,0,[3]);return V.sinfos=this.getSignerInfos(pe),V},this.getHashAlgArray=function(b){for(var S=$(b,0),V=new s,T=[],K=0;K<S.length;K++){var B=p(b,S[K]),J=V.getAlgorithmIdentifierName(B);T.push(J)}return T},this.getEContent=function(b){var S={},V=P(b,0,[0]),T=P(b,0,[1,0]);return S.type=h.asn1.x509.OID.oid2name(Ut.hextooidstr(V)),S.content={hex:T},S},this.getSignerInfos=function(b){for(var S=[],V=$(b,0),T=0;T<V.length;T++){var K=p(b,V[T]),B=this.getSignerInfo(K);S.push(B)}return S},this.getSignerInfo=function(b){var S={},V=$(b,0),T=l.getInt(b,V[0],-1);-1!=T&&(S.version=T);var K=p(b,V[1]),B=this.getIssuerAndSerialNumber(K);S.id=B;var J=p(b,V[2]),de=o.getAlgorithmIdentifierName(J);S.hashalg=de;var fe=x(b,0,["[0]"]);if(null!=fe){var pe=this.getAttributeList(fe);S.sattrs=pe}var it=x(b,0,[3]),ct=o.getAlgorithmIdentifierName(it);S.sigalg=ct;var W=U(b,0,[4]);S.sighex=W;var Z=x(b,0,["[1]"]);if(null!=Z){var me=this.getAttributeList(Z);S.uattrs=me}return S},this.getSignerIdentifier=function(b){if("30"==b.substr(0,2))return this.getIssuerAndSerialNumber(b);throw new Error("SKID of signerIdentifier not supported")},this.getIssuerAndSerialNumber=function(b){var S={type:"isssn"},V=$(b,0),T=p(b,V[0]);S.issuer=o.getX500Name(T);var K=f(b,V[1]);return S.serial={hex:K},S},this.getAttributeList=function(b){for(var S=[],V=$(b,0),T=0;T<V.length;T++){var K=p(b,V[T]),B=this.getAttribute(K);S.push(B)}return{array:S}},this.getAttribute=function(b){var S={},V=$(b,0),T=l.getOID(b,V[0]),K=h.asn1.x509.OID.oid2name(T);S.attr=K;var B=p(b,V[1]),J=$(B,0);if(1==J.length)S.valhex=p(B,J[0]);else{for(var de=[],fe=0;fe<J.length;fe++)de.push(p(B,J[fe]));S.valhex=de}return"contentType"==K?this.setContentType(S):"messageDigest"==K?this.setMessageDigest(S):"signingTime"==K?this.setSigningTime(S):"signingCertificate"==K?this.setSigningCertificate(S):"signingCertificateV2"==K?this.setSigningCertificateV2(S):"signaturePolicyIdentifier"==K&&this.setSignaturePolicyIdentifier(S),S},this.setContentType=function(b){var S=l.getOIDName(b.valhex,0,null);null!=S&&(b.type=S,delete b.valhex)},this.setSigningTime=function(b){var V=X(f(b.valhex,0));b.str=V,delete b.valhex},this.setMessageDigest=function(b){var S=f(b.valhex,0);b.hex=S,delete b.valhex},this.setSigningCertificate=function(b){var S=$(b.valhex,0);if(S.length>0){for(var V=p(b.valhex,S[0]),T=$(V,0),K=[],B=0;B<T.length;B++){var J=p(V,T[B]),de=this.getESSCertID(J);K.push(de)}b.array=K}if(S.length>1){var fe=p(b.valhex,S[1]);b.polhex=fe}delete b.valhex},this.setSignaturePolicyIdentifier=function(b){var S=$(b.valhex,0);if(S.length>0){var V=l.getOID(b.valhex,S[0]);b.oid=V}if(S.length>1){var T=new s,K=$(b.valhex,S[1]),B=p(b.valhex,K[0]),J=T.getAlgorithmIdentifierName(B);b.alg=J;var de=f(b.valhex,K[1]);b.hash=de}delete b.valhex},this.setSigningCertificateV2=function(b){var S=$(b.valhex,0);if(S.length>0){for(var V=p(b.valhex,S[0]),T=$(V,0),K=[],B=0;B<T.length;B++){var J=p(V,T[B]),de=this.getESSCertIDv2(J);K.push(de)}b.array=K}if(S.length>1){var fe=p(b.valhex,S[1]);b.polhex=fe}delete b.valhex},this.getESSCertID=function(b){var S={},V=$(b,0);if(V.length>0){var T=f(b,V[0]);S.hash=T}if(V.length>1){var K=p(b,V[1]),B=this.getIssuerSerial(K);null!=B.serial&&(S.serial=B.serial),null!=B.issuer&&(S.issuer=B.issuer)}return S},this.getESSCertIDv2=function(b){var S={},V=$(b,0);if(V.length<1||3<V.length)throw new r("wrong number of elements");var T=0;if("30"==b.substr(V[0],2)){var K=p(b,V[0]);S.alg=o.getAlgorithmIdentifierName(K),T++}else S.alg="sha256";var B=f(b,V[T]);if(S.hash=B,V.length>T+1){var J=p(b,V[T+1]),de=this.getIssuerSerial(J);S.issuer=de.issuer,S.serial=de.serial}return S},this.getIssuerSerial=function(b){var S={},V=$(b,0),T=p(b,V[0]),K=o.getGeneralNames(T);S.issuer=K[0].dn;var J=f(b,V[1]);return S.serial={hex:J},S},this.getCertificateSet=function(b){for(var S=$(b,0),V=[],T=0;T<S.length;T++){var K=p(b,S[T]);if("30"==K.substr(0,2)){var B=kr(K,"CERTIFICATE");V.push(B)}}return{array:V,sortflag:!1}}},(typeof h>"u"||!h)&&(h={}),(typeof h.asn1>"u"||!h.asn1)&&(h.asn1={}),(typeof h.asn1.tsp>"u"||!h.asn1.tsp)&&(h.asn1.tsp={}),h.asn1.tsp.TimeStampToken=function(r){var l=h.asn1.tsp;l.TimeStampToken.superclass.constructor.call(this),this.params=null,this.getEncodedHexPrepare=function(){var f=new l.TSTInfo(this.params.econtent.content);this.params.econtent.content.hex=f.tohex()},null!=r&&this.setByParam(r)},ne(h.asn1.tsp.TimeStampToken,h.asn1.cms.SignedData),h.asn1.tsp.TSTInfo=function(r){Error;var l=h.asn1,f=l.DERSequence,p=l.DERInteger,m=l.DERBoolean,_=l.DERGeneralizedTime,x=l.DERObjectIdentifier,P=l.DERTaggedObject,U=l.tsp,$=U.MessageImprint,b=U.Accuracy,V=l.x509.GeneralName;if(U.TSTInfo.superclass.constructor.call(this),this.dVersion=new p({int:1}),this.dPolicy=null,this.dMessageImprint=null,this.dSerial=null,this.dGenTime=null,this.dAccuracy=null,this.dOrdering=null,this.dNonce=null,this.dTsa=null,this.tohex=function(){var T=[this.dVersion];if(null==this.dPolicy)throw new Error("policy shall be specified.");if(T.push(this.dPolicy),null==this.dMessageImprint)throw new Error("messageImprint shall be specified.");if(T.push(this.dMessageImprint),null==this.dSerial)throw new Error("serialNumber shall be specified.");if(T.push(this.dSerial),null==this.dGenTime)throw new Error("genTime shall be specified.");T.push(this.dGenTime),null!=this.dAccuracy&&T.push(this.dAccuracy),null!=this.dOrdering&&T.push(this.dOrdering),null!=this.dNonce&&T.push(this.dNonce),null!=this.dTsa&&T.push(this.dTsa);var K=new f({array:T});return this.hTLV=K.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==r){if("string"==typeof r.policy){if(!r.policy.match(/^[0-9.]+$/))throw"policy shall be oid like 0.1.4.134";this.dPolicy=new x({oid:r.policy})}void 0!==r.messageImprint&&(this.dMessageImprint=new $(r.messageImprint)),void 0!==r.serial&&(this.dSerial=new p(r.serial)),void 0!==r.genTime&&(this.dGenTime=new _(r.genTime)),void 0!==r.accuracy&&(this.dAccuracy=new b(r.accuracy)),void 0!==r.ordering&&1==r.ordering&&(this.dOrdering=new m),void 0!==r.nonce&&(this.dNonce=new p(r.nonce)),void 0!==r.tsa&&(this.dTsa=new P({tag:"a0",explicit:!0,obj:new V({dn:r.tsa})}))}},ne(h.asn1.tsp.TSTInfo,h.asn1.ASN1Object),h.asn1.tsp.Accuracy=function(r){var o=h.asn1,l=o.ASN1Util.newObject;o.tsp.Accuracy.superclass.constructor.call(this),this.params=null,this.tohex=function(){var f=this.params,p=[];return null!=f.seconds&&"number"==typeof f.seconds&&p.push({int:f.seconds}),null!=f.millis&&"number"==typeof f.millis&&p.push({tag:{tagi:"80",obj:{int:f.millis}}}),null!=f.micros&&"number"==typeof f.micros&&p.push({tag:{tagi:"81",obj:{int:f.micros}}}),l({seq:p}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},ne(h.asn1.tsp.Accuracy,h.asn1.ASN1Object),h.asn1.tsp.MessageImprint=function(r){var o=h.asn1,l=o.DERSequence,f=o.DEROctetString,m=o.x509.AlgorithmIdentifier;o.tsp.MessageImprint.superclass.constructor.call(this),this.params=null,this.tohex=function(){var _=this.params,x=new m({name:_.alg}),P=new f({hex:_.hash});return new l({array:[x,P]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&this.setByParam(r)},ne(h.asn1.tsp.MessageImprint,h.asn1.ASN1Object),h.asn1.tsp.TimeStampReq=function(r){var o=h.asn1,l=o.DERSequence,f=o.DERInteger,p=o.DERBoolean,_=o.DERObjectIdentifier,x=o.tsp,P=x.MessageImprint;x.TimeStampReq.superclass.constructor.call(this),this.params=null,this.tohex=function(){var U=this.params,$=[];return $.push(new f({int:1})),$.push(U.messageImprint instanceof h.asn1.ASN1Object?U.messageImprint:new P(U.messageImprint)),null!=U.policy&&$.push(new _(U.policy)),null!=U.nonce&&$.push(new f(U.nonce)),1==U.certreq&&$.push(new p),new l({array:$}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},ne(h.asn1.tsp.TimeStampReq,h.asn1.ASN1Object),h.asn1.tsp.TimeStampResp=function(r){var o=h.asn1,l=o.DERSequence,p=o.tsp,m=p.PKIStatusInfo;p.TimeStampResp.superclass.constructor.call(this),this.params=null,this.tohex=function(){var _=this.params,x=[];if(null!=_.econtent||null!=_.tst)if(x.push(new m(null!=_.statusinfo?_.statusinfo:"granted")),null!=_.econtent)x.push(new p.TimeStampToken(_).getContentInfo());else{if(!(_.tst instanceof o.ASN1Object))throw new Error("improper member tst value");x.push(_.tst)}else{if(null==_.statusinfo)throw new Error("parameter for token nor statusinfo not specified");x.push(new m(_.statusinfo))}return new l({array:x}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},ne(h.asn1.tsp.TimeStampResp,h.asn1.ASN1Object),h.asn1.tsp.PKIStatusInfo=function(r){var s=Error,l=h.asn1,f=l.DERSequence,p=l.tsp,m=p.PKIStatus,_=p.PKIFreeText,x=p.PKIFailureInfo;p.PKIStatusInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var P=this.params,U=[];if("string"==typeof P)U.push(new m(P));else{if(null==P.status)throw new s("property 'status' unspecified");U.push(new m(P.status)),null!=P.statusstr&&U.push(new _(P.statusstr)),null!=P.failinfo&&U.push(new x(P.failinfo))}return new f({array:U}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},ne(h.asn1.tsp.PKIStatusInfo,h.asn1.ASN1Object),h.asn1.tsp.PKIStatus=function(r){var s=Error,l=h.asn1,f=l.DERInteger;l.tsp.PKIStatus.superclass.constructor.call(this);var m={granted:0,grantedWithMods:1,rejection:2,waiting:3,revocationWarning:4,revocationNotification:5};this.params=null,this.tohex=function(){var P,_=this.params;if("string"==typeof _)try{P=m[_]}catch{throw new s("undefined name: "+_)}else{if("number"!=typeof _)throw new s("unsupported params");P=_}return new f({int:P}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},ne(h.asn1.tsp.PKIStatus,h.asn1.ASN1Object),h.asn1.tsp.PKIFreeText=function(r){var s=Error,l=h.asn1,f=l.DERSequence,p=l.DERUTF8String;l.tsp.PKIFreeText.superclass.constructor.call(this),this.params=null,this.tohex=function(){var _=this.params;if(!_ instanceof Array)throw new s("wrong params: not array");for(var x=[],P=0;P<_.length;P++)x.push(new p({str:_[P]}));return new f({array:x}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},ne(h.asn1.tsp.PKIFreeText,h.asn1.ASN1Object),h.asn1.tsp.PKIFailureInfo=function(r){var s=Error,l=h.asn1,f=l.DERBitString,_={badAlg:0,badRequest:2,badDataFormat:5,timeNotAvailable:14,unacceptedPolicy:15,unacceptedExtension:16,addInfoNotAvailable:17,systemFailure:25};l.tsp.PKIFailureInfo.superclass.constructor.call(this),this.params=null,this.getBinValue=function(){var x=this.params,P=0;if("number"==typeof x&&0<=x&&x<=25){for(var U=(P|=1<<x).toString(2),$="",b=U.length-1;b>=0;b--)$+=U[b];return $}if("string"==typeof x&&null!=_[x])return M([x],_);if("object"==typeof x&&null!=x.length)return M(x,_);throw new s("wrong params")},this.tohex=function(){var P=this.getBinValue();return new f({bin:P}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},ne(h.asn1.tsp.PKIFailureInfo,h.asn1.ASN1Object),h.asn1.tsp.AbstractTSAAdapter=function(r){this.getTSTHex=function(s,o){throw"not implemented yet"}},h.asn1.tsp.SimpleTSAAdapter=function(r){var l=h.asn1.tsp,f=h.crypto.Util.hashHex;l.SimpleTSAAdapter.superclass.constructor.call(this),this.params=null,this.serial=0,this.getTSTHex=function(p,m){var _=f(p,m);this.params.econtent.content.messageImprint={alg:m,hash:_},this.params.econtent.content.serial={int:this.serial++};var x=Math.floor(1e9*Math.random());return this.params.econtent.content.nonce={int:x},new l.TimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==r&&(this.params=r)},ne(h.asn1.tsp.SimpleTSAAdapter,h.asn1.tsp.AbstractTSAAdapter),h.asn1.tsp.FixedTSAAdapter=function(r){var l=h.asn1.tsp,f=h.crypto.Util.hashHex;l.FixedTSAAdapter.superclass.constructor.call(this),this.params=null,this.getTSTHex=function(p,m){var _=f(p,m);return this.params.econtent.content.messageImprint={alg:m,hash:_},new l.TimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==r&&(this.params=r)},ne(h.asn1.tsp.FixedTSAAdapter,h.asn1.tsp.AbstractTSAAdapter),h.asn1.tsp.TSPUtil=new function(){},h.asn1.tsp.TSPUtil.newTimeStampToken=function(r){return new h.asn1.tsp.TimeStampToken(r)},h.asn1.tsp.TSPUtil.parseTimeStampReq=function(r){return(new h.asn1.tsp.TSPParser).getTimeStampReq(r)},h.asn1.tsp.TSPUtil.parseMessageImprint=function(r){return(new h.asn1.tsp.TSPParser).getMessageImprint(r)},h.asn1.tsp.TSPParser=function(){Error;var o=new rn,l=Ut,f=l.getV,p=l.getTLV,m=l.getIdxbyList,x=l.getChildIdx,P=["granted","grantedWithMods","rejection","waiting","revocationWarning","revocationNotification"],U={0:"badAlg",2:"badRequest",5:"badDataFormat",14:"timeNotAvailable",15:"unacceptedPolicy",16:"unacceptedExtension",17:"addInfoNotAvailable",25:"systemFailure"};this.getResponse=function($){var b=x($,0);if(1==b.length)return this.getPKIStatusInfo(p($,b[0]));if(b.length>1){var S=this.getPKIStatusInfo(p($,b[0])),V=p($,b[1]),T=this.getToken(V);return T.statusinfo=S,T}},this.getToken=function($){var S=(new h.asn1.cms.CMSParser).getCMSSignedData($);return this.setTSTInfo(S),S},this.setTSTInfo=function($){var b=$.econtent;if("tstinfo"==b.type){var V=this.getTSTInfo(b.content.hex);b.content=V}},this.getTSTInfo=function($){var b={},S=x($,0),V=f($,S[1]);b.policy=Nn(V);var T=p($,S[2]);b.messageImprint=this.getMessageImprint(T);var K=f($,S[3]);b.serial={hex:K};var B=f($,S[4]);b.genTime={str:X(B)};var J=0;if(S.length>5&&"30"==$.substr(S[5],2)){var de=p($,S[5]);b.accuracy=this.getAccuracy(de),J++}if(S.length>5+J&&"01"==$.substr(S[5+J],2)&&("ff"==f($,S[5+J])&&(b.ordering=!0),J++),S.length>5+J&&"02"==$.substr(S[5+J],2)){var pe=f($,S[5+J]);b.nonce={hex:pe},J++}if(S.length>5+J&&"a0"==$.substr(S[5+J],2)){var it=p($,S[5+J]);it="30"+it.substr(2),pGeneralNames=o.getGeneralNames(it);var ct=pGeneralNames[0].dn;b.tsa=ct,J++}if(S.length>5+J&&"a1"==$.substr(S[5+J],2)){var W=p($,S[5+J]);W="30"+W.substr(2);var Z=o.getExtParamArray(W);b.ext=Z,J++}return b},this.getAccuracy=function($){for(var b={},S=x($,0),V=0;V<S.length;V++){var T=$.substr(S[V],2),K=f($,S[V]),B=parseInt(K,16);"02"==T?b.seconds=B:"80"==T?b.millis=B:"81"==T&&(b.micros=B)}return b},this.getMessageImprint=function($){if("30"!=$.substr(0,2))throw new Error("head of messageImprint hex shall be x30");var b={},V=(x($,0),m($,0,[0,0])),T=f($,V),K=l.hextooidstr(T),B=h.asn1.x509.OID.oid2name(K);if(""==B)throw new Error("hashAlg name undefined: "+K);var J=B,de=m($,0,[1]);return b.alg=J,b.hash=f($,de),b},this.getPKIStatusInfo=function($){var b={},S=x($,0),V=0;try{var T=f($,S[0]),K=parseInt(T,16);b.status=P[K]}catch{}if(S.length>1&&"30"==$.substr(S[1],2)){var B=p($,S[1]);b.statusstr=this.getPKIFreeText(B),V++}if(S.length>V&&"03"==$.substr(S[1+V],2)){var J=p($,S[1+V]);b.failinfo=this.getPKIFailureInfo(J)}return b},this.getPKIFreeText=function($){for(var b=[],S=x($,0),V=0;V<S.length;V++)b.push(l.getString($,S[V]));return b},this.getPKIFailureInfo=function($){var b=l.getInt($,0);return null!=U[b]?U[b]:b},this.getTimeStampReq=function($){var b={certreq:!1},S=x($,0);if(S.length<2)throw new Error("TimeStampReq must have at least 2 items");var V=p($,S[1]);b.messageImprint=h.asn1.tsp.TSPUtil.parseMessageImprint(V);for(var T=2;T<S.length;T++){var K=S[T],B=$.substr(K,2);if("06"==B){var J=f($,K);b.policy=l.hextooidstr(J)}"02"==B&&(b.nonce=f($,K)),"01"==B&&(b.certreq=!0)}return b}},(typeof h>"u"||!h)&&(h={}),(typeof h.asn1>"u"||!h.asn1)&&(h.asn1={}),(typeof h.asn1.cades>"u"||!h.asn1.cades)&&(h.asn1.cades={}),h.asn1.cades.SignaturePolicyIdentifier=function(r){var l=h.asn1.cades,f=l.SignaturePolicyId;l.SignaturePolicyIdentifier.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.15",this.params=null,this.getValueArray=function(){return[new f(this.params)]},this.setByParam=function(p){this.params=p},null!=r&&this.setByParam(r)},ne(h.asn1.cades.SignaturePolicyIdentifier,h.asn1.cms.Attribute),h.asn1.cades.SignaturePolicyId=function(r){var o=h.asn1,l=o.DERSequence,f=o.DERObjectIdentifier,_=o.cades,P=_.OtherHashAlgAndValue;_.SignaturePolicyId.superclass.constructor.call(this),this.params=null,this.tohex=function(){var U=this.params,$=[];return $.push(new f(U.oid)),$.push(new P(U)),new l({array:$}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(U){this.params=U},null!=r&&this.setByParam(r)},ne(h.asn1.cades.SignaturePolicyId,h.asn1.ASN1Object),h.asn1.cades.OtherHashAlgAndValue=function(r){var s=Error,l=h.asn1,f=l.DERSequence,p=l.DEROctetString,_=l.x509.AlgorithmIdentifier;l.cades.OtherHashAlgAndValue.superclass.constructor.call(this),this.params=null,this.tohex=function(){var U=this.params;if(null==U.alg)throw new s("property 'alg' not specified");if(null==U.hash&&null==U.cert)throw new s("property 'hash' nor 'cert' not specified");var $=null;if(null!=U.hash)$=U.hash;else if(null!=U.cert){if("string"!=typeof U.cert)throw new s("cert not string");var b=U.cert;-1!=U.cert.indexOf("-----BEGIN")&&(b=Vr(U.cert)),$=h.crypto.Util.hashHex(b,U.alg)}var S=[];return S.push(new _({name:U.alg})),S.push(new p({hex:$})),new f({array:S}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},ne(h.asn1.cades.OtherHashAlgAndValue,h.asn1.ASN1Object),h.asn1.cades.OtherHashValue=function(r){h.asn1.cades.OtherHashValue.superclass.constructor.call(this);var s=Error,p=h.asn1.DEROctetString;this.params=null,this.tohex=function(){var _=this.params;if(null==_.hash&&null==_.cert)throw new s("hash or cert not specified");var x=null;if(null!=_.hash)x=_.hash;else if(null!=_.cert){if("string"!=typeof _.cert)throw new s("cert not string");var P=_.cert;-1!=_.cert.indexOf("-----BEGIN")&&(P=Vr(_.cert)),x=h.crypto.Util.hashHex(P,"sha1")}return new p({hex:x}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},ne(h.asn1.cades.OtherHashValue,h.asn1.ASN1Object),h.asn1.cades.SignatureTimeStamp=function(r){var s=Error,l=h.lang.String.isHex,f=h.asn1,p=f.ASN1Object;f.cades.SignatureTimeStamp.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.14",this.params=null,this.getValueArray=function(){var x=this.params;if(null!=x.tst){if(l(x.tst))return(P=new p).hTLV=x.tst,[P];if(x.tst instanceof p)return[x.tst];throw new s("params.tst has wrong value")}if(null!=x.res){var P,U=x.res;if(U instanceof p&&(U=U.tohex()),"string"!=typeof U||!l(U))throw new s("params.res has wrong value");return Ut.getTLVbyList(U,0,[1]),(P=new p).hTLV=x.tst,[P]}},null!=r&&this.setByParam(r)},ne(h.asn1.cades.SignatureTimeStamp,h.asn1.cms.Attribute),h.asn1.cades.CompleteCertificateRefs=function(r){var s=Error,l=h.asn1,f=l.DERSequence,p=l.cades,m=p.OtherCertID,_=h.lang.String.isHex;p.CompleteCertificateRefs.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.21",this.params=null,this.getValueArray=function(){for(var x=this.params,P=[],U=0;U<x.array.length;U++){var $=x.array[U];if("string"==typeof $)if(-1!=$.indexOf("-----BEGIN"))$={cert:$};else{if(!_($))throw new s("unsupported value: "+$);$={hash:$}}null!=x.alg&&null==$.alg&&($.alg=x.alg),null!=x.hasis&&null==$.hasis&&($.hasis=x.hasis);var b=new m($);P.push(b)}return[new f({array:P})]},null!=r&&this.setByParam(r)},ne(h.asn1.cades.CompleteCertificateRefs,h.asn1.cms.Attribute),h.asn1.cades.OtherCertID=function(r){var o=h.asn1,l=o.DERSequence,p=o.cms.IssuerSerial,m=o.cades,_=m.OtherHashValue,x=m.OtherHashAlgAndValue;m.OtherCertID.superclass.constructor.call(this),this.params=r,this.tohex=function(){var P=this.params;"string"==typeof P&&(-1!=P.indexOf("-----BEGIN")?P={cert:P}:_isHex(P)&&(P={hash:P}));var $,U=[];if($=null!=P.alg?new x(P):new _(P),U.push($),null!=P.cert&&1==P.hasis||null!=P.issuer&&null!=P.serial){var b=new p(P);U.push(b)}return new l({array:U}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},ne(h.asn1.cades.OtherCertID,h.asn1.ASN1Object),h.asn1.cades.OtherHash=function(r){Error;var p=h.asn1.cades,m=p.OtherHashAlgAndValue,_=p.OtherHashValue,P=h.lang.String.isHex;p.OtherHash.superclass.constructor.call(this),this.params=null,this.tohex=function(){var U=this.params;return"string"==typeof U&&(-1!=U.indexOf("-----BEGIN")?U={cert:U}:P(U)&&(U={hash:U})),(null!=U.alg?new m(U):new _(U)).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},ne(h.asn1.cades.OtherHash,h.asn1.ASN1Object),h.asn1.cades.CAdESUtil=new function(){},h.asn1.cades.CAdESUtil.parseSignedDataForAddingUnsigned=function(r){return(new h.asn1.cms.CMSParser).getCMSSignedData(r)},h.asn1.cades.CAdESUtil.parseSignerInfoForAddingUnsigned=function(r,s,o){var p=Ut.getTLV,m=Ut.getV,x=h.asn1,P=x.ASN1Object,U=x.cms,$=U.AttributeList,b=U.SignerInfo,S={},V=(0,Ut.getChildIdx)(r,s);if(6!=V.length)throw"not supported items for SignerInfo (!=6)";var T=V.shift();S.version=p(r,T);var K=V.shift();S.si=p(r,K);var B=V.shift();S.digalg=p(r,B);var J=V.shift();S.sattrs=p(r,J);var de=V.shift();S.sigalg=p(r,de);var fe=V.shift();S.sig=p(r,fe),S.sigval=m(r,fe);var pe=null;return S.obj=new b,(pe=new P).hTLV=S.version,S.obj.dCMSVersion=pe,(pe=new P).hTLV=S.si,S.obj.dSignerIdentifier=pe,(pe=new P).hTLV=S.digalg,S.obj.dDigestAlgorithm=pe,(pe=new P).hTLV=S.sattrs,S.obj.dSignedAttrs=pe,(pe=new P).hTLV=S.sigalg,S.obj.dSigAlg=pe,(pe=new P).hTLV=S.sig,S.obj.dSig=pe,S.obj.dUnsignedAttrs=new $,S},(typeof h.asn1.csr>"u"||!h.asn1.csr)&&(h.asn1.csr={}),h.asn1.csr.CertificationRequest=function(r){var o=h.asn1,l=o.DERBitString,f=o.DERSequence,p=o.csr,_=p.CertificationRequestInfo;p.CertificationRequest.superclass.constructor.call(this),this.setByParam=function(x){this.params=x},this.sign=function(){var x=new _(this.params).tohex(),P=new h.crypto.Signature({alg:this.params.sigalg});P.init(this.params.sbjprvkey),P.updateHex(x);var U=P.sign();this.params.sighex=U},this.getPEM=function(){return kr(this.tohex(),"CERTIFICATE REQUEST")},this.tohex=function(){var x=this.params,P=new h.asn1.csr.CertificationRequestInfo(this.params),U=new h.asn1.x509.AlgorithmIdentifier({name:x.sigalg});if(null==x.sighex&&null!=x.sbjprvkey&&this.sign(),null==x.sighex)throw new Error("sighex or sbjprvkey parameter not defined");var $=new l({hex:"00"+x.sighex});return new f({array:[P,U,$]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&this.setByParam(r)},ne(h.asn1.csr.CertificationRequest,h.asn1.ASN1Object),h.asn1.csr.CertificationRequestInfo=function(r){var o=h.asn1,f=o.DERSequence,p=o.DERInteger,m=o.DERUTF8String,_=o.DERTaggedObject,x=o.ASN1Util.newObject,U=o.x509,$=U.X500Name,b=U.Extensions,S=U.SubjectPublicKeyInfo;o.csr.CertificationRequestInfo.superclass.constructor.call(this),this.params=null,this.setByParam=function(K){null!=K&&(this.params=K)},this.tohex=function(){var K=this.params,B=[];if(B.push(new p({int:0})),B.push(new $(K.subject)),B.push(new S($e.getKey(K.sbjpubkey))),null!=K.attrs){var J=function T(K){for(var B=Error,J=h.asn1.x509.Extensions,de=[],fe=0;fe<K.length;fe++){var pe=K[fe],it=pe.attr;if("extensionRequest"==it){var ct=new J(pe.ext);de.push({seq:[{oid:"1.2.840.113549.1.9.14"},{set:[ct]}]})}else if("unstructuredName"==it)de.push({seq:[{oid:"1.2.840.113549.1.9.2"},{set:pe.names}]});else{if("challengePassword"!=it)throw new B("unknown CSR attribute");de.push({seq:[{oid:"1.2.840.113549.1.9.7"},{set:[{utf8str:pe.password}]}]})}}return{set:de}}(K.attrs),de=x({tag:{tage:"a0",obj:J}});B.push(de)}else if(null!=K.extreq){var fe=new b(K.extreq);de=x({tag:{tage:"a0",obj:{seq:[{oid:"1.2.840.113549.1.9.14"},{set:[fe]}]}}}),B.push(de)}else B.push(new _({tag:"a0",explicit:!1,obj:new m({str:""})}));return new f({array:B}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},ne(h.asn1.csr.CertificationRequestInfo,h.asn1.ASN1Object),h.asn1.csr.AttributeList=function(r){},ne(h.asn1.csr.AttributeList,h.asn1.ASN1Object),h.asn1.csr.CSRUtil=new function(){},h.asn1.csr.CSRUtil.newCSRPEM=function(r){return new h.asn1.csr.CertificationRequest(r).getPEM()},h.asn1.csr.CSRUtil.getParam=function(r,s){var l=Ut.getV,f=Ut.getIdxbyList,p=Ut.getTLVbyList,m=Ut.getTLVbyListEx,_=Ut.getVbyListEx,P={};if(-1==r.indexOf("-----BEGIN CERTIFICATE REQUEST"))throw new Error("argument is not PEM file");var U=Vr(r,"CERTIFICATE REQUEST");s&&(P.tbs=p(U,0,[0]));try{var $=m(U,0,[0,1]);if("3000"==$)P.subject={};else{var T=new rn;P.subject=T.getX500Name($)}}catch{}var b=m(U,0,[0,2]),S=$e.getKey(b,null,"pkcs8pub");P.sbjpubkey=$e.getPEM(S,"PKCS8PUB");var J,de,V=(de=f(J=U,0,[0,3,0,0],"06"),"2a864886f70d01090e"!=l(J,de)?null:p(J,0,[0,3,0,1,0],"30"));T=new rn,null!=V&&(P.extreq=T.getExtParamArray(V));try{var K=m(U,0,[1],"30");T=new rn,P.sigalg=T.getAlgorithmIdentifierName(K)}catch{}try{var B=_(U,0,[2]);P.sighex=B}catch{}return P},h.asn1.csr.CSRUtil.verifySignature=function(r){try{var s=null;if("string"==typeof r&&-1!=r.indexOf("-----BEGIN CERTIFICATE REQUEST")?s=h.asn1.csr.CSRUtil.getParam(r,!0):"object"==typeof r&&null!=r.sbjpubkey&&null!=r.sigalg&&null!=r.sighex&&null!=r.tbs&&(s=r),null==s)return!1;var o=new h.crypto.Signature({alg:s.sigalg});return o.init(s.sbjpubkey),o.updateHex(s.tbs),o.verify(s.sighex)}catch(l){return alert(l),!1}},(typeof h>"u"||!h)&&(h={}),(typeof h.asn1>"u"||!h.asn1)&&(h.asn1={}),(typeof h.asn1.ocsp>"u"||!h.asn1.ocsp)&&(h.asn1.ocsp={}),h.asn1.ocsp.DEFAULT_HASH="sha1",h.asn1.ocsp.OCSPResponse=function(r){h.asn1.ocsp.OCSPResponse.superclass.constructor.call(this);var o=h.asn1.ASN1Util.newObject,l=h.asn1.ocsp.ResponseBytes,f=["successful","malformedRequest","internalError","tryLater","_not_used_","sigRequired","unauthorized"];this.params=null,this._getStatusCode=function(){var p=this.params.resstatus;return"number"==typeof p?p:"string"!=typeof p?-1:f.indexOf(p)},this.setByParam=function(p){this.params=p},this.tohex=function(){var p=this.params,m=this._getStatusCode();if(-1==m)throw new Error("responseStatus not supported: "+p.resstatus);if(0!=m)return o({seq:[{enum:{int:m}}]}).tohex();var _=new l(p);return o({seq:[{enum:{int:0}},{tag:{tag:"a0",explicit:!0,obj:_}}]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&this.setByParam(r)},ne(h.asn1.ocsp.OCSPResponse,h.asn1.ASN1Object),h.asn1.ocsp.ResponseBytes=function(r){h.asn1.ocsp.ResponseBytes.superclass.constructor.call(this);var s=h.asn1,o=s.DERSequence,l=s.DERObjectIdentifier,f=s.DEROctetString,p=s.ocsp.BasicOCSPResponse;this.params=null,this.setByParam=function(m){this.params=m},this.tohex=function(){var m=this.params;if("ocspBasic"!=m.restype)throw new Error("not supported responseType: "+m.restype);var _=new p(m),x=[];return x.push(new l({name:"ocspBasic"})),x.push(new f({hex:_.tohex()})),new o({array:x}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&this.setByParam(r)},ne(h.asn1.ocsp.ResponseBytes,h.asn1.ASN1Object),h.asn1.ocsp.BasicOCSPResponse=function(r){h.asn1.ocsp.BasicOCSPResponse.superclass.constructor.call(this);var s=Error,o=h.asn1,l=o.ASN1Object,f=o.DERSequence,m=o.DERTaggedObject,_=o.DERBitString,P=o.x509.AlgorithmIdentifier,U=o.ocsp;_SingleResponseList=U.SingleResponseList,_ResponseData=U.ResponseData,this.params=null,this.setByParam=function(b){this.params=b},this.sign=function(){var b=this.params,S=b.tbsresp.tohex(),V=new h.crypto.Signature({alg:b.sigalg});V.init(b.reskey),V.updateHex(S),b.sighex=V.sign()},this.tohex=function(){var b=this.params;null==b.tbsresp&&(b.tbsresp=new _ResponseData(b)),null==b.sighex&&null!=b.reskey&&this.sign();var S=[];if(S.push(b.tbsresp),S.push(new P({name:b.sigalg})),S.push(new _({hex:"00"+b.sighex})),null!=b.certs&&null!=b.certs.length){for(var V=[],T=0;T<b.certs.length;T++){var K=b.certs[T],B=null;if(Ut.isASN1HEX(K))B=K;else{if(!K.match(/-----BEGIN/))throw new s("certs["+T+"] not hex or PEM");B=Vr(K)}V.push(new l({tlv:B}))}var J=new f({array:V});S.push(new m({tag:"a0",explicit:!0,obj:J}))}return new f({array:S}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&this.setByParam(r)},ne(h.asn1.ocsp.BasicOCSPResponse,h.asn1.ASN1Object),h.asn1.ocsp.ResponseData=function(r){h.asn1.ocsp.ResponseData.superclass.constructor.call(this);var s=Error,o=h.asn1,l=o.DERSequence,f=o.DERGeneralizedTime,p=o.DERTaggedObject,m=o.x509.Extensions,_=o.ocsp,x=_.ResponderID;_SingleResponseList=_.SingleResponseList,this.params=null,this.tohex=function(){var P=this.params;null!=P.respid&&new s("respid not specified"),null!=P.prodat&&new s("prodat not specified"),null!=P.array&&new s("array not specified");var U=[];if(U.push(new x(P.respid)),U.push(new f(P.prodat)),U.push(new _SingleResponseList(P.array)),null!=P.ext){var $=new m(P.ext);U.push(new p({tag:"a1",explicit:!0,obj:$}))}return new l({array:U}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(P){this.params=P},void 0!==r&&this.setByParam(r)},ne(h.asn1.ocsp.ResponseData,h.asn1.ASN1Object),h.asn1.ocsp.ResponderID=function(r){h.asn1.ocsp.ResponderID.superclass.constructor.call(this);var o=h.asn1,l=o.ASN1Util.newObject,f=o.x509.X500Name,p=h.lang.String.isHex,m=Error;this.params=null,this.tohex=function(){var _=this.params;if(null!=_.key){var x=null;if("string"==typeof _.key)p(_.key)&&(x=_.key),_.key.match(/-----BEGIN CERTIFICATE/)&&null!=(U=new rn(_.key).getExtSubjectKeyIdentifier())&&(x=U.kid.hex);else if(_.key instanceof rn){var U;null!=(U=_.key.getExtSubjectKeyIdentifier())&&(x=U.kid.hex)}if(null==x)throw new m("wrong key member value");return l({tag:{tag:"a2",explicit:!0,obj:{octstr:{hex:x}}}}).tohex()}if(null!=_.name){var b=null;if("string"==typeof _.name&&_.name.match(/-----BEGIN CERTIFICATE/)?b=new rn(_.name).getSubject():_.name instanceof rn?b=_.name.getSubject():"object"==typeof _.name&&(null!=_.name.array||null!=_.name.str)&&(b=_.name),null==b)throw new m("wrong name member value");return l({tag:{tag:"a1",explicit:!0,obj:new f(b)}}).tohex()}throw new m("key or name not specified")},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(_){this.params=_},void 0!==r&&this.setByParam(r)},ne(h.asn1.ocsp.ResponderID,h.asn1.ASN1Object),h.asn1.ocsp.SingleResponseList=function(r){h.asn1.ocsp.SingleResponseList.superclass.constructor.call(this);var s=h.asn1,o=s.DERSequence,l=s.ocsp.SingleResponse;this.params=null,this.tohex=function(){var f=this.params;if("object"!=typeof f||null==f.length)throw new Error("params not specified properly");for(var p=[],m=0;m<f.length;m++)p.push(new l(f[m]));return new o({array:p}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(f){this.params=f},void 0!==r&&this.setByParam(r)},ne(h.asn1.ocsp.SingleResponseList,h.asn1.ASN1Object),h.asn1.ocsp.SingleResponse=function(r){var s=Error,l=h.asn1,f=l.DERSequence,p=l.DERGeneralizedTime,m=l.DERTaggedObject,_=l.ocsp,x=_.CertID,P=_.CertStatus,$=l.x509.Extensions;_.SingleResponse.superclass.constructor.call(this),this.params=null,this.tohex=function(){var b=this.params,S=[];if(null==b.certid)throw new s("certid unspecified");if(null==b.status)throw new s("status unspecified");if(null==b.thisupdate)throw new s("thisupdate unspecified");if(S.push(new x(b.certid)),S.push(new P(b.status)),S.push(new p(b.thisupdate)),null!=b.nextupdate){var V=new p(b.nextupdate);S.push(new m({tag:"a0",explicit:!0,obj:V}))}if(null!=b.ext){var T=new $(b.ext);S.push(new m({tag:"a1",explicit:!0,obj:T}))}return new f({array:S}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(b){this.params=b},void 0!==r&&this.setByParam(r)},ne(h.asn1.ocsp.SingleResponse,h.asn1.ASN1Object),h.asn1.ocsp.CertID=function(r){var o=h.asn1,l=o.DEROctetString,f=o.DERInteger,p=o.DERSequence,_=o.x509.AlgorithmIdentifier,$=h.crypto.Util.hashHex,b=rn,V=Ut.getVbyList;o.ocsp.CertID.superclass.constructor.call(this),this.DEFAULT_HASH="sha1",this.params=null,this.setByValue=function(T,K,B,J){null==J&&(J=this.DEFAULT_HASH),this.params={alg:J,issname:T,isskey:K,sbjsn:B}},this.setByCert=function(T,K,B){null==B&&(B=this.DEFAULT_HASH),this.params={alg:B,issuerCert:T,subjectCert:K}},this.getParamByCerts=function(T,K,B){null==B&&(B=this.DEFAULT_HASH);var J=new b(T),de=new b(K),fe=$(J.getSubjectHex(),B),pe=J.getPublicKeyHex();return{alg:B,issname:fe,isskey:$(V(pe,0,[1],"03",!0),B),sbjsn:de.getSerialNumberHex()}},this.tohex=function(){if("object"!=typeof this.params)throw new Error("params not set");var K,B,J,de,T=this.params;if(de=null==T.alg?this.DEFAULT_HASH:T.alg,null!=T.issuerCert&&null!=T.subjectCert){var fe=this.getParamByCerts(T.issuerCert,T.subjectCert,de);K=fe.issname,B=fe.isskey,J=fe.sbjsn}else{if(null==T.issname||null==T.isskey||null==T.sbjsn)throw new Error("required param members not defined");K=T.issname,B=T.isskey,J=T.sbjsn}var pe=new _({name:de}),it=new l({hex:K}),ct=new l({hex:B}),W=new f({hex:J}),Z=new p({array:[pe,it,ct,W]});return this.hTLV=Z.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&this.setByParam(r)},ne(h.asn1.ocsp.CertID,h.asn1.ASN1Object),h.asn1.ocsp.CertStatus=function(r){h.asn1.ocsp.CertStatus.superclass.constructor.call(this),this.params=null,this.tohex=function(){var s=this.params;if("good"==s.status)return"8000";if("unknown"==s.status)return"8200";if("revoked"==s.status){var o=[{gentime:{str:s.time}}];return null!=s.reason&&o.push({tag:{tag:"a0",explicit:!0,obj:{enum:{int:s.reason}}}}),h.asn1.ASN1Util.newObject({tag:{tag:"a1",explicit:!1,obj:{seq:o}}}).tohex()}throw new Error("bad status")},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(s){this.params=s},void 0!==r&&this.setByParam(r)},ne(h.asn1.ocsp.CertStatus,h.asn1.ASN1Object),h.asn1.ocsp.Request=function(r){var o=h.asn1,l=o.DERSequence,f=o.ocsp;if(f.Request.superclass.constructor.call(this),this.dReqCert=null,this.dExt=null,this.tohex=function(){var m=[];if(null===this.dReqCert)throw"reqCert not set";m.push(this.dReqCert);var _=new l({array:m});return this.hTLV=_.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},typeof r<"u"){var p=new f.CertID(r);this.dReqCert=p}},ne(h.asn1.ocsp.Request,h.asn1.ASN1Object),h.asn1.ocsp.TBSRequest=function(r){var o=h.asn1,l=o.DERSequence,f=o.ocsp;f.TBSRequest.superclass.constructor.call(this),this.version=0,this.dRequestorName=null,this.dRequestList=[],this.dRequestExt=null,this.setRequestListByParam=function(p){for(var m=[],_=0;_<p.length;_++){var x=new f.Request(p[0]);m.push(x)}this.dRequestList=m},this.tohex=function(){var p=[];if(0!==this.version)throw"not supported version: "+this.version;if(null!==this.dRequestorName)throw"requestorName not supported";var m=new l({array:this.dRequestList});if(p.push(m),null!==this.dRequestExt)throw"requestExtensions not supported";var _=new l({array:p});return this.hTLV=_.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&void 0!==r.reqList&&this.setRequestListByParam(r.reqList)},ne(h.asn1.ocsp.TBSRequest,h.asn1.ASN1Object),h.asn1.ocsp.OCSPRequest=function(r){var o=h.asn1,l=o.DERSequence,f=o.ocsp;if(f.OCSPRequest.superclass.constructor.call(this),this.dTbsRequest=null,this.dOptionalSignature=null,this.tohex=function(){var m=[];if(null===this.dTbsRequest)throw"tbsRequest not set";if(m.push(this.dTbsRequest),null!==this.dOptionalSignature)throw"optionalSignature not supported";var _=new l({array:m});return this.hTLV=_.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&void 0!==r.reqList){var p=new f.TBSRequest(r);this.dTbsRequest=p}},ne(h.asn1.ocsp.OCSPRequest,h.asn1.ASN1Object),h.asn1.ocsp.OCSPUtil={},h.asn1.ocsp.OCSPUtil.getRequestHex=function(r,s,o){var p=h.asn1.ocsp;return void 0===o&&(o=p.DEFAULT_HASH),new p.OCSPRequest({reqList:[{alg:o,issuerCert:r,subjectCert:s}]}).tohex()},h.asn1.ocsp.OCSPUtil.getOCSPResponseInfo=function(r){var o=Ut.getVbyList,l=Ut.getVbyListEx,f=Ut.getIdxbyList,m=Ut.getV,_={};try{var x=l(r,0,[0],"0a");_.responseStatus=parseInt(x,16)}catch{}if(0!==_.responseStatus)return _;try{var P=f(r,0,[1,0,1,0,0,2,0,1]);"80"===r.substr(P,2)?_.certStatus="good":"a1"===r.substr(P,2)?(_.certStatus="revoked",_.revocationTime=X(o(r,P,[0]))):"82"===r.substr(P,2)&&(_.certStatus="unknown")}catch{}try{var U=f(r,0,[1,0,1,0,0,2,0,2]);_.thisUpdate=X(m(r,U))}catch{}try{var $=f(r,0,[1,0,1,0,0,2,0,3]);"a0"===r.substr($,2)&&(_.nextUpdate=X(o(r,$,[0])))}catch{}return _},h.asn1.ocsp.OCSPParser=function(){var r=Error,s=rn,o=new s,f=Ut.getV,p=Ut.getTLV,m=Ut.getIdxbyList,_=Ut.getVbyList,x=Ut.getTLVbyList,P=Ut.getVbyListEx,U=Ut.getTLVbyListEx,$=Ut.getChildIdx;this.getOCSPRequest=function(b){var S=$(b,0);if(1!=S.length&&2!=S.length)throw new r("wrong number elements: "+S.length);return this.getTBSRequest(p(b,S[0]))},this.getTBSRequest=function(b){var S={},V=U(b,0,[0],"30");S.array=this.getRequestList(V);var T=U(b,0,["[2]",0],"30");return null!=T&&(S.ext=o.getExtParamArray(T)),S},this.getRequestList=function(b){for(var S=[],V=$(b,0),T=0;T<V.length;T++)b=p(b,V[T]),S.push(this.getRequest(b));return S},this.getRequest=function(b){var S=$(b,0);if(1!=S.length&&2!=S.length)throw new r("wrong number elements: "+S.length);var V=this.getCertID(p(b,S[0]));if(2==S.length){var T=m(b,0,[1,0]);V.ext=o.getExtParamArray(p(b,T))}return V},this.getCertID=function(b){var S=$(b,0);if(4!=S.length)throw new r("wrong number elements: "+S.length);var V=new s,T={};return T.alg=V.getAlgorithmIdentifierName(p(b,S[0])),T.issname=f(b,S[1]),T.isskey=f(b,S[2]),T.sbjsn=f(b,S[3]),T},this.getOCSPResponse=function(b){var V,S=$(b,0),T=f(b,S[0]),K=parseInt(T);if(1==S.length)return{resstatus:K};var B=x(b,0,[1,0]);return(V=this.getResponseBytes(B)).resstatus=K,V},this.getResponseBytes=function(b){var V,S=$(b,0),T=x(b,0,[1,0]);V=this.getBasicOCSPResponse(T);var K=f(b,S[0]);return V.restype=h.asn1.x509.OID.oid2name(Nn(K)),V},this.getBasicOCSPResponse=function(b){var V,S=$(b,0);V=this.getResponseData(p(b,S[0]));var T=new rn;V.alg=T.getAlgorithmIdentifierName(p(b,S[1]));var K=f(b,S[2]);V.sighex=K.substr(2);var B=P(b,0,["[0]"]);if(null!=B){for(var J=$(B,0),de=[],fe=0;fe<J.length;fe++){var pe=p(B,J[fe]);de.push(pe)}V.certs=de}return V},this.getResponseData=function(b){var S=$(b,0),V=S.length,T={},K=0;"a0"==b.substr(S[0],2)&&K++,T.respid=this.getResponderID(p(b,S[K++]));var B=f(b,S[K++]);if(T.prodat=X(B),T.array=this.getSingleResponseList(p(b,S[K++])),"a1"==b.substr(S[V-1],2)){var J=x(b,S[V-1],[0]),de=new rn;T.ext=de.getExtParamArray(J)}return T},this.getResponderID=function(b){var S={};if("a2"==b.substr(0,2)){var V=_(b,0,[0]);S.key=V}if("a1"==b.substr(0,2)){var T=x(b,0,[0]),K=new rn;S.name=K.getX500Name(T)}return S},this.getSingleResponseList=function(b){for(var S=$(b,0),V=[],T=0;T<S.length;T++){var K=this.getSingleResponse(p(b,S[T]));V.push(K)}return V},this.getSingleResponse=function(b){var S=$(b,0),V={},T=this.getCertID(p(b,S[0]));V.certid=T;var K=this.getCertStatus(p(b,S[1]));if(V.status=K,"18"==b.substr(S[2],2)){var B=f(b,S[2]);V.thisupdate=X(B)}for(var J=3;J<S.length;J++){if("a0"==b.substr(S[J],2)){var de=_(b,S[J],[0],"18");V.nextupdate=X(de)}if("a1"==b.substr(S[J],2)){var fe=new rn,pe=x(b,0,[J,0]);V.ext=fe.getExtParamArray(pe)}}return V},this.getCertStatus=function(b){var S={};if("8000"==b)return{status:"good"};if("8200"==b)return{status:"unknown"};if("a1"==b.substr(0,2)){S.status="revoked";var T=X(_(b,0,[0]));S.time=T}return S}},(typeof h>"u"||!h)&&(h={}),(typeof h.lang>"u"||!h.lang)&&(h.lang={}),h.lang.String=function(){},"function"==typeof Buffer?(_s=function(r){return Ki(Buffer.from(r,"utf8").toString("base64"))},Fi=function(r){return Buffer.from(Ni(r),"base64").toString("utf8")}):(_s=function(r){return bn(Es(ce(r)))},Fi=function(r){return decodeURIComponent(ss(Ir(r)))}),h.lang.String.isInteger=function(r){return!!r.match(/^[0-9]+$/)||!!r.match(/^-[0-9]+$/)},h.lang.String.isHex=function(r){return lt(r)},h.lang.String.isBase64=function(r){return!(!(r=r.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||r.length%4!=0)},h.lang.String.isBase64URL=function(r){return!r.match(/[+/=]/)&&(r=Ni(r),h.lang.String.isBase64(r))},h.lang.String.isIntegerArray=function(r){return!!(r=r.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},h.lang.String.isPrintable=function(r){return null!==r.match(/^[0-9A-Za-z '()+,-./:=?]*$/)},h.lang.String.isIA5=function(r){return null!==r.match(/^[\x20-\x21\x23-\x7f]*$/)},h.lang.String.isMail=function(r){return null!==r.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)};var $n=function(r,s,o){return null==o&&(o="0"),r.length>=s?r:new Array(s-r.length+1).join(o)+r};function M(r,s){for(var o=0,l=0;l<r.length;l++)o|=1<<s[r[l]];var f=o.toString(2),p="";for(l=f.length-1;l>=0;l--)p+=f[l];return p}function re(r,l,o){if("object"==typeof r){l=String(l).split(".");for(var f=0;f<l.length&&r;f++){var p=l[f];p.match(/^[0-9]+$/)&&(p=parseInt(p)),r=r[p]}return r||!1===r?r:o}}function ne(r,s){var o=function(){};o.prototype=s.prototype,r.prototype=new o,r.prototype.constructor=r,r.superclass=s.prototype,s.prototype.constructor==Object.prototype.constructor&&(s.prototype.constructor=s)}(typeof h>"u"||!h)&&(h={}),(typeof h.crypto>"u"||!h.crypto)&&(h.crypto={}),h.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:ve.algo.MD5,sha1:ve.algo.SHA1,sha224:ve.algo.SHA224,sha256:ve.algo.SHA256,sha384:ve.algo.SHA384,sha512:ve.algo.SHA512,ripemd160:ve.algo.RIPEMD160},this.getDigestInfoHex=function(r,s){if(typeof this.DIGESTINFOHEAD[s]>"u")throw"alg not supported in Util.DIGESTINFOHEAD: "+s;return this.DIGESTINFOHEAD[s]+r},this.getPaddedDigestInfoHex=function(r,s,o){var l=this.getDigestInfoHex(r,s),f=o/4;if(l.length+22>f)throw"key is too short for SigAlg: keylen="+o+","+s;for(var p="0001",m="00"+l,_="",x=f-p.length-m.length,P=0;P<x;P+=2)_+="ff";return p+_+m},this.hashString=function(r,s){return new h.crypto.MessageDigest({alg:s}).digestString(r)},this.hashHex=function(r,s){return new h.crypto.MessageDigest({alg:s}).digestHex(r)},this.sha1=function(r){return this.hashString(r,"sha1")},this.sha256=function(r){return this.hashString(r,"sha256")},this.sha256Hex=function(r){return this.hashHex(r,"sha256")},this.sha512=function(r){return this.hashString(r,"sha512")},this.sha512Hex=function(r){return this.hashHex(r,"sha512")},this.isKey=function(r){return r instanceof mn||r instanceof h.crypto.DSA||r instanceof h.crypto.ECDSA}},h.crypto.Util.md5=function(r){return new h.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(r)},h.crypto.Util.ripemd160=function(r){return new h.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(r)},h.crypto.Util.SECURERANDOMGEN=new Ri,h.crypto.Util.getRandomHexOfNbytes=function(r){var s=new Array(r);return h.crypto.Util.SECURERANDOMGEN.nextBytes(s),Qr(s)},h.crypto.Util.getRandomBigIntegerOfNbytes=function(r){return new ue(h.crypto.Util.getRandomHexOfNbytes(r),16)},h.crypto.Util.getRandomHexOfNbits=function(r){var s=r%8,l=new Array((r-s)/8+1);return h.crypto.Util.SECURERANDOMGEN.nextBytes(l),l[0]=(255<<s&255^255)&l[0],Qr(l)},h.crypto.Util.getRandomBigIntegerOfNbits=function(r){return new ue(h.crypto.Util.getRandomHexOfNbits(r),16)},h.crypto.Util.getRandomBigIntegerZeroToMax=function(r){for(var s=r.bitLength();;){var o=h.crypto.Util.getRandomBigIntegerOfNbits(s);if(-1!=r.compareTo(o))return o}},h.crypto.Util.getRandomBigIntegerMinToMax=function(r,s){var o=r.compareTo(s);if(1==o)throw"biMin is greater than biMax";if(0==o)return r;var l=s.subtract(r);return h.crypto.Util.getRandomBigIntegerZeroToMax(l).add(r)},h.crypto.MessageDigest=function(r){this.setAlgAndProvider=function(f,p){if(null!==(f=h.crypto.MessageDigest.getCanonicalAlgName(f))&&void 0===p&&(p=h.crypto.Util.DEFAULTPROVIDER[f]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(f)&&"cryptojs"==p){try{this.md=h.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[f].create()}catch(m){throw"setAlgAndProvider hash alg set fail alg="+f+"/"+m}this.updateString=function(m){this.md.update(m)},this.updateHex=function(m){var _=ve.enc.Hex.parse(m);this.md.update(_)},this.digest=function(){return this.md.finalize().toString(ve.enc.Hex)},this.digestString=function(m){return this.updateString(m),this.digest()},this.digestHex=function(m){return this.updateHex(m),this.digest()}}if(-1!=":sha256:".indexOf(f)&&"sjcl"==p){try{this.md=new sjcl.hash.sha256}catch(m){throw"setAlgAndProvider hash alg set fail alg="+f+"/"+m}this.updateString=function(m){this.md.update(m)},this.updateHex=function(m){var _=sjcl.codec.hex.toBits(m);this.md.update(_)},this.digest=function(){var m=this.md.finalize();return sjcl.codec.hex.fromBits(m)},this.digestString=function(m){return this.updateString(m),this.digest()},this.digestHex=function(m){return this.updateHex(m),this.digest()}}},this.updateString=function(f){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(f){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(f){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(f){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==r&&void 0!==r.alg&&(this.algName=r.alg,void 0===r.prov&&(this.provName=h.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},h.crypto.MessageDigest.getCanonicalAlgName=function(r){return"string"==typeof r&&(r=(r=r.toLowerCase()).replace(/-/,"")),r},h.crypto.MessageDigest.getHashLength=function(r){var s=h.crypto.MessageDigest,o=s.getCanonicalAlgName(r);if(void 0===s.HASHLENGTH[o])throw"not supported algorithm: "+r;return s.HASHLENGTH[o]},h.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},h.crypto.Mac=function(r){this.setAlgAndProvider=function(m,_){if(null==(m=m.toLowerCase())&&(m="hmacsha1"),"hmac"!=(m=m.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+m;void 0===_&&(_=h.crypto.Util.DEFAULTPROVIDER[m]),this.algProv=m+"/"+_;var x=m.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(x)&&"cryptojs"==_){try{this.mac=ve.algo.HMAC.create(h.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[x],this.pass)}catch(U){throw"setAlgAndProvider hash alg set fail hashAlg="+x+"/"+U}this.updateString=function(U){this.mac.update(U)},this.updateHex=function(U){var $=ve.enc.Hex.parse(U);this.mac.update($)},this.doFinal=function(){return this.mac.finalize().toString(ve.enc.Hex)},this.doFinalString=function(U){return this.updateString(U),this.doFinal()},this.doFinalHex=function(U){return this.updateHex(U),this.doFinal()}}},this.updateString=function(m){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(m){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(m){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(m){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(m){if("string"==typeof m){var _=m;return(m.length%2==1||!m.match(/^[0-9A-Fa-f]+$/))&&(_=wr(m)),void(this.pass=ve.enc.Hex.parse(_))}if("object"!=typeof m)throw"KJUR.crypto.Mac unsupported password type: "+m;if(_=null,void 0!==m.hex){if(m.hex.length%2!=0||!m.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+m.hex;_=m.hex}if(void 0!==m.utf8&&(_=F(m.utf8)),void 0!==m.rstr&&(_=wr(m.rstr)),void 0!==m.b64&&(_=Ie(m.b64)),void 0!==m.b64u&&(_=Ir(m.b64u)),null==_)throw"KJUR.crypto.Mac unsupported password type: "+m;this.pass=ve.enc.Hex.parse(_)},void 0!==r&&(void 0!==r.pass&&this.setPassword(r.pass),void 0!==r.alg&&(this.algName=r.alg,void 0===r.prov&&(this.provName=h.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},h.crypto.Signature=function(r){var s=null;if(this._setAlgNames=function(){var B=this.algName.match(/^(.+)with(.+)$/);B&&(this.mdAlgName=B[1].toLowerCase(),this.pubkeyAlgName=B[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(B,J){for(var de="",fe=J/4-B.length,pe=0;pe<fe;pe++)de+="0";return de+B},this.setAlgAndProvider=function(B,J){if(this._setAlgNames(),"cryptojs/jsrsa"!=J)throw new Error("provider not supported: "+J);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new h.crypto.MessageDigest({alg:this.mdAlgName})}catch(de){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+de)}this.init=function(de,fe){var pe=null;try{pe=void 0===fe?$e.getKey(de):$e.getKey(de,fe)}catch(it){throw"init failed:"+it}if(!0===pe.isPrivate)this.prvKey=pe,this.state="SIGN";else{if(!0!==pe.isPublic)throw"init failed.:"+pe;this.pubKey=pe,this.state="VERIFY"}},this.updateString=function(de){this.md.updateString(de)},this.updateHex=function(de){this.md.updateHex(de)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==h.crypto.ECDSA&&(this.prvKey=new h.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof mn&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof mn&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof h.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof h.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(de){return this.updateString(de),this.sign()},this.signHex=function(de){return this.updateHex(de),this.sign()},this.verify=function(de){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==h.crypto.ECDSA&&(this.pubKey=new h.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof mn&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,de,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof mn&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,de);if(void 0!==h.crypto.ECDSA&&this.pubKey instanceof h.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,de);if(void 0!==h.crypto.DSA&&this.pubKey instanceof h.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,de);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(B,J){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(B){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(B){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(B){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(B){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(B){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=r,void 0!==r&&(void 0!==r.alg&&(this.algName=r.alg,this.provName=void 0===r.prov?h.crypto.Util.DEFAULTPROVIDER[this.algName]:r.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==r.psssaltlen&&(this.pssSaltLen=r.psssaltlen),void 0!==r.prvkeypem)){if(void 0!==r.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{s=$e.getKey(r.prvkeypem),this.init(s)}catch(B){throw"fatal error to load pem private key: "+B}}},h.crypto.Cipher=function(r){},h.crypto.Cipher.encrypt=function(r,s,o){if(s instanceof mn&&s.isPublic){var l=h.crypto.Cipher.getAlgByKeyAndName(s,o);if("RSA"===l)return s.encrypt(r);if("RSAOAEP"===l)return s.encryptOAEP(r,"sha1");var f=l.match(/^RSAOAEP(\d+)$/);if(null!==f)return s.encryptOAEP(r,"sha"+f[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+o}throw"Cipher.encrypt: unsupported key or algorithm"},h.crypto.Cipher.decrypt=function(r,s,o){if(s instanceof mn&&s.isPrivate){var l=h.crypto.Cipher.getAlgByKeyAndName(s,o);if("RSA"===l)return s.decrypt(r);if("RSAOAEP"===l)return s.decryptOAEP(r,"sha1");var f=l.match(/^RSAOAEP(\d+)$/);if(null!==f)return s.decryptOAEP(r,"sha"+f[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+o}throw"Cipher.decrypt: unsupported key or algorithm"},h.crypto.Cipher.getAlgByKeyAndName=function(r,s){if(r instanceof mn){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(s))return s;if(null==s)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+s}throw"getAlgByKeyAndName: not supported algorithm name: "+s},h.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040022":"secp384r1","2b81040023":"secp521r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},(typeof h>"u"||!h)&&(h={}),(typeof h.crypto>"u"||!h.crypto)&&(h.crypto={}),h.crypto.ECDSA=function(r){var p=Error,m=ue,_=lr,x=h.crypto.ECDSA,P=h.crypto.ECParameterDB,U=x.getName,b=Ut.getVbyListEx,S=Ut.isASN1HEX,V=new Ri;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(B){return new m(B.bitLength(),V).mod(B.subtract(m.ONE)).add(m.ONE)},this.setNamedCurve=function(B){this.ecparams=P.getByName(B),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=B},this.setPrivateKeyHex=function(B){this.isPrivate=!0,this.prvKeyHex=B},this.setPublicKeyHex=function(B){this.isPublic=!0,this.pubKeyHex=B},this.getPublicKeyXYHex=function(){var B=this.pubKeyHex;if("04"!==B.substr(0,2))throw"this method supports uncompressed format(04) only";var J=this.ecparams.keycharlen;if(B.length!==2+2*J)throw"malformed public key hex length";var de={};return de.x=B.substr(2,J),de.y=B.substr(2+J),de},this.getShortNISTPCurveName=function(){var B=this.curveName;return"secp256r1"===B||"NIST P-256"===B||"P-256"===B||"prime256v1"===B?"P-256":"secp384r1"===B||"NIST P-384"===B||"P-384"===B?"P-384":"secp521r1"===B||"NIST P-521"===B||"P-521"===B?"P-521":null},this.generateKeyPairHex=function(){var J=this.getBigRandom(this.ecparams.n),de=this.ecparams.keycharlen,fe=("0000000000"+J.toString(16)).slice(-de);return this.setPrivateKeyHex(fe),{ecprvhex:fe,ecpubhex:this.generatePublicKeyHex()}},this.generatePublicKeyHex=function(){var B=new m(this.prvKeyHex,16),J=this.ecparams.G.multiply(B),de=J.getX().toBigInteger(),fe=J.getY().toBigInteger(),pe=this.ecparams.keycharlen,W="04"+("0000000000"+de.toString(16)).slice(-pe)+("0000000000"+fe.toString(16)).slice(-pe);return this.setPublicKeyHex(W),W},this.signWithMessageHash=function(B){return this.signHex(B,this.prvKeyHex)},this.signHex=function(B,J){var de=new m(J,16),fe=this.ecparams.n,pe=new m(B.substring(0,this.ecparams.keycharlen),16);do{var it=this.getBigRandom(fe),Z=this.ecparams.G.multiply(it).getX().toBigInteger().mod(fe)}while(Z.compareTo(m.ZERO)<=0);var me=it.modInverse(fe).multiply(pe.add(de.multiply(Z))).mod(fe);return x.biRSSigToASN1Sig(Z,me)},this.sign=function(B,J){var de=J,fe=this.ecparams.n,pe=m.fromByteArrayUnsigned(B);do{var it=this.getBigRandom(fe),Z=this.ecparams.G.multiply(it).getX().toBigInteger().mod(fe)}while(Z.compareTo(ue.ZERO)<=0);var me=it.modInverse(fe).multiply(pe.add(de.multiply(Z))).mod(fe);return this.serializeSig(Z,me)},this.verifyWithMessageHash=function(B,J){return this.verifyHex(B,J,this.pubKeyHex)},this.verifyHex=function(B,J,de){try{var fe,pe,it=x.parseSigHex(J);fe=it.r,pe=it.s;var ct=_.decodeFromHex(this.ecparams.curve,de),W=new m(B.substring(0,this.ecparams.keycharlen),16);return this.verifyRaw(W,fe,pe,ct)}catch{return!1}},this.verify=function(B,J,de){var fe,pe,ct;if(Bitcoin.Util.isArray(J)){var it=this.parseSig(J);fe=it.r,pe=it.s}else{if("object"!=typeof J||!J.r||!J.s)throw"Invalid value for signature";fe=J.r,pe=J.s}if(de instanceof lr)ct=de;else{if(!Bitcoin.Util.isArray(de))throw"Invalid format for pubkey value, must be byte array or ECPointFp";ct=_.decodeFrom(this.ecparams.curve,de)}var W=m.fromByteArrayUnsigned(B);return this.verifyRaw(W,fe,pe,ct)},this.verifyRaw=function(B,J,de,fe){var pe=this.ecparams.n,it=this.ecparams.G;if(J.compareTo(m.ONE)<0||J.compareTo(pe)>=0||de.compareTo(m.ONE)<0||de.compareTo(pe)>=0)return!1;var ct=de.modInverse(pe),W=B.multiply(ct).mod(pe),Z=J.multiply(ct).mod(pe);return it.multiply(W).add(fe.multiply(Z)).getX().toBigInteger().mod(pe).equals(J)},this.serializeSig=function(B,J){var de=B.toByteArraySigned(),fe=J.toByteArraySigned(),pe=[];return pe.push(2),pe.push(de.length),(pe=pe.concat(de)).push(2),pe.push(fe.length),(pe=pe.concat(fe)).unshift(pe.length),pe.unshift(48),pe},this.parseSig=function(B){var J;if(48!=B[0])throw new Error("Signature not a valid DERSequence");if(2!=B[J=2])throw new Error("First element in signature must be a DERInteger");var de=B.slice(J+2,J+2+B[J+1]);if(2!=B[J+=2+B[J+1]])throw new Error("Second element in signature must be a DERInteger");var fe=B.slice(J+2,J+2+B[J+1]);return J+=2+B[J+1],{r:m.fromByteArrayUnsigned(de),s:m.fromByteArrayUnsigned(fe)}},this.parseSigCompact=function(B){if(65!==B.length)throw"Signature has the wrong length";var J=B[0]-27;if(J<0||J>7)throw"Invalid signature type";var de=this.ecparams.n;return{r:m.fromByteArrayUnsigned(B.slice(1,33)).mod(de),s:m.fromByteArrayUnsigned(B.slice(33,65)).mod(de),i:J}},this.readPKCS5PrvKeyHex=function(B){if(!1===S(B))throw new Error("not ASN.1 hex string");var J,de,fe;try{J=b(B,0,["[0]",0],"06"),de=b(B,0,[1],"04");try{fe=b(B,0,["[1]",0],"03")}catch{}}catch{throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=U(J),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(fe),this.setPrivateKeyHex(de),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(B){if(!1===S(B))throw new p("not ASN.1 hex string");var de,fe,pe;try{b(B,0,[1,0],"06"),de=b(B,0,[1,1],"06"),fe=b(B,0,[2,0,1],"04");try{pe=b(B,0,[2,0,"[1]",0],"03")}catch{}}catch{throw new p("malformed PKCS#8 plain ECC private key")}if(this.curveName=U(de),void 0===this.curveName)throw new p("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(pe),this.setPrivateKeyHex(fe),this.isPublic=!1},this.readPKCS8PubKeyHex=function(B){if(!1===S(B))throw new p("not ASN.1 hex string");var de,fe;try{b(B,0,[0,0],"06"),de=b(B,0,[0,1],"06"),fe=b(B,0,[1],"03")}catch{throw new p("malformed PKCS#8 ECC public key")}if(this.curveName=U(de),null===this.curveName)throw new p("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(fe)},this.readCertPubKeyHex=function(B,J){if(!1===S(B))throw new p("not ASN.1 hex string");var de,fe;try{de=b(B,0,[0,5,0,1],"06"),fe=b(B,0,[0,5,1],"03")}catch{throw new p("malformed X.509 certificate ECC public key")}if(this.curveName=U(de),null===this.curveName)throw new p("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(fe)},void 0!==r&&void 0!==r.curve&&(this.curveName=r.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==r&&(void 0!==r.prv&&this.setPrivateKeyHex(r.prv),void 0!==r.pub&&this.setPublicKeyHex(r.pub))},h.crypto.ECDSA.parseSigHex=function(r){var s=h.crypto.ECDSA.parseSigHexInHexRS(r);return{r:new ue(s.r,16),s:new ue(s.s,16)}},h.crypto.ECDSA.parseSigHexInHexRS=function(r){var o=Ut.getChildIdx,l=Ut.getV;if(Ut.checkStrictDER(r,0),"30"!=r.substr(0,2))throw new Error("signature is not a ASN.1 sequence");var f=o(r,0);if(2!=f.length)throw new Error("signature shall have two elements");var p=f[0],m=f[1];if("02"!=r.substr(p,2))throw new Error("1st item not ASN.1 integer");if("02"!=r.substr(m,2))throw new Error("2nd item not ASN.1 integer");return{r:l(r,p),s:l(r,m)}},h.crypto.ECDSA.asn1SigToConcatSig=function(r){var s=h.crypto.ECDSA.parseSigHexInHexRS(r),o=s.r,l=s.s;if(o.length>=130&&o.length<=134){if(o.length%2!=0)throw Error("unknown ECDSA sig r length error");if(l.length%2!=0)throw Error("unknown ECDSA sig s length error");"00"==o.substr(0,2)&&(o=o.substr(2)),"00"==l.substr(0,2)&&(l=l.substr(2));var f=Math.max(o.length,l.length);return(o=("000000"+o).slice(-f))+("000000"+l).slice(-f)}if("00"==o.substr(0,2)&&o.length%32==2&&(o=o.substr(2)),"00"==l.substr(0,2)&&l.length%32==2&&(l=l.substr(2)),o.length%32==30&&(o="00"+o),l.length%32==30&&(l="00"+l),o.length%32!=0)throw Error("unknown ECDSA sig r length error");if(l.length%32!=0)throw Error("unknown ECDSA sig s length error");return o+l},h.crypto.ECDSA.concatSigToASN1Sig=function(r){if(r.length%4!=0)throw Error("unknown ECDSA concatinated r-s sig length error");var s=r.substr(0,r.length/2),o=r.substr(r.length/2);return h.crypto.ECDSA.hexRSSigToASN1Sig(s,o)},h.crypto.ECDSA.hexRSSigToASN1Sig=function(r,s){var o=new ue(r,16),l=new ue(s,16);return h.crypto.ECDSA.biRSSigToASN1Sig(o,l)},h.crypto.ECDSA.biRSSigToASN1Sig=function(r,s){var o=h.asn1,l=new o.DERInteger({bigint:r}),f=new o.DERInteger({bigint:s});return new o.DERSequence({array:[l,f]}).tohex()},h.crypto.ECDSA.getName=function(r){return"2b8104001f"===r?"secp192k1":"2a8648ce3d030107"===r?"secp256r1":"2b8104000a"===r?"secp256k1":"2b81040021"===r?"secp224r1":"2b81040022"===r?"secp384r1":"2b81040023"===r?"secp521r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(r)?"secp256r1":-1!=="|secp256k1|".indexOf(r)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(r)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(r)?"secp384r1":-1!=="|secp521r1|NIST P-521|P-521|".indexOf(r)?"secp521r1":null},(typeof h>"u"||!h)&&(h={}),(typeof h.crypto>"u"||!h.crypto)&&(h.crypto={}),h.crypto.ECParameterDB=new function(){var r={},s={};function o(l){return new ue(l,16)}this.getByName=function(l){var f=l;if(typeof s[f]<"u"&&(f=s[l]),typeof r[f]<"u")return r[f];throw"unregistered EC curve name: "+f},this.regist=function(l,f,p,m,_,x,P,U,$,b,S,V){r[l]={};var T=o(p),K=o(m),B=o(_),J=o(x),de=o(P),fe=new Ci(T,K,B),pe=fe.decodePointHex("04"+U+$);r[l].name=l,r[l].keylen=f,r[l].keycharlen=2*Math.ceil(f/8),r[l].curve=fe,r[l].G=pe,r[l].n=J,r[l].h=de,r[l].oid=S,r[l].info=V;for(var it=0;it<b.length;it++)s[b[it]]=l}},h.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),h.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),h.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),h.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),h.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),h.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),h.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),h.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),h.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),h.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","00C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]),(typeof h>"u"||!h)&&(h={}),(typeof h.crypto>"u"||!h.crypto)&&(h.crypto={}),h.crypto.DSA=function(){var o=Ut.getVbyListEx,l=Ut.isASN1HEX,f=ue;this.p=null,this.q=null,this.g=null,this.y=null,this.x=null,this.type="DSA",this.isPrivate=!1,this.isPublic=!1,this.setPrivate=function(p,m,_,x,P){this.isPrivate=!0,this.p=p,this.q=m,this.g=_,this.y=x,this.x=P},this.setPrivateHex=function(p,m,_,x,P){var U,$,b,S,V;U=new ue(p,16),$=new ue(m,16),b=new ue(_,16),S="string"==typeof x&&x.length>1?new ue(x,16):null,V=new ue(P,16),this.setPrivate(U,$,b,S,V)},this.setPublic=function(p,m,_,x){this.isPublic=!0,this.p=p,this.q=m,this.g=_,this.y=x,this.x=null},this.setPublicHex=function(p,m,_,x){var P,U,$,b;P=new ue(p,16),U=new ue(m,16),$=new ue(_,16),b=new ue(x,16),this.setPublic(P,U,$,b)},this.signWithMessageHash=function(p){var m=this.p,_=this.q,x=this.g,U=this.x,$=h.crypto.Util.getRandomBigIntegerMinToMax(ue.ONE.add(ue.ONE),_.subtract(ue.ONE)),S=new ue(p.substr(0,_.bitLength()/4),16),V=x.modPow($,m).mod(_),T=$.modInverse(_).multiply(S.add(U.multiply(V))).mod(_);return h.asn1.ASN1Util.jsonToASN1HEX({seq:[{int:{bigint:V}},{int:{bigint:T}}]})},this.verifyWithMessageHash=function(p,m){var _=this.p,x=this.q,P=this.g,U=this.y,$=this.parseASN1Signature(m),b=$[0],S=$[1],T=new ue(p.substr(0,x.bitLength()/4),16);if(ue.ZERO.compareTo(b)>0||b.compareTo(x)>0||ue.ZERO.compareTo(S)>=0||S.compareTo(x)>0)throw"invalid DSA signature";var K=S.modInverse(x),B=T.multiply(K).mod(x),J=b.multiply(K).mod(x);return 0==P.modPow(B,_).multiply(U.modPow(J,_)).mod(_).mod(x).compareTo(b)},this.parseASN1Signature=function(p){try{return[new f(o(p,0,[0],"02"),16),new f(o(p,0,[1],"02"),16)]}catch{throw new Error("malformed ASN.1 DSA signature")}},this.readPKCS5PrvKeyHex=function(p){var m,_,x,P,U;if(!1===l(p))throw new Error("not ASN.1 hex string");try{m=o(p,0,[1],"02"),_=o(p,0,[2],"02"),x=o(p,0,[3],"02"),P=o(p,0,[4],"02"),U=o(p,0,[5],"02")}catch{throw new Error("malformed PKCS#1/5 plain DSA private key")}this.setPrivateHex(m,_,x,P,U)},this.readPKCS8PrvKeyHex=function(p){var m,_,x,P;if(!1===l(p))throw new Error("not ASN.1 hex string");try{m=o(p,0,[1,1,0],"02"),_=o(p,0,[1,1,1],"02"),x=o(p,0,[1,1,2],"02"),P=o(p,0,[2,0],"02")}catch{throw new Error("malformed PKCS#8 plain DSA private key")}this.setPrivateHex(m,_,x,null,P)},this.readPKCS8PubKeyHex=function(p){var m,_,x,P;if(!1===l(p))throw new Error("not ASN.1 hex string");try{m=o(p,0,[0,1,0],"02"),_=o(p,0,[0,1,1],"02"),x=o(p,0,[0,1,2],"02"),P=o(p,0,[1,0],"02")}catch{throw new Error("malformed PKCS#8 DSA public key")}this.setPublicHex(m,_,x,P)},this.readCertPubKeyHex=function(p,m){var _,x,P,U;if(!1===l(p))throw new Error("not ASN.1 hex string");try{_=o(p,0,[0,5,0,1,0],"02"),x=o(p,0,[0,5,0,1,1],"02"),P=o(p,0,[0,5,0,1,2],"02"),U=o(p,0,[0,5,1,0],"02")}catch{throw new Error("malformed X.509 certificate DSA public key")}this.setPublicHex(_,x,P,U)}};var $e=function(){var r=function(T,K,B){return l(ve.AES,T,K,B)},l=function(T,K,B,J){var de=ve.enc.Hex.parse(K),fe=ve.enc.Hex.parse(B),pe=ve.enc.Hex.parse(J),it={};it.key=fe,it.iv=pe,it.ciphertext=de;var ct=T.decrypt(it,fe,{iv:pe});return ve.enc.Hex.stringify(ct)},f=function(T,K,B){return _(ve.AES,T,K,B)},_=function(T,K,B,J){var de=ve.enc.Hex.parse(K),fe=ve.enc.Hex.parse(B),pe=ve.enc.Hex.parse(J),it=T.encrypt(de,fe,{iv:pe}),ct=ve.enc.Hex.parse(it.toString());return ve.enc.Base64.stringify(ct)},x={"AES-256-CBC":{proc:r,eproc:f,keylen:32,ivlen:16},"AES-192-CBC":{proc:r,eproc:f,keylen:24,ivlen:16},"AES-128-CBC":{proc:r,eproc:f,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(T,K,B){return l(ve.TripleDES,T,K,B)},eproc:function(T,K,B){return _(ve.TripleDES,T,K,B)},keylen:24,ivlen:8},"DES-CBC":{proc:function(T,K,B){return l(ve.DES,T,K,B)},eproc:function(T,K,B){return _(ve.DES,T,K,B)},keylen:8,ivlen:8}},$=function(T){var K={},B=T.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));B&&(K.cipher=B[1],K.ivsalt=B[2]);var J=T.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));J&&(K.type=J[1]);var de=-1,fe=0;-1!=T.indexOf("\r\n\r\n")&&(de=T.indexOf("\r\n\r\n"),fe=2),-1!=T.indexOf("\n\n")&&(de=T.indexOf("\n\n"),fe=1);var pe=T.indexOf("-----END");if(-1!=de&&-1!=pe){var it=T.substring(de+2*fe,pe-fe);it=it.replace(/\s+/g,""),K.data=it}return K},b=function(T,K,B){for(var J=B.substring(0,16),de=ve.enc.Hex.parse(J),fe=ve.enc.Utf8.parse(K),pe=x[T].keylen+x[T].ivlen,it="",ct=null;;){var W=ve.algo.MD5.create();if(null!=ct&&W.update(ct),W.update(fe),W.update(de),ct=W.finalize(),(it+=ve.enc.Hex.stringify(ct)).length>=2*pe)break}var Z={};return Z.keyhex=it.substr(0,2*x[T].keylen),Z.ivhex=it.substr(2*x[T].keylen,2*x[T].ivlen),Z},S=function(T,K,B,J){var de=ve.enc.Base64.parse(T),fe=ve.enc.Hex.stringify(de);return(0,x[K].proc)(fe,B,J)};return{version:"1.0.0",parsePKCS5PEM:function(T){return $(T)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(T,K,B){return b(T,K,B)},decryptKeyB64:function(T,K,B,J){return S(T,K,B,J)},getDecryptedKeyHex:function(T,K){var B=$(T),de=B.cipher,fe=B.ivsalt,pe=B.data,it=b(de,K,fe);return S(pe,de,it.keyhex,fe)},getEncryptedPKCS5PEMFromPrvKeyHex:function(T,K,B,J,de){var me="";if((typeof J>"u"||null==J)&&(J="AES-256-CBC"),typeof x[J]>"u")throw new Error("KEYUTIL unsupported algorithm: "+J);if(typeof de>"u"||null==de){var pe=function(T){var K=ve.lib.WordArray.random(T);return ve.enc.Hex.stringify(K)}(x[J].ivlen);de=pe.toUpperCase()}var W=function(T,K,B,J){return(0,x[K].eproc)(T,B,J)}(K,J,b(J,B,de).keyhex,de);return me="-----BEGIN "+T+" PRIVATE KEY-----\r\n",me+="Proc-Type: 4,ENCRYPTED\r\n",me+="DEK-Info: "+J+","+de+"\r\n",me+="\r\n",(me+=W.replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+T+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(T){var B=Ut.getChildIdx,J=Ut.getV,de={},fe=B(T,0);if(2!=fe.length)throw new Error("malformed format: SEQUENCE(0).items != 2: "+fe.length);de.ciphertext=J(T,fe[1]);var pe=B(T,fe[0]);if(2!=pe.length)throw new Error("malformed format: SEQUENCE(0.0).items != 2: "+pe.length);if("2a864886f70d01050d"!=J(T,pe[0]))throw new Error("this only supports pkcs5PBES2");var it=B(T,pe[1]);if(2!=pe.length)throw new Error("malformed format: SEQUENCE(0.0.1).items != 2: "+it.length);var ct=B(T,it[1]);if(2!=ct.length)throw new Error("malformed format: SEQUENCE(0.0.1.1).items != 2: "+ct.length);if("2a864886f70d0307"!=J(T,ct[0]))throw"this only supports TripleDES";de.encryptionSchemeAlg="TripleDES",de.encryptionSchemeIV=J(T,ct[1]);var W=B(T,it[0]);if(2!=W.length)throw new Error("malformed format: SEQUENCE(0.0.1.0).items != 2: "+W.length);if("2a864886f70d01050c"!=J(T,W[0]))throw new Error("this only supports pkcs5PBKDF2");var Z=B(T,W[1]);if(Z.length<2)throw new Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+Z.length);de.pbkdf2Salt=J(T,Z[0]);var me=J(T,Z[1]);try{de.pbkdf2Iter=parseInt(me,16)}catch{throw new Error("malformed format pbkdf2Iter: "+me)}return de},getPBKDF2KeyHexFromParam:function(T,K){var B=ve.enc.Hex.parse(T.pbkdf2Salt),de=ve.PBKDF2(K,B,{keySize:6,iterations:T.pbkdf2Iter});return ve.enc.Hex.stringify(de)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(T,K){var B=Vr(T,"ENCRYPTED PRIVATE KEY"),J=this.parseHexOfEncryptedPKCS8(B),de=$e.getPBKDF2KeyHexFromParam(J,K),fe={};fe.ciphertext=ve.enc.Hex.parse(J.ciphertext);var pe=ve.enc.Hex.parse(de),it=ve.enc.Hex.parse(J.encryptionSchemeIV),ct=ve.TripleDES.decrypt(fe,pe,{iv:it});return ve.enc.Hex.stringify(ct)},getKeyFromEncryptedPKCS8PEM:function(T,K){var B=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(T,K);return this.getKeyFromPlainPrivatePKCS8Hex(B)},parsePlainPrivatePKCS8Hex:function(T){var K=Ut,B=K.getChildIdx,J=K.getV,de={algparam:null};if("30"!=T.substr(0,2))throw new Error("malformed plain PKCS8 private key(code:001)");var fe=B(T,0);if(fe.length<3)throw new Error("malformed plain PKCS8 private key(code:002)");if("30"!=T.substr(fe[1],2))throw new Error("malformed PKCS8 private key(code:003)");var pe=B(T,fe[1]);if(2!=pe.length)throw new Error("malformed PKCS8 private key(code:004)");if("06"!=T.substr(pe[0],2))throw new Error("malformed PKCS8 private key(code:005)");if(de.algoid=J(T,pe[0]),"06"==T.substr(pe[1],2)&&(de.algparam=J(T,pe[1])),"04"!=T.substr(fe[2],2))throw new Error("malformed PKCS8 private key(code:006)");return de.keyidx=K.getVidx(T,fe[2]),de},getKeyFromPlainPrivatePKCS8PEM:function(T){var K=Vr(T,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(K)},getKeyFromPlainPrivatePKCS8Hex:function(T){var B,K=this.parsePlainPrivatePKCS8Hex(T);if("2a864886f70d010101"==K.algoid)B=new mn;else if("2a8648ce380401"==K.algoid)B=new h.crypto.DSA;else{if("2a8648ce3d0201"!=K.algoid)throw new Error("unsupported private key algorithm");B=new h.crypto.ECDSA}return B.readPKCS8PrvKeyHex(T),B},_getKeyFromPublicPKCS8Hex:function(T){var K,B=Ut.getVbyList(T,0,[0,0],"06");if("2a864886f70d010101"===B)K=new mn;else if("2a8648ce380401"===B)K=new h.crypto.DSA;else{if("2a8648ce3d0201"!==B)throw new Error("unsupported PKCS#8 public key hex");K=new h.crypto.ECDSA}return K.readPKCS8PubKeyHex(T),K},parsePublicRawRSAKeyHex:function(T){var B=Ut.getChildIdx,J=Ut.getV,de={};if("30"!=T.substr(0,2))throw new Error("malformed RSA key(code:001)");var fe=B(T,0);if(2!=fe.length)throw new Error("malformed RSA key(code:002)");if("02"!=T.substr(fe[0],2))throw new Error("malformed RSA key(code:003)");if(de.n=J(T,fe[0]),"02"!=T.substr(fe[1],2))throw new Error("malformed RSA key(code:004)");return de.e=J(T,fe[1]),de},parsePublicPKCS8Hex:function(T){var K=Ut,B=K.getChildIdx,J=K.getV,de={algparam:null},fe=B(T,0);if(2!=fe.length)throw new Error("outer DERSequence shall have 2 elements: "+fe.length);var pe=fe[0];if("30"!=T.substr(pe,2))throw new Error("malformed PKCS8 public key(code:001)");var it=B(T,pe);if(2!=it.length)throw new Error("malformed PKCS8 public key(code:002)");if("06"!=T.substr(it[0],2))throw new Error("malformed PKCS8 public key(code:003)");if(de.algoid=J(T,it[0]),"06"==T.substr(it[1],2)?de.algparam=J(T,it[1]):"30"==T.substr(it[1],2)&&(de.algparam={},de.algparam.p=K.getVbyList(T,it[1],[0],"02"),de.algparam.q=K.getVbyList(T,it[1],[1],"02"),de.algparam.g=K.getVbyList(T,it[1],[2],"02")),"03"!=T.substr(fe[1],2))throw new Error("malformed PKCS8 public key(code:004)");return de.key=J(T,fe[1]).substr(2),de}}}();function qn(r,s){for(var o="",l=s/4-r.length,f=0;f<l;f++)o+="0";return o+r}function sr(r,s,o){for(var l="",f=0;l.length<s;)l+=Lr(o(wr(r+String.fromCharCode.apply(String,[(4278190080&f)>>24,(16711680&f)>>16,(65280&f)>>8,255&f])))),f+=1;return l}function xr(r){for(var s in h.crypto.Util.DIGESTINFOHEAD){var o=h.crypto.Util.DIGESTINFOHEAD[s],l=o.length;if(r.substring(0,l)==o)return[s,r.substring(l)]}return[]}function rn(r){var de,s=Ut,o=s.getChildIdx,l=s.getV,p=s.parse,m=s.getTLV,_=s.getVbyList,x=s.getVbyListEx,P=s.getTLVbyList,U=s.getTLVbyListEx,$=s.getIdxbyList,b=s.getIdxbyListEx,S=s.getVidx,V=s.getInt,T=s.oidname,K=s.hextooidstr,J=Vr,fe=Error;try{de=h.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch{}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(null===this.hex||0!==this.version)return this.version;var W=P(this.hex,0,[0,0]);if("a0"==W.substr(0,2)){var Z=P(W,0,[0]),me=V(Z,0);if(me<0||2<me)throw new Error("malformed version field");return this.version=me+1,this.version}return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return x(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var W=U(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(W)},this.getAlgorithmIdentifierName=function(W){for(var Z in de)if(W===de[Z])return Z;return T(x(W,0,[0],"06"))},this.getIssuer=function(W,Z){return this.getX500Name(this.getIssuerHex(),W,Z)},this.getIssuerHex=function(){return P(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return this.getIssuer().str},this.getSubject=function(W,Z){return this.getX500Name(this.getSubjectHex(),W,Z)},this.getSubjectHex=function(){return P(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return this.getSubject().str},this.getNotBefore=function(){var W=_(this.hex,0,[0,4+this.foffset,0]);return W=W.replace(/(..)/g,"%$1"),decodeURIComponent(W)},this.getNotAfter=function(){var W=_(this.hex,0,[0,4+this.foffset,1]);return W=W.replace(/(..)/g,"%$1"),decodeURIComponent(W)},this.getPublicKeyHex=function(){return this.getSPKI()},this.getSPKI=function(){return P(this.hex,0,[0,6+this.foffset],"30")},this.getSPKIValue=function(){var W=this.getSPKI();return null==W?null:_(W,0,[1],"03",!0)},this.getPublicKeyIdx=function(){return $(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var W=this.getPublicKeyIdx();return $(this.hex,W,[1,0],"30")},this.getPublicKey=function(){return $e.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var W=P(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(W)},this.getSignatureValueHex=function(){return _(this.hex,0,[2],"03",!0)},this.verifySignature=function(W){var Z=this.getSignatureAlgorithmField(),me=this.getSignatureValueHex(),ye=P(this.hex,0,[0],"30"),Te=new h.crypto.Signature({alg:Z});return Te.init(W),Te.updateHex(ye),Te.verify(me)},this.parseExt=function(W){var Z,me,ye;if(void 0===W){if(3!==this.version)return-1;Z=$(ye=this.hex,0,[0,7,0],"30"),me=o(ye,Z)}else{ye=Vr(W);var Te=$(ye,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=l(ye,Te))return void(this.aExtInfo=new Array);Z=$(ye,0,[0,3,0,1,0],"30"),me=o(ye,Z),this.hex=ye}this.aExtInfo=new Array;for(var je=0;je<me.length;je++){var Ce={critical:!1},Le=0;3===o(ye,me[je]).length&&(Ce.critical=!0,Le=1),Ce.oid=s.hextooidstr(_(ye,me[je],[0],"06"));var ft=$(ye,me[je],[1+Le]);Ce.vidx=S(ye,ft),this.aExtInfo.push(Ce)}},this.getExtInfo=function(W){var Z=this.aExtInfo,me=W;if(W.match(/^[0-9.]+$/)||(me=h.asn1.x509.OID.name2oid(W)),""!==me)for(var ye=0;ye<Z.length;ye++)if(Z[ye].oid===me)return Z[ye]},this.getCriticalExtV=function(W,Z,me){if(null!=Z)return[Z,me];var ye=this.getExtInfo(W);return null==ye?[null,null]:[m(this.hex,ye.vidx),ye.critical]},this.getExtBasicConstraints=function(W,Z){if(void 0===W&&void 0===Z){var me=this.getExtInfo("basicConstraints");if(void 0===me)return;W=m(this.hex,me.vidx),Z=me.critical}var ye={extname:"basicConstraints"};if(Z&&(ye.critical=!0),"3000"===W)return ye;if("30030101ff"===W)return ye.cA=!0,ye;if("30060101ff02"===W.substr(0,12)){var Te=l(W,10),je=parseInt(Te,16);return ye.cA=!0,ye.pathLen=je,ye}throw new Error("hExtV parse error: "+W)},this.getExtNameConstraints=function(W,Z){var me=this.getCriticalExtV("nameConstraints",W,Z);if(Z=me[1],null!=(W=me[0])){var ye={extname:"nameConstraints"};Z&&(ye.critical=!0);for(var Te=o(W,0),je=0;je<Te.length;je++){for(var Ce=[],Re=o(W,Te[je]),Le=0;Le<Re.length;Le++){var ft=m(W,Re[Le]),_n=this.getGeneralSubtree(ft);Ce.push(_n)}var Rn=W.substr(Te[je],2);"a0"==Rn?ye.permit=Ce:"a1"==Rn&&(ye.exclude=Ce)}return ye}},this.getGeneralSubtree=function(W){var Z=o(W,0),me=Z.length;if(me<1||2<me)throw new Error("wrong num elements");for(var ye=this.getGeneralName(m(W,Z[0])),Te=1;Te<me;Te++){var je=W.substr(Z[Te],2),Ce=l(W,Z[Te]),Re=parseInt(Ce,16);"80"==je&&(ye.min=Re),"81"==je&&(ye.max=Re)}return ye},this.getExtKeyUsage=function(W,Z){var me=this.getCriticalExtV("keyUsage",W,Z);if(Z=me[1],null!=(W=me[0])){var ye={extname:"keyUsage"};return Z&&(ye.critical=!0),ye.names=this.getExtKeyUsageString(W).split(","),ye}},this.getExtKeyUsageBin=function(W){if(void 0===W){var Z=this.getExtInfo("keyUsage");if(void 0===Z)return"";W=m(this.hex,Z.vidx)}if(8!=W.length&&10!=W.length)throw new Error("malformed key usage value: "+W);var me="000000000000000"+parseInt(W.substr(6),16).toString(2);return 8==W.length&&(me=me.slice(-8)),10==W.length&&(me=me.slice(-16)),""==(me=me.replace(/0+$/,""))&&(me="0"),me},this.getExtKeyUsageString=function(W){for(var Z=this.getExtKeyUsageBin(W),me=new Array,ye=0;ye<Z.length;ye++)"1"==Z.substr(ye,1)&&me.push(rn.KEYUSAGE_NAME[ye]);return me.join(",")},this.getExtSubjectKeyIdentifier=function(W,Z){if(void 0===W&&void 0===Z){var me=this.getExtInfo("subjectKeyIdentifier");if(void 0===me)return;W=m(this.hex,me.vidx),Z=me.critical}var ye={extname:"subjectKeyIdentifier"};Z&&(ye.critical=!0);var Te=l(W,0);return ye.kid={hex:Te},ye},this.getExtAuthorityKeyIdentifier=function(W,Z){if(void 0===W&&void 0===Z){var me=this.getExtInfo("authorityKeyIdentifier");if(void 0===me)return;W=m(this.hex,me.vidx),Z=me.critical}var ye={extname:"authorityKeyIdentifier"};Z&&(ye.critical=!0);for(var Te=o(W,0),je=0;je<Te.length;je++){var Ce=W.substr(Te[je],2);if("80"===Ce&&(ye.kid={hex:l(W,Te[je])}),"a1"===Ce){var Re=m(W,Te[je]),Le=this.getGeneralNames(Re);ye.issuer=Le[0].dn}"82"===Ce&&(ye.sn={hex:l(W,Te[je])})}return ye},this.getExtExtKeyUsage=function(W,Z){if(void 0===W&&void 0===Z){var me=this.getExtInfo("extKeyUsage");if(void 0===me)return;W=m(this.hex,me.vidx),Z=me.critical}var ye={extname:"extKeyUsage",array:[]};Z&&(ye.critical=!0);for(var Te=o(W,0),je=0;je<Te.length;je++)ye.array.push(T(l(W,Te[je])));return ye},this.getExtExtKeyUsageName=function(){var W=this.getExtInfo("extKeyUsage");if(void 0===W)return W;var Z=new Array,me=m(this.hex,W.vidx);if(""===me)return Z;for(var ye=o(me,0),Te=0;Te<ye.length;Te++)Z.push(T(l(me,ye[Te])));return Z},this.getExtSubjectAltName=function(W,Z){if(void 0===W&&void 0===Z){var me=this.getExtInfo("subjectAltName");if(void 0===me)return;W=m(this.hex,me.vidx),Z=me.critical}var ye={extname:"subjectAltName",array:[]};return Z&&(ye.critical=!0),ye.array=this.getGeneralNames(W),ye},this.getExtIssuerAltName=function(W,Z){if(void 0===W&&void 0===Z){var me=this.getExtInfo("issuerAltName");if(void 0===me)return;W=m(this.hex,me.vidx),Z=me.critical}var ye={extname:"issuerAltName",array:[]};return Z&&(ye.critical=!0),ye.array=this.getGeneralNames(W),ye},this.getGeneralNames=function(W){for(var Z=o(W,0),me=[],ye=0;ye<Z.length;ye++){var Te=this.getGeneralName(m(W,Z[ye]));void 0!==Te&&me.push(Te)}return me},this.getGeneralName=function(W){var Z=W.substr(0,2),me=l(W,0),ye=Lr(me);return"81"==Z?{rfc822:ye}:"82"==Z?{dns:ye}:"86"==Z?{uri:ye}:"87"==Z?{ip:q(me)}:"a4"==Z?{dn:this.getX500Name(me)}:"a0"==Z?{other:this.getOtherName(W)}:void 0},this.getExtSubjectAltName2=function(){var W,Z,me,ye=this.getExtInfo("subjectAltName");if(void 0===ye)return ye;for(var Te=new Array,je=m(this.hex,ye.vidx),Ce=o(je,0),Re=0;Re<Ce.length;Re++)me=je.substr(Ce[Re],2),W=l(je,Ce[Re]),"81"===me&&(Z=X(W),Te.push(["MAIL",Z])),"82"===me&&(Z=X(W),Te.push(["DNS",Z])),"84"===me&&(Z=rn.hex2dn(W,0),Te.push(["DN",Z])),"86"===me&&(Z=X(W),Te.push(["URI",Z])),"87"===me&&(Z=q(W),Te.push(["IP",Z]));return Te},this.getExtCRLDistributionPoints=function(W,Z){if(void 0===W&&void 0===Z){var me=this.getExtInfo("cRLDistributionPoints");if(void 0===me)return;W=m(this.hex,me.vidx),Z=me.critical}var ye={extname:"cRLDistributionPoints",array:[]};Z&&(ye.critical=!0);for(var Te=o(W,0),je=0;je<Te.length;je++){var Ce=m(W,Te[je]);ye.array.push(this.getDistributionPoint(Ce))}return ye},this.getDistributionPoint=function(W){for(var Z={},me=o(W,0),ye=0;ye<me.length;ye++){var Te=W.substr(me[ye],2),je=m(W,me[ye]);"a0"==Te&&(Z.dpname=this.getDistributionPointName(je))}return Z},this.getDistributionPointName=function(W){for(var Z={},me=o(W,0),ye=0;ye<me.length;ye++){var Te=W.substr(me[ye],2),je=m(W,me[ye]);"a0"==Te&&(Z.full=this.getGeneralNames(je))}return Z},this.getExtCRLDistributionPointsURI=function(){var W=this.getExtCRLDistributionPoints();if(null==W)return W;for(var Z=W.array,me=[],ye=0;ye<Z.length;ye++)try{null!=Z[ye].dpname.full[0].uri&&me.push(Z[ye].dpname.full[0].uri)}catch{}return me},this.getExtAIAInfo=function(){var W=this.getExtInfo("authorityInfoAccess");if(void 0===W)return W;for(var Z={ocsp:[],caissuer:[]},me=o(this.hex,W.vidx),ye=0;ye<me.length;ye++){var Te=_(this.hex,me[ye],[0],"06"),je=_(this.hex,me[ye],[1],"86");"2b06010505073001"===Te&&Z.ocsp.push(X(je)),"2b06010505073002"===Te&&Z.caissuer.push(X(je))}return Z},this.getExtAuthorityInfoAccess=function(W,Z){if(void 0===W&&void 0===Z){var me=this.getExtInfo("authorityInfoAccess");if(void 0===me)return;W=m(this.hex,me.vidx),Z=me.critical}var ye={extname:"authorityInfoAccess",array:[]};Z&&(ye.critical=!0);for(var Te=o(W,0),je=0;je<Te.length;je++){var Ce=x(W,Te[je],[0],"06"),Le=X(_(W,Te[je],[1],"86"));if("2b06010505073001"==Ce)ye.array.push({ocsp:Le});else{if("2b06010505073002"!=Ce)throw new Error("unknown method: "+Ce);ye.array.push({caissuer:Le})}}return ye},this.getExtCertificatePolicies=function(W,Z){if(void 0===W&&void 0===Z){var me=this.getExtInfo("certificatePolicies");if(void 0===me)return;W=m(this.hex,me.vidx),Z=me.critical}var ye={extname:"certificatePolicies",array:[]};Z&&(ye.critical=!0);for(var Te=o(W,0),je=0;je<Te.length;je++){var Ce=m(W,Te[je]),Re=this.getPolicyInformation(Ce);ye.array.push(Re)}return ye},this.getPolicyInformation=function(W){var Z={},me=_(W,0,[0],"06");Z.policyoid=T(me);var ye=b(W,0,[1],"30");if(-1!=ye){Z.array=[];for(var Te=o(W,ye),je=0;je<Te.length;je++){var Ce=m(W,Te[je]),Re=this.getPolicyQualifierInfo(Ce);Z.array.push(Re)}}return Z},this.getOtherName=function(W){var Z={},me=o(W,0),ye=_(W,me[0],[],"06"),Te=_(W,me[1],[]);return Z.oid=T(ye),Z.value=p(Te),Z},this.getPolicyQualifierInfo=function(W){var Z={},me=_(W,0,[0],"06");if("2b06010505070201"===me){var ye=x(W,0,[1],"16");Z.cps=Lr(ye)}else if("2b06010505070202"===me){var Te=P(W,0,[1],"30");Z.unotice=this.getUserNotice(Te)}return Z},this.getUserNotice=function(W){var Z=null;try{return Z=s.parse(W),this._asn1ToUnotice(Z)}catch{return}},this._asn1ToUnotice=function(W){try{for(var Z={},me=re(W,"seq"),ye=0;ye<me.length;ye++){var Te=this._asn1ToNoticeRef(me[ye]);null!=Te&&(Z.noticeref=Te);var je=this.asn1ToDisplayText(me[ye]);null!=je&&(Z.exptext=je)}return Object.keys(Z).length>0?Z:void 0}catch{return}},this._asn1ToNoticeRef=function(W){try{for(var Z={},me=re(W,"seq"),ye=0;ye<me.length;ye++){var Te=this._asn1ToNoticeNum(me[ye]);null!=Te&&(Z.noticenum=Te);var je=this.asn1ToDisplayText(me[ye]);null!=je&&(Z.org=je)}return Object.keys(Z).length>0?Z:void 0}catch{return}},this._asn1ToNoticeNum=function(W){try{for(var Z=re(W,"seq"),me=[],ye=0;ye<Z.length;ye++)me.push(parseInt(re(Z[ye],"int.hex"),16));return me}catch{return}},this.getDisplayText=function(W){var me={};return me.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[W.substr(0,2)],me.str=Lr(l(W,0)),me},this.asn1ToDisplayText=function(W){return null!=W.utf8str?{type:"utf8",str:W.utf8str.str}:null!=W.ia5str?{type:"ia5",str:W.ia5str.str}:null!=W.visstr?{type:"vis",str:W.visstr.str}:null!=W.bmpstr?{type:"bmp",str:W.bmpstr.str}:null!=W.prnstr?{type:"prn",str:W.prnstr.str}:void 0},this.getExtPolicyMappings=function(W,Z){var me=this.getCriticalExtV("policyMappings",W,Z);if(Z=me[1],null!=(W=me[0])){var ye={extname:"policyMappings"};Z&&(ye.critical=!0);try{for(var je=p(W).seq,Ce=[],Re=0;Re<je.length;Re++){var Le=je[Re].seq;Ce.push([Le[0].oid,Le[1].oid])}ye.array=Ce}catch{throw new fe("malformed policyMappings")}return ye}},this.getExtPolicyConstraints=function(W,Z){var me=this.getCriticalExtV("policyConstraints",W,Z);if(Z=me[1],null!=(W=me[0])){var ye={extname:"policyConstraints"};Z&&(ye.critical=!0);var Te=p(W);try{for(var je=Te.seq,Ce=0;Ce<je.length;Ce++){var Re=je[Ce].tag;0==Re.explicit&&("80"==Re.tag&&(ye.reqexp=parseInt(Re.hex,16)),"81"==Re.tag&&(ye.inhibit=parseInt(Re.hex,16)))}}catch{return new fe("malformed policyConstraints value")}return ye}},this.getExtInhibitAnyPolicy=function(W,Z){var me=this.getCriticalExtV("inhibitAnyPolicy",W,Z);if(Z=me[1],null!=(W=me[0])){var ye={extname:"inhibitAnyPolicy"};Z&&(ye.critical=!0);var Te=V(W,0);return-1==Te?new fe("wrong value"):(ye.skip=Te,ye)}},this.getExtCRLNumber=function(W,Z){var me={extname:"cRLNumber"};if(Z&&(me.critical=!0),"02"==W.substr(0,2))return me.num={hex:l(W,0)},me;throw new fe("hExtV parse error: "+W)},this.getExtCRLReason=function(W,Z){var me={extname:"cRLReason"};if(Z&&(me.critical=!0),"0a"==W.substr(0,2))return me.code=parseInt(l(W,0),16),me;throw new Error("hExtV parse error: "+W)},this.getExtOcspNonce=function(W,Z){var me={extname:"ocspNonce"};Z&&(me.critical=!0);var ye=l(W,0);return me.hex=ye,me},this.getExtOcspNoCheck=function(W,Z){var me={extname:"ocspNoCheck"};return Z&&(me.critical=!0),me},this.getExtAdobeTimeStamp=function(W,Z){if(void 0===W&&void 0===Z){var me=this.getExtInfo("adobeTimeStamp");if(void 0===me)return;W=m(this.hex,me.vidx),Z=me.critical}var ye={extname:"adobeTimeStamp"};Z&&(ye.critical=!0);var Te=o(W,0);if(Te.length>1){var je=m(W,Te[1]),Ce=this.getGeneralName(je);null!=Ce.uri&&(ye.uri=Ce.uri)}if(Te.length>2){var Re=m(W,Te[2]);"0101ff"==Re&&(ye.reqauth=!0),"010100"==Re&&(ye.reqauth=!1)}return ye},this.getExtSubjectDirectoryAttributes=function(W,Z){if(void 0===W&&void 0===Z){var me=this.getExtInfo("subjectDirectoryAttributes");if(void 0===me)return;W=m(this.hex,me.vidx),Z=me.critical}var ye={extname:"subjectDirectoryAttributes"};Z&&(ye.critical=!0);try{for(var Te=p(W),je=[],Ce=0;Ce<Te.seq.length;Ce++){var Re=Te.seq[Ce],Le=re(Re,"seq.0.oid"),ft=re(Re,"seq.1.set");if(null==Le||null==ft)throw"error";je.push({attr:Le,array:ft})}return ye.array=je,ye}catch{throw new Error("malformed subjectDirectoryAttributes extension value")}};var pe=function(W){var Z={};try{var ye=h.asn1.x509.OID.name2oid(W.seq[0].oid);Z.type=h.asn1.x509.OID.oid2atype(ye);var Te=W.seq[1];if(null!=Te.utf8str)Z.ds="utf8",Z.value=Te.utf8str.str;else if(null!=Te.numstr)Z.ds="num",Z.value=Te.numstr.str;else if(null!=Te.telstr)Z.ds="tel",Z.value=Te.telstr.str;else if(null!=Te.prnstr)Z.ds="prn",Z.value=Te.prnstr.str;else if(null!=Te.ia5str)Z.ds="ia5",Z.value=Te.ia5str.str;else if(null!=Te.visstr)Z.ds="vis",Z.value=Te.visstr.str;else{if(null==Te.bmpstr)throw"error";Z.ds="bmp",Z.value=Te.bmpstr.str}return Z}catch{throw new Erorr("improper ASN.1 parsed AttrTypeAndValue")}},it=function(W){try{return W.set.map(function(Z){return pe(Z)})}catch(Z){throw new Error("improper ASN.1 parsed RDN: "+Z)}};this.getX500NameRule=function(W){for(var Ce=null,Re=[],Le=0;Le<W.length;Le++)for(var ft=W[Le],_n=0;_n<ft.length;_n++)Re.push(ft[_n]);for(Le=0;Le<Re.length;Le++){var Rn=Re[Le],Mn=Rn.ds,cr=Rn.type;if("prn"!=Mn&&"utf8"!=Mn&&"ia5"!=Mn)return"mixed";if("ia5"==Mn){if("CN"!=cr)return"mixed";if(h.lang.String.isMail(Rn.value))continue;return"mixed"}if("C"==cr){if("prn"==Mn)continue;return"mixed"}if(null==Ce)Ce=Mn;else if(Ce!==Mn)return"mixed"}return Ce??"prn"},this.getAttrTypeAndValue=function(W){var Z=p(W);return pe(Z)},this.getRDN=function(W){var Z=p(W);return it(Z)},this.getX500NameArray=function(W){return function(W){try{return W.seq.map(function(Z){return it(Z)})}catch(Z){throw new Error("improper ASN.1 parsed X500Name: "+Z)}}(p(W))},this.getX500Name=function(W,Z,me){var ye=this.getX500NameArray(W),je={str:this.dnarraytostr(ye)};return je.array=ye,1==me&&(je.hex=W),1==Z&&(je.canon=this.c14nRDNArray(ye)),je},this.readCertPEM=function(W){this.readCertHex(J(W))},this.readCertHex=function(W){this.hex=W,this.getVersion();try{$(this.hex,0,[0,7],"a3"),this.parseExt()}catch{}},this.getParam=function(W){var Z={};return null==W&&(W={}),Z.version=this.getVersion(),Z.serial={hex:this.getSerialNumberHex()},Z.sigalg=this.getSignatureAlgorithmField(),Z.issuer=this.getIssuer(W.dncanon,W.dnhex),Z.notbefore=this.getNotBefore(),Z.notafter=this.getNotAfter(),Z.subject=this.getSubject(W.dncanon,W.dnhex),Z.sbjpubkey=kr(this.getPublicKeyHex(),"PUBLIC KEY"),null!=this.aExtInfo&&this.aExtInfo.length>0&&(Z.ext=this.getExtParamArray()),Z.sighex=this.getSignatureValueHex(),1==W.tbshex&&(Z.tbshex=P(this.hex,0,[0])),1==W.nodnarray&&(delete Z.issuer.array,delete Z.subject.array),Z},this.getExtParamArray=function(W){null==W&&-1!=b(this.hex,0,[0,"[3]"])&&(W=U(this.hex,0,[0,"[3]",0],"30"));for(var me=[],ye=o(W,0),Te=0;Te<ye.length;Te++){var je=m(W,ye[Te]),Ce=this.getExtParam(je);null!=Ce&&me.push(Ce)}return me},this.getExtParam=function(W){var ye=o(W,0).length;if(2!=ye&&3!=ye)throw new Error("wrong number elements in Extension: "+ye+" "+W);var Te=K(_(W,0,[0],"06")),je=!1;3==ye&&"0101ff"==P(W,0,[1])&&(je=!0);var Ce=P(W,0,[ye-1,0]),Re=void 0;if("2.5.29.14"==Te?Re=this.getExtSubjectKeyIdentifier(Ce,je):"2.5.29.15"==Te?Re=this.getExtKeyUsage(Ce,je):"2.5.29.17"==Te?Re=this.getExtSubjectAltName(Ce,je):"2.5.29.18"==Te?Re=this.getExtIssuerAltName(Ce,je):"2.5.29.19"==Te?Re=this.getExtBasicConstraints(Ce,je):"2.5.29.30"==Te?Re=this.getExtNameConstraints(Ce,je):"2.5.29.31"==Te?Re=this.getExtCRLDistributionPoints(Ce,je):"2.5.29.32"==Te?Re=this.getExtCertificatePolicies(Ce,je):"2.5.29.33"==Te?Re=this.getExtPolicyMappings(Ce,je):"2.5.29.35"==Te?Re=this.getExtAuthorityKeyIdentifier(Ce,je):"2.5.29.36"==Te?Re=this.getExtPolicyConstraints(Ce,je):"2.5.29.37"==Te?Re=this.getExtExtKeyUsage(Ce,je):"2.5.29.54"==Te?Re=this.getExtInhibitAnyPolicy(Ce,je):"1.3.6.1.5.5.7.1.1"==Te?Re=this.getExtAuthorityInfoAccess(Ce,je):"2.5.29.20"==Te?Re=this.getExtCRLNumber(Ce,je):"2.5.29.21"==Te?Re=this.getExtCRLReason(Ce,je):"2.5.29.9"==Te?Re=this.getExtSubjectDirectoryAttributes(Ce,je):"1.3.6.1.5.5.7.48.1.2"==Te?Re=this.getExtOcspNonce(Ce,je):"1.3.6.1.5.5.7.48.1.5"==Te?Re=this.getExtOcspNoCheck(Ce,je):"1.2.840.113583.1.1.9.1"==Te?Re=this.getExtAdobeTimeStamp(Ce,je):null!=rn.EXT_PARSER[Te]&&(Re=rn.EXT_PARSER[Te](Te,je,Ce)),null!=Re)return Re;var Le={extname:Te,extn:Ce};try{Le.extn=p(Ce)}catch{}return je&&(Le.critical=!0),Le},this.findExt=function(W,Z){for(var me=0;me<W.length;me++)if(W[me].extname==Z)return W[me];return null},this.updateExtCDPFullURI=function(W,Z){var me=this.findExt(W,"cRLDistributionPoints");if(null!=me&&null!=me.array)for(var ye=me.array,Te=0;Te<ye.length;Te++)if(null!=ye[Te].dpname&&null!=ye[Te].dpname.full)for(var je=ye[Te].dpname.full,Ce=0;Ce<je.length;Ce++){var Re=je[Te];null!=Re.uri&&(Re.uri=Z)}},this.updateExtAIAOCSP=function(W,Z){var me=this.findExt(W,"authorityInfoAccess");if(null!=me&&null!=me.array)for(var ye=me.array,Te=0;Te<ye.length;Te++)null!=ye[Te].ocsp&&(ye[Te].ocsp=Z)},this.updateExtAIACAIssuer=function(W,Z){var me=this.findExt(W,"authorityInfoAccess");if(null!=me&&null!=me.array)for(var ye=me.array,Te=0;Te<ye.length;Te++)null!=ye[Te].caissuer&&(ye[Te].caissuer=Z)},this.dnarraytostr=function(W){return"/"+W.map(function(ye){return function Z(ye){return ye.map(function(Te){return function me(ye){return ye.type+"="+ye.value}(Te).replace(/\+/,"\\+")}).join("+")}(ye).replace(/\//,"\\/")}).join("/")},this.setCanonicalizedDN=function(W){var Z;if(null!=W.str&&null==W.array){var ye=new h.asn1.x509.X500Name({str:W.str}).tohex();Z=this.getX500NameArray(ye)}else Z=W.array;null==W.canon&&(W.canon=this.c14nRDNArray(Z))},this.c14nRDNArray=function(W){for(var Z=[],me=0;me<W.length;me++){for(var ye=W[me],Te=[],je=0;je<ye.length;je++){var Ce=ye[je],Re=Ce.value;Re=(Re=(Re=(Re=Re.replace(/^\s*/,"")).replace(/\s*$/,"")).replace(/\s+/g," ")).toLowerCase(),Te.push(Ce.type.toLowerCase()+"="+Re)}Z.push(Te.join("+"))}return"/"+Z.join("/")},this.getInfo=function(){var je,Ce,Re,W=function(fi){for(var Rr="",ci="    ",vi=fi.array,yi=0;yi<vi.length;yi++){var Vn=vi[yi];null!=Vn.dn&&(Rr+=ci+"dn: "+Vn.dn.str+"\n"),null!=Vn.ip&&(Rr+=ci+"ip: "+Vn.ip+"\n"),null!=Vn.rfc822&&(Rr+=ci+"rfc822: "+Vn.rfc822+"\n"),null!=Vn.dns&&(Rr+=ci+"dns: "+Vn.dns+"\n"),null!=Vn.uri&&(Rr+=ci+"uri: "+Vn.uri+"\n"),null!=Vn.other&&(Rr+=ci+"other: "+Vn.other.oid+"="+JSON.stringify(Vn.other.value).replace(/\"/g,"")+"\n")}return Rr.replace(/\n$/,"")},Z=function(fi){for(var Rr="",ci=fi.array,Br=0;Br<ci.length;Br++){var vi=ci[Br];if(Rr+="    policy oid: "+vi.policyoid+"\n",void 0!==vi.array)for(var yi=0;yi<vi.array.length;yi++){var Vn=vi.array[yi];void 0!==Vn.cps&&(Rr+="    cps: "+Vn.cps+"\n")}}return Rr},me=function(fi){for(var Rr="",ci=fi.array,Br=0;Br<ci.length;Br++){var vi=ci[Br];try{void 0!==vi.dpname.full[0].uri&&(Rr+="    "+vi.dpname.full[0].uri+"\n")}catch{}try{void 0!==vi.dname.full[0].dn.hex&&(Rr+="    "+rn.hex2dn(vi.dpname.full[0].dn.hex)+"\n")}catch{}}return Rr},ye=function(fi){for(var Rr="",ci=fi.array,Br=0;Br<ci.length;Br++){var vi=ci[Br];void 0!==vi.caissuer&&(Rr+="    caissuer: "+vi.caissuer+"\n"),void 0!==vi.ocsp&&(Rr+="    ocsp: "+vi.ocsp+"\n")}return Rr};if(je="Basic Fields\n",je+="  serial number: "+this.getSerialNumberHex()+"\n",je+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",je+="  issuer: "+this.getIssuerString()+"\n",je+="  notBefore: "+this.getNotBefore()+"\n",je+="  notAfter: "+this.getNotAfter()+"\n",je+="  subject: "+this.getSubjectString()+"\n",je+="  subject public key info: \n",je+="    key algorithm: "+(Ce=this.getPublicKey()).type+"\n","RSA"===Ce.type&&(je+="    n="+ln(Ce.n.toString(16)).substr(0,16)+"...\n",je+="    e="+ln(Ce.e.toString(16))+"\n"),null!=(Re=this.aExtInfo)){je+="X509v3 Extensions:\n";for(var Le=0;Le<Re.length;Le++){var ft=Re[Le],_n=h.asn1.x509.OID.oid2name(ft.oid);""===_n&&(_n=ft.oid);var Rn="";if(!0===ft.critical&&(Rn="CRITICAL"),je+="  "+_n+" "+Rn+":\n","basicConstraints"===_n){var Mn=this.getExtBasicConstraints();void 0===Mn.cA?je+="    {}\n":(je+="    cA=true",void 0!==Mn.pathLen&&(je+=", pathLen="+Mn.pathLen),je+="\n")}else if("policyMappings"==_n)je+="    "+this.getExtPolicyMappings().array.map(function(fi){return fi[0]+":"+fi[1]}).join(", ")+"\n";else if("policyConstraints"==_n)je+="    ",null!=(Mr=this.getExtPolicyConstraints()).reqexp&&(je+=" reqexp="+Mr.reqexp),null!=Mr.inhibit&&(je+=" inhibit="+Mr.inhibit),je+="\n";else if("inhibitAnyPolicy"==_n){var Mr;je+="    skip="+(Mr=this.getExtInhibitAnyPolicy()).skip+"\n"}else if("keyUsage"==_n)je+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"==_n)je+="    "+this.getExtSubjectKeyIdentifier().kid.hex+"\n";else if("authorityKeyIdentifier"==_n){var Pr=this.getExtAuthorityKeyIdentifier();void 0!==Pr.kid&&(je+="    kid="+Pr.kid.hex+"\n")}else"extKeyUsage"==_n?je+="    "+this.getExtExtKeyUsage().array.join(", ")+"\n":"subjectAltName"==_n?je+=W(this.getExtSubjectAltName())+"\n":"cRLDistributionPoints"==_n?je+=me(this.getExtCRLDistributionPoints()):"authorityInfoAccess"==_n?je+=ye(this.getExtAuthorityInfoAccess()):"certificatePolicies"==_n&&(je+=Z(this.getExtCertificatePolicies()))}}return(je+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"},"string"==typeof r&&(-1!=r.indexOf("-----BEGIN")?this.readCertPEM(r):h.lang.String.isHex(r)&&this.readCertHex(r))}$e.getKey=function(r,s,o){var W,f=(l=Ut).getChildIdx,m=l.getVbyList,_=h.crypto,x=_.ECDSA,P=_.DSA,U=mn,$=Vr,b=$e;if(typeof U<"u"&&r instanceof U||typeof x<"u"&&r instanceof x||typeof P<"u"&&r instanceof P)return r;if(void 0!==r.curve&&void 0!==r.xy&&void 0===r.d)return new x({pub:r.xy,curve:r.curve});if(void 0!==r.curve&&void 0!==r.d)return new x({prv:r.d,curve:r.curve});if(void 0===r.kty&&void 0!==r.n&&void 0!==r.e&&void 0===r.d)return(S=new U).setPublic(r.n,r.e),S;if(void 0===r.kty&&void 0!==r.n&&void 0!==r.e&&void 0!==r.d&&void 0!==r.p&&void 0!==r.q&&void 0!==r.dp&&void 0!==r.dq&&void 0!==r.co&&void 0===r.qi)return(S=new U).setPrivateEx(r.n,r.e,r.d,r.p,r.q,r.dp,r.dq,r.co),S;if(void 0===r.kty&&void 0!==r.n&&void 0!==r.e&&void 0!==r.d&&void 0===r.p)return(S=new U).setPrivate(r.n,r.e,r.d),S;if(void 0!==r.p&&void 0!==r.q&&void 0!==r.g&&void 0!==r.y&&void 0===r.x)return(S=new P).setPublic(r.p,r.q,r.g,r.y),S;if(void 0!==r.p&&void 0!==r.q&&void 0!==r.g&&void 0!==r.y&&void 0!==r.x)return(S=new P).setPrivate(r.p,r.q,r.g,r.y,r.x),S;if("RSA"===r.kty&&void 0!==r.n&&void 0!==r.e&&void 0===r.d)return(S=new U).setPublic(Ir(r.n),Ir(r.e)),S;if("RSA"===r.kty&&void 0!==r.n&&void 0!==r.e&&void 0!==r.d&&void 0!==r.p&&void 0!==r.q&&void 0!==r.dp&&void 0!==r.dq&&void 0!==r.qi)return(S=new U).setPrivateEx(Ir(r.n),Ir(r.e),Ir(r.d),Ir(r.p),Ir(r.q),Ir(r.dp),Ir(r.dq),Ir(r.qi)),S;if("RSA"===r.kty&&void 0!==r.n&&void 0!==r.e&&void 0!==r.d)return(S=new U).setPrivate(Ir(r.n),Ir(r.e),Ir(r.d)),S;if("EC"===r.kty&&void 0!==r.crv&&void 0!==r.x&&void 0!==r.y&&void 0===r.d){var T=(V=new x({curve:r.crv})).ecparams.keycharlen,K=("0000000000"+Ir(r.x)).slice(-T),B=("0000000000"+Ir(r.y)).slice(-T);return V.setPublicKeyHex(J="04"+K+B),V}if("EC"===r.kty&&void 0!==r.crv&&void 0!==r.x&&void 0!==r.y&&void 0!==r.d){T=(V=new x({curve:r.crv})).ecparams.keycharlen;var J="04"+(K=("0000000000"+Ir(r.x)).slice(-T))+(B=("0000000000"+Ir(r.y)).slice(-T)),de=("0000000000"+Ir(r.d)).slice(-T);return V.setPublicKeyHex(J),V.setPrivateKeyHex(de),V}if("pkcs5prv"===o){var pe,fe=r,l=Ut;if(9===(pe=f(fe,0)).length)(S=new U).readPKCS5PrvKeyHex(fe);else if(6===pe.length)(S=new P).readPKCS5PrvKeyHex(fe);else{if(!(pe.length>2&&"04"===fe.substr(pe[1],2)))throw new Error("unsupported PKCS#1/5 hexadecimal key");(S=new x).readPKCS5PrvKeyHex(fe)}return S}if("pkcs8prv"===o)return b.getKeyFromPlainPrivatePKCS8Hex(r);if("pkcs8pub"===o)return b._getKeyFromPublicPKCS8Hex(r);if("x509pub"===o)return rn.getPublicKeyFromCertHex(r);if(-1!=r.indexOf("-END CERTIFICATE-",0)||-1!=r.indexOf("-END X509 CERTIFICATE-",0)||-1!=r.indexOf("-END TRUSTED CERTIFICATE-",0))return rn.getPublicKeyFromCertPEM(r);if(-1!=r.indexOf("-END PUBLIC KEY-")){var it=Vr(r,"PUBLIC KEY");return b._getKeyFromPublicPKCS8Hex(it)}if(-1!=r.indexOf("-END RSA PRIVATE KEY-")&&-1==r.indexOf("4,ENCRYPTED")){var ct=$(r,"RSA PRIVATE KEY");return b.getKey(ct,null,"pkcs5prv")}if(-1!=r.indexOf("-END DSA PRIVATE KEY-")&&-1==r.indexOf("4,ENCRYPTED")){var Z=m(W=$(r,"DSA PRIVATE KEY"),0,[1],"02"),me=m(W,0,[2],"02"),ye=m(W,0,[3],"02"),Te=m(W,0,[4],"02"),je=m(W,0,[5],"02");return(S=new P).setPrivate(new ue(Z,16),new ue(me,16),new ue(ye,16),new ue(Te,16),new ue(je,16)),S}if(-1!=r.indexOf("-END EC PRIVATE KEY-")&&-1==r.indexOf("4,ENCRYPTED"))return ct=$(r,"EC PRIVATE KEY"),b.getKey(ct,null,"pkcs5prv");if(-1!=r.indexOf("-END PRIVATE KEY-"))return b.getKeyFromPlainPrivatePKCS8PEM(r);if(-1!=r.indexOf("-END RSA PRIVATE KEY-")&&-1!=r.indexOf("4,ENCRYPTED")){var Ce=b.getDecryptedKeyHex(r,s),Re=new mn;return Re.readPKCS5PrvKeyHex(Ce),Re}if(-1!=r.indexOf("-END EC PRIVATE KEY-")&&-1!=r.indexOf("4,ENCRYPTED")){var V,S=m(W=b.getDecryptedKeyHex(r,s),0,[1],"04"),Le=m(W,0,[2,0],"06"),ft=m(W,0,[3,0],"03").substr(2);if(void 0===h.crypto.OID.oidhex2name[Le])throw new Error("undefined OID(hex) in KJUR.crypto.OID: "+Le);return(V=new x({curve:h.crypto.OID.oidhex2name[Le]})).setPublicKeyHex(ft),V.setPrivateKeyHex(S),V.isPublic=!1,V}if(-1!=r.indexOf("-END DSA PRIVATE KEY-")&&-1!=r.indexOf("4,ENCRYPTED"))return Z=m(W=b.getDecryptedKeyHex(r,s),0,[1],"02"),me=m(W,0,[2],"02"),ye=m(W,0,[3],"02"),Te=m(W,0,[4],"02"),je=m(W,0,[5],"02"),(S=new P).setPrivate(new ue(Z,16),new ue(me,16),new ue(ye,16),new ue(Te,16),new ue(je,16)),S;if(-1!=r.indexOf("-END ENCRYPTED PRIVATE KEY-"))return b.getKeyFromEncryptedPKCS8PEM(r,s);throw new Error("not supported argument")},$e.generateKeypair=function(r,s){if("RSA"==r){var o=s;(l=new mn).generate(o,"10001"),l.isPrivate=!0,l.isPublic=!0;var f=new mn,p=l.n.toString(16),m=l.e.toString(16);return f.setPublic(p,m),f.isPrivate=!1,f.isPublic=!0,(_={}).prvKeyObj=l,_.pubKeyObj=f,_}if("EC"==r){var l,_,x=s,U=new h.crypto.ECDSA({curve:x}).generateKeyPairHex();return(l=new h.crypto.ECDSA({curve:x})).setPublicKeyHex(U.ecpubhex),l.setPrivateKeyHex(U.ecprvhex),l.isPrivate=!0,l.isPublic=!1,(f=new h.crypto.ECDSA({curve:x})).setPublicKeyHex(U.ecpubhex),f.isPrivate=!1,f.isPublic=!0,(_={}).prvKeyObj=l,_.pubKeyObj=f,_}throw new Error("unknown algorithm: "+r)},$e.getPEM=function(r,s,o,l,f,p){var _=h.asn1,x=_.DERObjectIdentifier,P=_.DERInteger,U=_.ASN1Util.newObject,S=h.crypto,V=S.DSA,T=S.ECDSA,K=mn;function B(Le){return U({seq:[{int:0},{int:{bigint:Le.n}},{int:Le.e},{int:{bigint:Le.d}},{int:{bigint:Le.p}},{int:{bigint:Le.q}},{int:{bigint:Le.dmp1}},{int:{bigint:Le.dmq1}},{int:{bigint:Le.coeff}}]})}function J(Le){return U({seq:[{int:1},{octstr:{hex:Le.prvKeyHex}},{tag:["a0",!0,{oid:{name:Le.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+Le.pubKeyHex}}]}]})}function de(Le){return U({seq:[{int:0},{int:{bigint:Le.p}},{int:{bigint:Le.q}},{int:{bigint:Le.g}},{int:{bigint:Le.y}},{int:{bigint:Le.x}}]})}if((void 0!==K&&r instanceof K||void 0!==V&&r instanceof V||void 0!==T&&r instanceof T)&&1==r.isPublic&&(void 0===s||"PKCS8PUB"==s))return kr(pe=new(0,_.x509.SubjectPublicKeyInfo)(r).tohex(),"PUBLIC KEY");if("PKCS1PRV"==s&&void 0!==K&&r instanceof K&&(void 0===o||null==o)&&1==r.isPrivate)return kr(pe=B(r).tohex(),"RSA PRIVATE KEY");if("PKCS1PRV"==s&&void 0!==T&&r instanceof T&&(void 0===o||null==o)&&1==r.isPrivate){var ct=new x({name:r.curveName}).tohex(),Z=J(r).tohex(),me="";return(me+=kr(ct,"EC PARAMETERS"))+kr(Z,"EC PRIVATE KEY")}if("PKCS1PRV"==s&&void 0!==V&&r instanceof V&&(void 0===o||null==o)&&1==r.isPrivate)return kr(pe=de(r).tohex(),"DSA PRIVATE KEY");if("PKCS5PRV"==s&&void 0!==K&&r instanceof K&&void 0!==o&&null!=o&&1==r.isPrivate){var pe=B(r).tohex();return void 0===l&&(l="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",pe,o,l,p)}if("PKCS5PRV"==s&&void 0!==T&&r instanceof T&&void 0!==o&&null!=o&&1==r.isPrivate)return pe=J(r).tohex(),void 0===l&&(l="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",pe,o,l,p);if("PKCS5PRV"==s&&void 0!==V&&r instanceof V&&void 0!==o&&null!=o&&1==r.isPrivate)return pe=de(r).tohex(),void 0===l&&(l="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",pe,o,l,p);var ye=function(Le,ft){var _n=Te(Le,ft);return new U({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:_n.pbkdf2Salt}},{int:_n.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:_n.encryptionSchemeIV}}]}]}]},{octstr:{hex:_n.ciphertext}}]}).tohex()},Te=function(Le,ft){var Rn=ve.lib.WordArray.random(8),yr=ve.lib.WordArray.random(8),cr=ve.PBKDF2(ft,Rn,{keySize:6,iterations:100}),Mr=ve.enc.Hex.parse(Le),Pr=ve.TripleDES.encrypt(Mr,cr,{iv:yr})+"",mi={};return mi.ciphertext=Pr,mi.pbkdf2Salt=ve.enc.Hex.stringify(Rn),mi.pbkdf2Iter=100,mi.encryptionSchemeAlg="DES-EDE3-CBC",mi.encryptionSchemeIV=ve.enc.Hex.stringify(yr),mi};if("PKCS8PRV"==s&&null!=K&&r instanceof K&&1==r.isPrivate){var Ce=B(r).tohex();return pe=U({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:Ce}}]}).tohex(),void 0===o||null==o?kr(pe,"PRIVATE KEY"):kr(Z=ye(pe,o),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==s&&void 0!==T&&r instanceof T&&1==r.isPrivate){var Re={seq:[{int:1},{octstr:{hex:r.prvKeyHex}}]};return"string"==typeof r.pubKeyHex&&Re.seq.push({tag:["a1",!0,{bitstr:{hex:"00"+r.pubKeyHex}}]}),Ce=new U(Re).tohex(),pe=U({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:r.curveName}}]},{octstr:{hex:Ce}}]}).tohex(),void 0===o||null==o?kr(pe,"PRIVATE KEY"):kr(Z=ye(pe,o),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==s&&void 0!==V&&r instanceof V&&1==r.isPrivate)return Ce=new P({bigint:r.x}).tohex(),pe=U({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:r.p}},{int:{bigint:r.q}},{int:{bigint:r.g}}]}]},{octstr:{hex:Ce}}]}).tohex(),void 0===o||null==o?kr(pe,"PRIVATE KEY"):kr(Z=ye(pe,o),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},$e.getKeyFromCSRPEM=function(r){var s=Vr(r,"CERTIFICATE REQUEST");return $e.getKeyFromCSRHex(s)},$e.getKeyFromCSRHex=function(r){var s=$e.parseCSRHex(r);return $e.getKey(s.p8pubkeyhex,null,"pkcs8pub")},$e.parseCSRHex=function(r){var o=Ut.getChildIdx,l=Ut.getTLV,f={},p=r;if("30"!=p.substr(0,2))throw new Error("malformed CSR(code:001)");var m=o(p,0);if(m.length<1)throw new Error("malformed CSR(code:002)");if("30"!=p.substr(m[0],2))throw new Error("malformed CSR(code:003)");var _=o(p,m[0]);if(_.length<3)throw new Error("malformed CSR(code:004)");return f.p8pubkeyhex=l(p,_[2]),f},$e.getKeyID=function(r){var s=$e,o=Ut;"string"==typeof r&&-1!=r.indexOf("BEGIN ")&&(r=s.getKey(r));var l=Vr(s.getPEM(r)),f=o.getIdxbyList(l,0,[1]),p=o.getV(l,f).substring(2);return h.crypto.Util.hashHex(p,"sha1")},$e.getJWK=function(r,s,o,l,f){var p,_,m={},x=h.crypto.Util.hashHex;if("string"==typeof r)p=$e.getKey(r),-1!=r.indexOf("CERTIFICATE")&&(_=Vr(r));else{if("object"!=typeof r)throw new Error("unsupported keyinfo type");r instanceof rn?(p=r.getPublicKey(),_=r.hex):p=r}if(p instanceof mn&&p.isPrivate)m.kty="RSA",m.n=bn(p.n.toString(16)),m.e=bn(p.e.toString(16)),m.d=bn(p.d.toString(16)),m.p=bn(p.p.toString(16)),m.q=bn(p.q.toString(16)),m.dp=bn(p.dmp1.toString(16)),m.dq=bn(p.dmq1.toString(16)),m.qi=bn(p.coeff.toString(16));else if(p instanceof mn&&p.isPublic)m.kty="RSA",m.n=bn(p.n.toString(16)),m.e=bn(p.e.toString(16));else if(p instanceof h.crypto.ECDSA&&p.isPrivate){if("P-256"!==(P=p.getShortNISTPCurveName())&&"P-384"!==P&&"P-521"!==P)throw new Error("unsupported curve name for JWT: "+P);var U=p.getPublicKeyXYHex();m.kty="EC",m.crv=P,m.x=bn(U.x),m.y=bn(U.y),m.d=bn(p.prvKeyHex)}else if(p instanceof h.crypto.ECDSA&&p.isPublic){var P;if("P-256"!==(P=p.getShortNISTPCurveName())&&"P-384"!==P&&"P-521"!==P)throw new Error("unsupported curve name for JWT: "+P);U=p.getPublicKeyXYHex(),m.kty="EC",m.crv=P,m.x=bn(U.x),m.y=bn(U.y)}if(null==m.kty)throw new Error("unsupported keyinfo");return!p.isPrivate&&1!=s&&(m.kid=h.jws.JWS.getJWKthumbprint(m)),null!=_&&1!=o&&(m.x5c=[Xe(_)]),null!=_&&1!=l&&(m.x5t=Ki(Xe(x(_,"sha1")))),null!=_&&1!=f&&(m["x5t#S256"]=Ki(Xe(x(_,"sha256")))),m},$e.getJWKFromKey=function(r){return $e.getJWK(r,!0,!0,!0,!0)},mn.getPosArrayOfChildrenFromHex=function(r){return Ut.getChildIdx(r,0)},mn.getHexValueArrayOfChildrenFromHex=function(r){var b,o=Ut.getV,l=o(r,(b=mn.getPosArrayOfChildrenFromHex(r))[0]),f=o(r,b[1]),p=o(r,b[2]),m=o(r,b[3]),_=o(r,b[4]),x=o(r,b[5]),P=o(r,b[6]),U=o(r,b[7]),$=o(r,b[8]);return(b=new Array).push(l,f,p,m,_,x,P,U,$),b},mn.prototype.readPrivateKeyFromPEMString=function(r){var s=Vr(r),o=mn.getHexValueArrayOfChildrenFromHex(s);this.setPrivateEx(o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8])},mn.prototype.readPKCS5PrvKeyHex=function(r){var s=mn.getHexValueArrayOfChildrenFromHex(r);this.setPrivateEx(s[1],s[2],s[3],s[4],s[5],s[6],s[7],s[8])},mn.prototype.readPKCS8PrvKeyHex=function(r){var s,o,l,f,p,m,_,x,U=Ut.getVbyListEx;if(!1===Ut.isASN1HEX(r))throw new Error("not ASN.1 hex string");try{s=U(r,0,[2,0,1],"02"),o=U(r,0,[2,0,2],"02"),l=U(r,0,[2,0,3],"02"),f=U(r,0,[2,0,4],"02"),p=U(r,0,[2,0,5],"02"),m=U(r,0,[2,0,6],"02"),_=U(r,0,[2,0,7],"02"),x=U(r,0,[2,0,8],"02")}catch{throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(s,o,l,f,p,m,_,x)},mn.prototype.readPKCS5PubKeyHex=function(r){var s=Ut,o=s.getV;if(!1===s.isASN1HEX(r))throw new Error("keyHex is not ASN.1 hex string");var l=s.getChildIdx(r,0);if(2!==l.length||"02"!==r.substr(l[0],2)||"02"!==r.substr(l[1],2))throw new Error("wrong hex for PKCS#5 public key");var f=o(r,l[0]),p=o(r,l[1]);this.setPublic(f,p)},mn.prototype.readPKCS8PubKeyHex=function(r){var s=Ut;if(!1===s.isASN1HEX(r))throw new Error("not ASN.1 hex string");if("06092a864886f70d010101"!==s.getTLVbyListEx(r,0,[0,0]))throw new Error("not PKCS8 RSA public key");var o=s.getTLVbyListEx(r,0,[1,0]);this.readPKCS5PubKeyHex(o)},mn.prototype.readCertPubKeyHex=function(r,s){var o,l;(o=new rn).readCertHex(r),l=o.getPublicKeyHex(),this.readPKCS8PubKeyHex(l)},mn.prototype.sign=function(r,s){var l=function(f){return h.crypto.Util.hashString(f,s)}(r);return this.signWithMessageHash(l,s)},mn.prototype.signWithMessageHash=function(r,s){var l=Nr(h.crypto.Util.getPaddedDigestInfoHex(r,s,this.n.bitLength()),16);return qn(this.doPrivate(l).toString(16),this.n.bitLength())},mn.prototype.signPSS=function(r,s,o){var f=function(p){return h.crypto.Util.hashHex(p,s)}(wr(r));return void 0===o&&(o=-1),this.signWithMessageHashPSS(f,s,o)},mn.prototype.signWithMessageHashPSS=function(r,s,o){var _,l=Lr(r),f=l.length,p=this.n.bitLength()-1,m=Math.ceil(p/8),x=function(K){return h.crypto.Util.hashHex(K,s)};if(-1===o||void 0===o)o=f;else if(-2===o)o=m-f-2;else if(o<-2)throw new Error("invalid salt length");if(m<f+o+2)throw new Error("data too long");var P="";o>0&&(P=new Array(o),(new Ri).nextBytes(P),P=String.fromCharCode.apply(String,P));var U=Lr(x(wr("\0\0\0\0\0\0\0\0"+l+P))),$=[];for(_=0;_<m-o-f-2;_+=1)$[_]=0;var b=String.fromCharCode.apply(String,$)+"\x01"+P,S=sr(U,b.length,x),V=[];for(_=0;_<b.length;_+=1)V[_]=b.charCodeAt(_)^S.charCodeAt(_);for(V[0]&=~(65280>>8*m-p&255),_=0;_<f;_++)V.push(U.charCodeAt(_));return V.push(188),qn(this.doPrivate(new ue(V)).toString(16),this.n.bitLength())},mn.prototype.verify=function(r,s){if(null==(s=s.toLowerCase()).match(/^[0-9a-f]+$/))return!1;var o=Nr(s,16),l=this.n.bitLength();if(o.bitLength()>l)return!1;var p=this.doPublic(o).toString(16);if(p.length+3!=l/4)return!1;var _=xr(p.replace(/^1f+00/,""));if(0==_.length)return!1;var x=_[0],P=_[1],$=function(b){return h.crypto.Util.hashString(b,x)}(r);return P==$},mn.prototype.verifyWithMessageHash=function(r,s){if(s.length!=Math.ceil(this.n.bitLength()/4))return!1;var o=Nr(s,16);if(o.bitLength()>this.n.bitLength())return 0;var p=xr(this.doPublic(o).toString(16).replace(/^1f+00/,""));return 0!=p.length&&p[1]==r},mn.prototype.verifyPSS=function(r,s,o,l){var p=function(m){return h.crypto.Util.hashHex(m,o)}(wr(r));return void 0===l&&(l=-1),this.verifyWithMessageHashPSS(p,s,o,l)},mn.prototype.verifyWithMessageHashPSS=function(r,s,o,l){if(s.length!=Math.ceil(this.n.bitLength()/4))return!1;var U,f=new ue(s,16),p=function(J){return h.crypto.Util.hashHex(J,o)},m=Lr(r),_=m.length,x=this.n.bitLength()-1,P=Math.ceil(x/8);if(-1===l||void 0===l)l=_;else if(-2===l)l=P-_-2;else if(l<-2)throw new Error("invalid salt length");if(P<_+l+2)throw new Error("data too long");var $=this.doPublic(f).toByteArray();for(U=0;U<$.length;U+=1)$[U]&=255;for(;$.length<P;)$.unshift(0);if(188!==$[P-1])throw new Error("encoded message does not end in 0xbc");var b=($=String.fromCharCode.apply(String,$)).substr(0,P-_-1),S=$.substr(b.length,_),V=65280>>8*P-x&255;if(b.charCodeAt(0)&V)throw new Error("bits beyond keysize not zero");var T=sr(S,b.length,p),K=[];for(U=0;U<b.length;U+=1)K[U]=b.charCodeAt(U)^T.charCodeAt(U);K[0]&=~V;var B=P-_-l-2;for(U=0;U<B;U+=1)if(0!==K[U])throw new Error("leftmost octets not zero");if(1!==K[B])throw new Error("0x01 marker not found");return S===Lr(p(wr("\0\0\0\0\0\0\0\0"+m+String.fromCharCode.apply(String,K.slice(-l)))))},mn.SALT_LEN_HLEN=-1,mn.SALT_LEN_MAX=-2,mn.SALT_LEN_RECOVER=-2,rn.EXT_PARSER={},rn.registExtParser=function(r,s){rn.EXT_PARSER[r]=s},rn.hex2dn=function(r,s){void 0===s&&(s=0);var o=new rn;return Ut.getTLV(r,s),o.getX500Name(r).str},rn.hex2rdn=function(r,s){if(void 0===s&&(s=0),"31"!==r.substr(s,2))throw new Error("malformed RDN");for(var o=new Array,l=Ut.getChildIdx(r,s),f=0;f<l.length;f++)o.push(rn.hex2attrTypeValue(r,l[f]));return o=o.map(function(p){return p.replace("+","\\+")}),o.join("+")},rn.hex2attrTypeValue=function(r,s){var o=Ut,l=o.getV;if(void 0===s&&(s=0),"30"!==r.substr(s,2))throw new Error("malformed attribute type and value");var f=o.getChildIdx(r,s);2!==f.length||r.substr(f[0],2);var p=l(r,f[0]),m=h.asn1.ASN1Util.oidHexToInt(p);return h.asn1.x509.OID.oid2atype(m)+"="+Lr(l(r,f[1]))},rn.getPublicKeyFromCertHex=function(r){var s=new rn;return s.readCertHex(r),s.getPublicKey()},rn.getPublicKeyFromCertPEM=function(r){var s=new rn;return s.readCertPEM(r),s.getPublicKey()},rn.getPublicKeyInfoPropOfCertPEM=function(r){var f,p,o=Ut.getVbyList,l={algparam:null};return(f=new rn).readCertPEM(r),p=f.getPublicKeyHex(),l.keyhex=o(p,0,[1],"03").substr(2),l.algoid=o(p,0,[0,0],"06"),"2a8648ce3d0201"===l.algoid&&(l.algparam=o(p,0,[0,1],"06")),l},rn.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],(typeof h>"u"||!h)&&(h={}),(typeof h.jws>"u"||!h.jws)&&(h.jws={}),h.jws.JWS=function(){var o=h.jws.JWS.isSafeJSONString;this.parseJWS=function(l,f){if(void 0===this.parsedJWS||!f&&void 0===this.parsedJWS.sigvalH){var p=l.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==p)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var m=p[1],_=p[2],x=p[3],P=m+"."+_;if(this.parsedJWS={},this.parsedJWS.headB64U=m,this.parsedJWS.payloadB64U=_,this.parsedJWS.sigvalB64U=x,this.parsedJWS.si=P,!f){var U=Ir(x),$=Nr(U,16);this.parsedJWS.sigvalH=U,this.parsedJWS.sigvalBI=$}var b=Fi(m),S=Fi(_);if(this.parsedJWS.headS=b,this.parsedJWS.payloadS=S,!o(b,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+b}}},h.jws.JWS.sign=function(r,s,o,l,f){var T,K,B,_=h.jws.JWS,x=_.readSafeJSONString,P=_.isSafeJSONString,U=h.crypto,b=U.Mac,S=U.Signature,V=JSON;if("string"!=typeof s&&"object"!=typeof s)throw"spHeader must be JSON string or object: "+s;if("object"==typeof s&&(T=V.stringify(K=s)),"string"==typeof s){if(!P(T=s))throw"JWS Head is not safe JSON string: "+T;K=x(T)}if(B=o,"object"==typeof o&&(B=V.stringify(o)),(""==r||null==r)&&void 0!==K.alg&&(r=K.alg),""!=r&&null!=r&&void 0===K.alg&&(K.alg=r,T=V.stringify(K)),r!==K.alg)throw"alg and sHeader.alg doesn't match: "+r+"!="+K.alg;var J=null;if(void 0===_.jwsalg2sigalg[r])throw"unsupported alg name: "+r;J=_.jwsalg2sigalg[r];var pe=_s(T)+"."+_s(B),it="";if("Hmac"==J.substr(0,4)){if(void 0===l)throw"mac key shall be specified for HS* alg";var ct=new b({alg:J,prov:"cryptojs",pass:l});ct.updateString(pe),it=ct.doFinal()}else if(-1!=J.indexOf("withECDSA")){(W=new S({alg:J})).init(l,f),W.updateString(pe);var Z=W.sign();it=h.crypto.ECDSA.asn1SigToConcatSig(Z)}else if("none"!=J){var W;(W=new S({alg:J})).init(l,f),W.updateString(pe),it=W.sign()}return pe+"."+bn(it)},h.jws.JWS.verify=function(r,s,o){var $,p=h.jws.JWS,m=p.readSafeJSONString,_=h.crypto,x=_.ECDSA,P=_.Mac,U=_.Signature;if($=mn,!It(r))return!1;var b=r.split(".");if(3!==b.length)return!1;var de,T=b[0]+"."+b[1],K=Ir(b[2]),B=m(Fi(b[0])),J=null;if(void 0===B.alg)throw"algorithm not specified in header";if(de=(J=B.alg).substr(0,2),null!=o&&"[object Array]"===Object.prototype.toString.call(o)&&o.length>0&&-1==(":"+o.join(":")+":").indexOf(":"+J+":"))throw"algorithm '"+J+"' not accepted in the list";if("none"!=J&&null===s)throw"key shall be specified to verify.";if("string"==typeof s&&-1!=s.indexOf("-----BEGIN ")&&(s=$e.getKey(s)),!("RS"!=de&&"PS"!=de||s instanceof $))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==de&&!(s instanceof x))throw"key shall be a ECDSA obj for ES* algs";var pe=null;if(void 0===p.jwsalg2sigalg[B.alg])throw"unsupported alg name: "+J;if("none"==(pe=p.jwsalg2sigalg[J]))throw"not supported";if("Hmac"==pe.substr(0,4)){if(void 0===s)throw"hexadecimal key shall be specified for HMAC";var ct=new P({alg:pe,pass:s});return ct.updateString(T),K==ct.doFinal()}if(-1!=pe.indexOf("withECDSA")){var Z,W=null;try{W=x.concatSigToASN1Sig(K)}catch{return!1}return(Z=new U({alg:pe})).init(s),Z.updateString(T),Z.verify(W)}return(Z=new U({alg:pe})).init(s),Z.updateString(T),Z.verify(K)},h.jws.JWS.parse=function(r){var f,p,s=r.split("."),o={};if(2!=s.length&&3!=s.length)throw"malformed sJWS: wrong number of '.' splitted elements";return f=s[1],3==s.length&&(p=s[2]),o.headerObj=h.jws.JWS.readSafeJSONString(Fi(s[0])),o.payloadObj=h.jws.JWS.readSafeJSONString(Fi(f)),o.headerPP=JSON.stringify(o.headerObj,null,"  "),o.payloadPP=null==o.payloadObj?Fi(f):JSON.stringify(o.payloadObj,null,"  "),void 0!==p&&(o.sigHex=Ir(p)),o},h.jws.JWS.verifyJWT=function(r,s,o){var f=h.jws,p=f.JWS,m=p.readSafeJSONString,_=p.inArray,x=p.includedArray;if(!It(r))return!1;var P=r.split(".");if(3!=P.length)return!1;var U=P[0],$=P[1],V=(Ir(P[2]),m(Fi(U))),T=m(Fi($));if(void 0===V.alg)return!1;if(void 0===o.alg)throw"acceptField.alg shall be specified";if(!_(V.alg,o.alg)||void 0!==T.iss&&"object"==typeof o.iss&&!_(T.iss,o.iss)||void 0!==T.sub&&"object"==typeof o.sub&&!_(T.sub,o.sub))return!1;if(void 0!==T.aud&&"object"==typeof o.aud)if("string"==typeof T.aud){if(!_(T.aud,o.aud))return!1}else if("object"==typeof T.aud&&!x(T.aud,o.aud))return!1;var K=f.IntDate.getNow();return void 0!==o.verifyAt&&"number"==typeof o.verifyAt&&(K=o.verifyAt),(void 0===o.gracePeriod||"number"!=typeof o.gracePeriod)&&(o.gracePeriod=0),!(void 0!==T.exp&&"number"==typeof T.exp&&T.exp+o.gracePeriod<K||void 0!==T.nbf&&"number"==typeof T.nbf&&K<T.nbf-o.gracePeriod||void 0!==T.iat&&"number"==typeof T.iat&&K<T.iat-o.gracePeriod||void 0!==T.jti&&void 0!==o.jti&&T.jti!==o.jti||!p.verify(r,s,o.alg))},h.jws.JWS.includedArray=function(r,s){var o=h.jws.JWS.inArray;if(null===r||"object"!=typeof r||"number"!=typeof r.length)return!1;for(var l=0;l<r.length;l++)if(!o(r[l],s))return!1;return!0},h.jws.JWS.inArray=function(r,s){if(null===s||"object"!=typeof s||"number"!=typeof s.length)return!1;for(var o=0;o<s.length;o++)if(s[o]==r)return!0;return!1},h.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",ES512:"SHA512withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},h.jws.JWS.isSafeJSONString=function(r,s,o){var l=null;try{return"object"!=typeof(l=is(r))||l.constructor===Array?0:(s&&(s[o]=l),1)}catch{return 0}},h.jws.JWS.readSafeJSONString=function(r){var s=null;try{return"object"!=typeof(s=is(r))||s.constructor===Array?null:s}catch{return null}},h.jws.JWS.getEncodedSignatureValueFromJWS=function(r){var s=r.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==s)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return s[1]},h.jws.JWS.getJWKthumbprint=function(r){if("RSA"!==r.kty&&"EC"!==r.kty&&"oct"!==r.kty)throw"unsupported algorithm for JWK Thumprint";var s="{";if("RSA"===r.kty){if("string"!=typeof r.n||"string"!=typeof r.e)throw"wrong n and e value for RSA key";s+='"e":"'+r.e+'",',s+='"kty":"'+r.kty+'",',s+='"n":"'+r.n+'"}'}else if("EC"===r.kty){if("string"!=typeof r.crv||"string"!=typeof r.x||"string"!=typeof r.y)throw"wrong crv, x and y value for EC key";s+='"crv":"'+r.crv+'",',s+='"kty":"'+r.kty+'",',s+='"x":"'+r.x+'",',s+='"y":"'+r.y+'"}'}else if("oct"===r.kty){if("string"!=typeof r.k)throw"wrong k value for oct(symmetric) key";s+='"kty":"'+r.kty+'",',s+='"k":"'+r.k+'"}'}var o=wr(s);return bn(h.crypto.Util.hashHex(o,"sha256"))},h.jws.IntDate={},h.jws.IntDate.get=function(r){var s=h.jws.IntDate,o=s.getNow,l=s.getZulu;if("now"==r)return o();if("now + 1hour"==r)return o()+3600;if("now + 1day"==r)return o()+86400;if("now + 1month"==r)return o()+2592e3;if("now + 1year"==r)return o()+31536e3;if(r.match(/Z$/))return l(r);if(r.match(/^[0-9]+$/))return parseInt(r);throw"unsupported format: "+r},h.jws.IntDate.getZulu=function(r){return Gi(r)},h.jws.IntDate.getNow=function(){return~~(new Date/1e3)},h.jws.IntDate.intDate2UTCString=function(r){return new Date(1e3*r).toUTCString()},h.jws.IntDate.intDate2Zulu=function(r){var s=new Date(1e3*r);return("0000"+s.getUTCFullYear()).slice(-4)+("00"+(s.getUTCMonth()+1)).slice(-2)+("00"+s.getUTCDate()).slice(-2)+("00"+s.getUTCHours()).slice(-2)+("00"+s.getUTCMinutes()).slice(-2)+("00"+s.getUTCSeconds()).slice(-2)+"Z"},(typeof h>"u"||!h)&&(h={}),(typeof h.jws>"u"||!h.jws)&&(h.jws={}),h.jws.JWSJS=function(){var o=h.jws.JWS,l=o.readSafeJSONString;this.aHeader=[],this.sPayload="",this.aSignature=[],this.init=function(){this.aHeader=[],this.sPayload=void 0,this.aSignature=[]},this.initWithJWS=function(f){this.init();var p=f.split(".");if(3!=p.length)throw"malformed input JWS";this.aHeader.push(p[0]),this.sPayload=p[1],this.aSignature.push(p[2])},this.addSignature=function(f,p,m,_){if(null==this.sPayload)throw"there's no JSON-JS signature to add.";var x=this.aHeader.length;if(this.aHeader.length!=this.aSignature.length)throw"aHeader.length != aSignature.length";try{var U=h.jws.JWS.sign(f,p,this.sPayload,m,_).split(".");this.aHeader.push(U[0]),this.aSignature.push(U[2])}catch(S){throw this.aHeader.length>x&&this.aHeader.pop(),this.aSignature.length>x&&this.aSignature.pop(),"addSignature failed: "+S}},this.verifyAll=function(f){if(this.aHeader.length!==f.length||this.aSignature.length!==f.length)return!1;for(var p=0;p<f.length;p++){var m=f[p];if(2!==m.length)return!1;if(!1===this.verifyNth(p,m[0],m[1]))return!1}return!0},this.verifyNth=function(f,p,m){if(this.aHeader.length<=f||this.aSignature.length<=f)return!1;var P=this.aHeader[f]+"."+this.sPayload+"."+this.aSignature[f],U=!1;try{U=o.verify(P,p,m)}catch{return!1}return U},this.readJWSJS=function(f){if("string"==typeof f){var p=l(f);if(null==p)throw"argument is not safe JSON object string";this.aHeader=p.headers,this.sPayload=p.payload,this.aSignature=p.signatures}else try{if(!(f.headers.length>0))throw"malformed header";if(this.aHeader=f.headers,"string"!=typeof f.payload)throw"malformed signatures";if(this.sPayload=f.payload,!(f.signatures.length>0))throw"malformed signatures";this.aSignature=f.signatures}catch(m){throw"malformed JWS-JS JSON object: "+m}},this.getJSON=function(){return{headers:this.aHeader,payload:this.sPayload,signatures:this.aSignature}},this.isEmpty=function(){return 0==this.aHeader.length?1:0}},ot.KZ=$e,ot.fs=h},1135:(sn,ot,O)=>{"use strict";O.d(ot,{X:()=>ee});var u=O(7579);class ee extends u.x{constructor(Ue){super(),this._value=Ue}get value(){return this.getValue()}_subscribe(Ue){const ve=super._subscribe(Ue);return!ve.closed&&Ue.next(this._value),ve}getValue(){const{hasError:Ue,thrownError:ve,_value:Je}=this;if(Ue)throw ve;return this._throwIfClosed(),Je}next(Ue){super.next(this._value=Ue)}}},9751:(sn,ot,O)=>{"use strict";O.d(ot,{y:()=>Xe});var u=O(930),ee=O(727),we=O(8822),Ue=O(9635),ve=O(2416),Je=O(576),Ge=O(2806);let Xe=(()=>{class We{constructor(ue){ue&&(this._subscribe=ue)}lift(ue){const Ze=new We;return Ze.source=this,Ze.operator=ue,Ze}subscribe(ue,Ze,bt){const Xt=function xe(We){return We&&We instanceof u.Lv||function ge(We){return We&&(0,Je.m)(We.next)&&(0,Je.m)(We.error)&&(0,Je.m)(We.complete)}(We)&&(0,ee.Nn)(We)}(ue)?ue:new u.Hp(ue,Ze,bt);return(0,Ge.x)(()=>{const{operator:St,source:tn}=this;Xt.add(St?St.call(Xt,tn):tn?this._subscribe(Xt):this._trySubscribe(Xt))}),Xt}_trySubscribe(ue){try{return this._subscribe(ue)}catch(Ze){ue.error(Ze)}}forEach(ue,Ze){return new(Ze=Ie(Ze))((bt,Xt)=>{const St=new u.Hp({next:tn=>{try{ue(tn)}catch(wt){Xt(wt),St.unsubscribe()}},error:Xt,complete:bt});this.subscribe(St)})}_subscribe(ue){var Ze;return null===(Ze=this.source)||void 0===Ze?void 0:Ze.subscribe(ue)}[we.L](){return this}pipe(...ue){return(0,Ue.U)(ue)(this)}toPromise(ue){return new(ue=Ie(ue))((Ze,bt)=>{let Xt;this.subscribe(St=>Xt=St,St=>bt(St),()=>Ze(Xt))})}}return We.create=Tt=>new We(Tt),We})();function Ie(We){var Tt;return null!==(Tt=We??ve.v.Promise)&&void 0!==Tt?Tt:Promise}},7579:(sn,ot,O)=>{"use strict";O.d(ot,{x:()=>Ge});var u=O(9751),ee=O(727);const Ue=(0,O(3888).d)(Ie=>function(){Ie(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ve=O(8737),Je=O(2806);let Ge=(()=>{class Ie extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(xe){const We=new Xe(this,this);return We.operator=xe,We}_throwIfClosed(){if(this.closed)throw new Ue}next(xe){(0,Je.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const We of this.currentObservers)We.next(xe)}})}error(xe){(0,Je.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=xe;const{observers:We}=this;for(;We.length;)We.shift().error(xe)}})}complete(){(0,Je.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:xe}=this;for(;xe.length;)xe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var xe;return(null===(xe=this.observers)||void 0===xe?void 0:xe.length)>0}_trySubscribe(xe){return this._throwIfClosed(),super._trySubscribe(xe)}_subscribe(xe){return this._throwIfClosed(),this._checkFinalizedStatuses(xe),this._innerSubscribe(xe)}_innerSubscribe(xe){const{hasError:We,isStopped:Tt,observers:ue}=this;return We||Tt?ee.Lc:(this.currentObservers=null,ue.push(xe),new ee.w0(()=>{this.currentObservers=null,(0,ve.P)(ue,xe)}))}_checkFinalizedStatuses(xe){const{hasError:We,thrownError:Tt,isStopped:ue}=this;We?xe.error(Tt):ue&&xe.complete()}asObservable(){const xe=new u.y;return xe.source=this,xe}}return Ie.create=(ge,xe)=>new Xe(ge,xe),Ie})();class Xe extends Ge{constructor(ge,xe){super(),this.destination=ge,this.source=xe}next(ge){var xe,We;null===(We=null===(xe=this.destination)||void 0===xe?void 0:xe.next)||void 0===We||We.call(xe,ge)}error(ge){var xe,We;null===(We=null===(xe=this.destination)||void 0===xe?void 0:xe.error)||void 0===We||We.call(xe,ge)}complete(){var ge,xe;null===(xe=null===(ge=this.destination)||void 0===ge?void 0:ge.complete)||void 0===xe||xe.call(ge)}_subscribe(ge){var xe,We;return null!==(We=null===(xe=this.source)||void 0===xe?void 0:xe.subscribe(ge))&&void 0!==We?We:ee.Lc}}},930:(sn,ot,O)=>{"use strict";O.d(ot,{Hp:()=>bt,Lv:()=>We});var u=O(576),ee=O(727),we=O(2416),Ue=O(7849),ve=O(5032);const Je=Ie("C",void 0,void 0);function Ie(be,De,et){return{kind:be,value:De,error:et}}var ge=O(3410),xe=O(2806);class We extends ee.w0{constructor(De){super(),this.isStopped=!1,De?(this.destination=De,(0,ee.Nn)(De)&&De.add(this)):this.destination=wt}static create(De,et,_t){return new bt(De,et,_t)}next(De){this.isStopped?tn(function Xe(be){return Ie("N",be,void 0)}(De),this):this._next(De)}error(De){this.isStopped?tn(function Ge(be){return Ie("E",void 0,be)}(De),this):(this.isStopped=!0,this._error(De))}complete(){this.isStopped?tn(Je,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(De){this.destination.next(De)}_error(De){try{this.destination.error(De)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Tt=Function.prototype.bind;function ue(be,De){return Tt.call(be,De)}class Ze{constructor(De){this.partialObserver=De}next(De){const{partialObserver:et}=this;if(et.next)try{et.next(De)}catch(_t){Xt(_t)}}error(De){const{partialObserver:et}=this;if(et.error)try{et.error(De)}catch(_t){Xt(_t)}else Xt(De)}complete(){const{partialObserver:De}=this;if(De.complete)try{De.complete()}catch(et){Xt(et)}}}class bt extends We{constructor(De,et,_t){let $t;if(super(),(0,u.m)(De)||!De)$t={next:De??void 0,error:et??void 0,complete:_t??void 0};else{let Ot;this&&we.v.useDeprecatedNextContext?(Ot=Object.create(De),Ot.unsubscribe=()=>this.unsubscribe(),$t={next:De.next&&ue(De.next,Ot),error:De.error&&ue(De.error,Ot),complete:De.complete&&ue(De.complete,Ot)}):$t=De}this.destination=new Ze($t)}}function Xt(be){we.v.useDeprecatedSynchronousErrorHandling?(0,xe.O)(be):(0,Ue.h)(be)}function tn(be,De){const{onStoppedNotification:et}=we.v;et&&ge.z.setTimeout(()=>et(be,De))}const wt={closed:!0,next:ve.Z,error:function St(be){throw be},complete:ve.Z}},727:(sn,ot,O)=>{"use strict";O.d(ot,{Lc:()=>Je,w0:()=>ve,Nn:()=>Ge});var u=O(576);const we=(0,O(3888).d)(Ie=>function(xe){Ie(this),this.message=xe?`${xe.length} errors occurred during unsubscription:\n${xe.map((We,Tt)=>`${Tt+1}) ${We.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=xe});var Ue=O(8737);class ve{constructor(ge){this.initialTeardown=ge,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ge;if(!this.closed){this.closed=!0;const{_parentage:xe}=this;if(xe)if(this._parentage=null,Array.isArray(xe))for(const ue of xe)ue.remove(this);else xe.remove(this);const{initialTeardown:We}=this;if((0,u.m)(We))try{We()}catch(ue){ge=ue instanceof we?ue.errors:[ue]}const{_finalizers:Tt}=this;if(Tt){this._finalizers=null;for(const ue of Tt)try{Xe(ue)}catch(Ze){ge=ge??[],Ze instanceof we?ge=[...ge,...Ze.errors]:ge.push(Ze)}}if(ge)throw new we(ge)}}add(ge){var xe;if(ge&&ge!==this)if(this.closed)Xe(ge);else{if(ge instanceof ve){if(ge.closed||ge._hasParent(this))return;ge._addParent(this)}(this._finalizers=null!==(xe=this._finalizers)&&void 0!==xe?xe:[]).push(ge)}}_hasParent(ge){const{_parentage:xe}=this;return xe===ge||Array.isArray(xe)&&xe.includes(ge)}_addParent(ge){const{_parentage:xe}=this;this._parentage=Array.isArray(xe)?(xe.push(ge),xe):xe?[xe,ge]:ge}_removeParent(ge){const{_parentage:xe}=this;xe===ge?this._parentage=null:Array.isArray(xe)&&(0,Ue.P)(xe,ge)}remove(ge){const{_finalizers:xe}=this;xe&&(0,Ue.P)(xe,ge),ge instanceof ve&&ge._removeParent(this)}}ve.EMPTY=(()=>{const Ie=new ve;return Ie.closed=!0,Ie})();const Je=ve.EMPTY;function Ge(Ie){return Ie instanceof ve||Ie&&"closed"in Ie&&(0,u.m)(Ie.remove)&&(0,u.m)(Ie.add)&&(0,u.m)(Ie.unsubscribe)}function Xe(Ie){(0,u.m)(Ie)?Ie():Ie.unsubscribe()}},2416:(sn,ot,O)=>{"use strict";O.d(ot,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(sn,ot,O)=>{"use strict";O.d(ot,{a:()=>ge});var u=O(9751),ee=O(4742),we=O(457),Ue=O(4671),ve=O(3268),Je=O(3269),Ge=O(1810),Xe=O(5403),Ie=O(9672);function ge(...Tt){const ue=(0,Je.yG)(Tt),Ze=(0,Je.jO)(Tt),{args:bt,keys:Xt}=(0,ee.D)(Tt);if(0===bt.length)return(0,we.D)([],ue);const St=new u.y(function xe(Tt,ue,Ze=Ue.y){return bt=>{We(ue,()=>{const{length:Xt}=Tt,St=new Array(Xt);let tn=Xt,wt=Xt;for(let be=0;be<Xt;be++)We(ue,()=>{const De=(0,we.D)(Tt[be],ue);let et=!1;De.subscribe((0,Xe.x)(bt,_t=>{St[be]=_t,et||(et=!0,wt--),wt||bt.next(Ze(St.slice()))},()=>{--tn||bt.complete()}))},bt)},bt)}}(bt,ue,Xt?tn=>(0,Ge.n)(Xt,tn):Ue.y));return Ze?St.pipe((0,ve.Z)(Ze)):St}function We(Tt,ue,Ze){Tt?(0,Ie.f)(Ze,Tt,ue):ue()}},7272:(sn,ot,O)=>{"use strict";O.d(ot,{z:()=>ve});var u=O(8189),we=O(3269),Ue=O(457);function ve(...Je){return function ee(){return(0,u.J)(1)}()((0,Ue.D)(Je,(0,we.yG)(Je)))}},515:(sn,ot,O)=>{"use strict";O.d(ot,{E:()=>ee});const ee=new(O(9751).y)(ve=>ve.complete())},457:(sn,ot,O)=>{"use strict";O.d(ot,{D:()=>et});var u=O(8421),ee=O(5363),we=O(4482);function Ue(_t,$t=0){return(0,we.e)((Ot,Wt)=>{Wt.add(_t.schedule(()=>Ot.subscribe(Wt),$t))})}var Ge=O(9751),Ie=O(2202),ge=O(576),xe=O(9672);function Tt(_t,$t){if(!_t)throw new Error("Iterable cannot be null");return new Ge.y(Ot=>{(0,xe.f)(Ot,$t,()=>{const Wt=_t[Symbol.asyncIterator]();(0,xe.f)(Ot,$t,()=>{Wt.next().then(En=>{En.done?Ot.complete():Ot.next(En.value)})},0,!0)})})}var ue=O(3670),Ze=O(8239),bt=O(1144),Xt=O(6495),St=O(2206),tn=O(4532),wt=O(3260);function et(_t,$t){return $t?function De(_t,$t){if(null!=_t){if((0,ue.c)(_t))return function ve(_t,$t){return(0,u.Xf)(_t).pipe(Ue($t),(0,ee.Q)($t))}(_t,$t);if((0,bt.z)(_t))return function Xe(_t,$t){return new Ge.y(Ot=>{let Wt=0;return $t.schedule(function(){Wt===_t.length?Ot.complete():(Ot.next(_t[Wt++]),Ot.closed||this.schedule())})})}(_t,$t);if((0,Ze.t)(_t))return function Je(_t,$t){return(0,u.Xf)(_t).pipe(Ue($t),(0,ee.Q)($t))}(_t,$t);if((0,St.D)(_t))return Tt(_t,$t);if((0,Xt.T)(_t))return function We(_t,$t){return new Ge.y(Ot=>{let Wt;return(0,xe.f)(Ot,$t,()=>{Wt=_t[Ie.h](),(0,xe.f)(Ot,$t,()=>{let En,Jt;try{({value:En,done:Jt}=Wt.next())}catch(Pn){return void Ot.error(Pn)}Jt?Ot.complete():Ot.next(En)},0,!0)}),()=>(0,ge.m)(Wt?.return)&&Wt.return()})}(_t,$t);if((0,wt.L)(_t))return function be(_t,$t){return Tt((0,wt.Q)(_t),$t)}(_t,$t)}throw(0,tn.z)(_t)}(_t,$t):(0,u.Xf)(_t)}},4968:(sn,ot,O)=>{"use strict";O.d(ot,{R:()=>ge});var u=O(8421),ee=O(9751),we=O(5577),Ue=O(1144),ve=O(576),Je=O(3268);const Ge=["addListener","removeListener"],Xe=["addEventListener","removeEventListener"],Ie=["on","off"];function ge(Ze,bt,Xt,St){if((0,ve.m)(Xt)&&(St=Xt,Xt=void 0),St)return ge(Ze,bt,Xt).pipe((0,Je.Z)(St));const[tn,wt]=function ue(Ze){return(0,ve.m)(Ze.addEventListener)&&(0,ve.m)(Ze.removeEventListener)}(Ze)?Xe.map(be=>De=>Ze[be](bt,De,Xt)):function We(Ze){return(0,ve.m)(Ze.addListener)&&(0,ve.m)(Ze.removeListener)}(Ze)?Ge.map(xe(Ze,bt)):function Tt(Ze){return(0,ve.m)(Ze.on)&&(0,ve.m)(Ze.off)}(Ze)?Ie.map(xe(Ze,bt)):[];if(!tn&&(0,Ue.z)(Ze))return(0,we.z)(be=>ge(be,bt,Xt))((0,u.Xf)(Ze));if(!tn)throw new TypeError("Invalid event target");return new ee.y(be=>{const De=(...et)=>be.next(1<et.length?et:et[0]);return tn(De),()=>wt(De)})}function xe(Ze,bt){return Xt=>St=>Ze[Xt](bt,St)}},8421:(sn,ot,O)=>{"use strict";O.d(ot,{Xf:()=>Tt});var u=O(655),ee=O(1144),we=O(8239),Ue=O(9751),ve=O(3670),Je=O(2206),Ge=O(4532),Xe=O(6495),Ie=O(3260),ge=O(576),xe=O(7849),We=O(8822);function Tt(be){if(be instanceof Ue.y)return be;if(null!=be){if((0,ve.c)(be))return function ue(be){return new Ue.y(De=>{const et=be[We.L]();if((0,ge.m)(et.subscribe))return et.subscribe(De);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(be);if((0,ee.z)(be))return function Ze(be){return new Ue.y(De=>{for(let et=0;et<be.length&&!De.closed;et++)De.next(be[et]);De.complete()})}(be);if((0,we.t)(be))return function bt(be){return new Ue.y(De=>{be.then(et=>{De.closed||(De.next(et),De.complete())},et=>De.error(et)).then(null,xe.h)})}(be);if((0,Je.D)(be))return St(be);if((0,Xe.T)(be))return function Xt(be){return new Ue.y(De=>{for(const et of be)if(De.next(et),De.closed)return;De.complete()})}(be);if((0,Ie.L)(be))return function tn(be){return St((0,Ie.Q)(be))}(be)}throw(0,Ge.z)(be)}function St(be){return new Ue.y(De=>{(function wt(be,De){var et,_t,$t,Ot;return(0,u.mG)(this,void 0,void 0,function*(){try{for(et=(0,u.KL)(be);!(_t=yield et.next()).done;)if(De.next(_t.value),De.closed)return}catch(Wt){$t={error:Wt}}finally{try{_t&&!_t.done&&(Ot=et.return)&&(yield Ot.call(et))}finally{if($t)throw $t.error}}De.complete()})})(be,De).catch(et=>De.error(et))})}},6451:(sn,ot,O)=>{"use strict";O.d(ot,{T:()=>Je});var u=O(8189),ee=O(8421),we=O(515),Ue=O(3269),ve=O(457);function Je(...Ge){const Xe=(0,Ue.yG)(Ge),Ie=(0,Ue._6)(Ge,1/0),ge=Ge;return ge.length?1===ge.length?(0,ee.Xf)(ge[0]):(0,u.J)(Ie)((0,ve.D)(ge,Xe)):we.E}},9646:(sn,ot,O)=>{"use strict";O.d(ot,{of:()=>we});var u=O(3269),ee=O(457);function we(...Ue){const ve=(0,u.yG)(Ue);return(0,ee.D)(Ue,ve)}},2843:(sn,ot,O)=>{"use strict";O.d(ot,{_:()=>we});var u=O(9751),ee=O(576);function we(Ue,ve){const Je=(0,ee.m)(Ue)?Ue:()=>Ue,Ge=Xe=>Xe.error(Je());return new u.y(ve?Xe=>ve.schedule(Ge,0,Xe):Ge)}},2805:(sn,ot,O)=>{"use strict";O.d(ot,{H:()=>ve});var u=O(9751),ee=O(4986),we=O(3532),Ue=O(1165);function ve(Je=0,Ge,Xe=ee.P){let Ie=-1;return null!=Ge&&((0,we.K)(Ge)?Xe=Ge:Ie=Ge),new u.y(ge=>{let xe=(0,Ue.q)(Je)?+Je-Xe.now():Je;xe<0&&(xe=0);let We=0;return Xe.schedule(function(){ge.closed||(ge.next(We++),0<=Ie?this.schedule(void 0,Ie):ge.complete())},xe)})}},5403:(sn,ot,O)=>{"use strict";O.d(ot,{x:()=>ee});var u=O(930);function ee(Ue,ve,Je,Ge,Xe){return new we(Ue,ve,Je,Ge,Xe)}class we extends u.Lv{constructor(ve,Je,Ge,Xe,Ie,ge){super(ve),this.onFinalize=Ie,this.shouldUnsubscribe=ge,this._next=Je?function(xe){try{Je(xe)}catch(We){ve.error(We)}}:super._next,this._error=Xe?function(xe){try{Xe(xe)}catch(We){ve.error(We)}finally{this.unsubscribe()}}:super._error,this._complete=Ge?function(){try{Ge()}catch(xe){ve.error(xe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ve;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Je}=this;super.unsubscribe(),!Je&&(null===(ve=this.onFinalize)||void 0===ve||ve.call(this))}}}},262:(sn,ot,O)=>{"use strict";O.d(ot,{K:()=>Ue});var u=O(8421),ee=O(5403),we=O(4482);function Ue(ve){return(0,we.e)((Je,Ge)=>{let ge,Xe=null,Ie=!1;Xe=Je.subscribe((0,ee.x)(Ge,void 0,void 0,xe=>{ge=(0,u.Xf)(ve(xe,Ue(ve)(Je))),Xe?(Xe.unsubscribe(),Xe=null,ge.subscribe(Ge)):Ie=!0})),Ie&&(Xe.unsubscribe(),Xe=null,ge.subscribe(Ge))})}},4351:(sn,ot,O)=>{"use strict";O.d(ot,{b:()=>we});var u=O(5577),ee=O(576);function we(Ue,ve){return(0,ee.m)(ve)?(0,u.z)(Ue,ve,1):(0,u.z)(Ue,1)}},8372:(sn,ot,O)=>{"use strict";O.d(ot,{b:()=>Ue});var u=O(4986),ee=O(4482),we=O(5403);function Ue(ve,Je=u.z){return(0,ee.e)((Ge,Xe)=>{let Ie=null,ge=null,xe=null;const We=()=>{if(Ie){Ie.unsubscribe(),Ie=null;const ue=ge;ge=null,Xe.next(ue)}};function Tt(){const ue=xe+ve,Ze=Je.now();if(Ze<ue)return Ie=this.schedule(void 0,ue-Ze),void Xe.add(Ie);We()}Ge.subscribe((0,we.x)(Xe,ue=>{ge=ue,xe=Je.now(),Ie||(Ie=Je.schedule(Tt,ve),Xe.add(Ie))},()=>{We(),Xe.complete()},void 0,()=>{ge=Ie=null}))})}},6590:(sn,ot,O)=>{"use strict";O.d(ot,{d:()=>we});var u=O(4482),ee=O(5403);function we(Ue){return(0,u.e)((ve,Je)=>{let Ge=!1;ve.subscribe((0,ee.x)(Je,Xe=>{Ge=!0,Je.next(Xe)},()=>{Ge||Je.next(Ue),Je.complete()}))})}},9300:(sn,ot,O)=>{"use strict";O.d(ot,{h:()=>we});var u=O(4482),ee=O(5403);function we(Ue,ve){return(0,u.e)((Je,Ge)=>{let Xe=0;Je.subscribe((0,ee.x)(Ge,Ie=>Ue.call(ve,Ie,Xe++)&&Ge.next(Ie)))})}},590:(sn,ot,O)=>{"use strict";O.d(ot,{P:()=>Ge});var u=O(6805),ee=O(9300),we=O(5698),Ue=O(6590),ve=O(8068),Je=O(4671);function Ge(Xe,Ie){const ge=arguments.length>=2;return xe=>xe.pipe(Xe?(0,ee.h)((We,Tt)=>Xe(We,Tt,xe)):Je.y,(0,we.q)(1),ge?(0,Ue.d)(Ie):(0,ve.T)(()=>new u.K))}},4004:(sn,ot,O)=>{"use strict";O.d(ot,{U:()=>we});var u=O(4482),ee=O(5403);function we(Ue,ve){return(0,u.e)((Je,Ge)=>{let Xe=0;Je.subscribe((0,ee.x)(Ge,Ie=>{Ge.next(Ue.call(ve,Ie,Xe++))}))})}},9718:(sn,ot,O)=>{"use strict";O.d(ot,{h:()=>ee});var u=O(4004);function ee(we){return(0,u.U)(()=>we)}},8189:(sn,ot,O)=>{"use strict";O.d(ot,{J:()=>we});var u=O(5577),ee=O(4671);function we(Ue=1/0){return(0,u.z)(ee.y,Ue)}},5577:(sn,ot,O)=>{"use strict";O.d(ot,{z:()=>Xe});var u=O(4004),ee=O(8421),we=O(4482),Ue=O(9672),ve=O(5403),Ge=O(576);function Xe(Ie,ge,xe=1/0){return(0,Ge.m)(ge)?Xe((We,Tt)=>(0,u.U)((ue,Ze)=>ge(We,ue,Tt,Ze))((0,ee.Xf)(Ie(We,Tt))),xe):("number"==typeof ge&&(xe=ge),(0,we.e)((We,Tt)=>function Je(Ie,ge,xe,We,Tt,ue,Ze,bt){const Xt=[];let St=0,tn=0,wt=!1;const be=()=>{wt&&!Xt.length&&!St&&ge.complete()},De=_t=>St<We?et(_t):Xt.push(_t),et=_t=>{ue&&ge.next(_t),St++;let $t=!1;(0,ee.Xf)(xe(_t,tn++)).subscribe((0,ve.x)(ge,Ot=>{Tt?.(Ot),ue?De(Ot):ge.next(Ot)},()=>{$t=!0},void 0,()=>{if($t)try{for(St--;Xt.length&&St<We;){const Ot=Xt.shift();Ze?(0,Ue.f)(ge,Ze,()=>et(Ot)):et(Ot)}be()}catch(Ot){ge.error(Ot)}}))};return Ie.subscribe((0,ve.x)(ge,De,()=>{wt=!0,be()})),()=>{bt?.()}}(We,Tt,Ie,xe)))}},5363:(sn,ot,O)=>{"use strict";O.d(ot,{Q:()=>Ue});var u=O(9672),ee=O(4482),we=O(5403);function Ue(ve,Je=0){return(0,ee.e)((Ge,Xe)=>{Ge.subscribe((0,we.x)(Xe,Ie=>(0,u.f)(Xe,ve,()=>Xe.next(Ie),Je),()=>(0,u.f)(Xe,ve,()=>Xe.complete(),Je),Ie=>(0,u.f)(Xe,ve,()=>Xe.error(Ie),Je)))})}},5026:(sn,ot,O)=>{"use strict";O.d(ot,{R:()=>Ue});var u=O(4482),ee=O(5403);function Ue(ve,Je){return(0,u.e)(function we(ve,Je,Ge,Xe,Ie){return(ge,xe)=>{let We=Ge,Tt=Je,ue=0;ge.subscribe((0,ee.x)(xe,Ze=>{const bt=ue++;Tt=We?ve(Tt,Ze,bt):(We=!0,Ze),Xe&&xe.next(Tt)},Ie&&(()=>{We&&xe.next(Tt),xe.complete()})))}}(ve,Je,arguments.length>=2,!0))}},8675:(sn,ot,O)=>{"use strict";O.d(ot,{O:()=>Ue});var u=O(7272),ee=O(3269),we=O(4482);function Ue(...ve){const Je=(0,ee.yG)(ve);return(0,we.e)((Ge,Xe)=>{(Je?(0,u.z)(ve,Ge,Je):(0,u.z)(ve,Ge)).subscribe(Xe)})}},3900:(sn,ot,O)=>{"use strict";O.d(ot,{w:()=>Ue});var u=O(8421),ee=O(4482),we=O(5403);function Ue(ve,Je){return(0,ee.e)((Ge,Xe)=>{let Ie=null,ge=0,xe=!1;const We=()=>xe&&!Ie&&Xe.complete();Ge.subscribe((0,we.x)(Xe,Tt=>{Ie?.unsubscribe();let ue=0;const Ze=ge++;(0,u.Xf)(ve(Tt,Ze)).subscribe(Ie=(0,we.x)(Xe,bt=>Xe.next(Je?Je(Tt,bt,Ze,ue++):bt),()=>{Ie=null,We()}))},()=>{xe=!0,We()}))})}},5698:(sn,ot,O)=>{"use strict";O.d(ot,{q:()=>Ue});var u=O(515),ee=O(4482),we=O(5403);function Ue(ve){return ve<=0?()=>u.E:(0,ee.e)((Je,Ge)=>{let Xe=0;Je.subscribe((0,we.x)(Ge,Ie=>{++Xe<=ve&&(Ge.next(Ie),ve<=Xe&&Ge.complete())}))})}},2722:(sn,ot,O)=>{"use strict";O.d(ot,{R:()=>ve});var u=O(4482),ee=O(5403),we=O(8421),Ue=O(5032);function ve(Je){return(0,u.e)((Ge,Xe)=>{(0,we.Xf)(Je).subscribe((0,ee.x)(Xe,()=>Xe.complete(),Ue.Z)),!Xe.closed&&Ge.subscribe(Xe)})}},8505:(sn,ot,O)=>{"use strict";O.d(ot,{b:()=>ve});var u=O(576),ee=O(4482),we=O(5403),Ue=O(4671);function ve(Je,Ge,Xe){const Ie=(0,u.m)(Je)||Ge||Xe?{next:Je,error:Ge,complete:Xe}:Je;return Ie?(0,ee.e)((ge,xe)=>{var We;null===(We=Ie.subscribe)||void 0===We||We.call(Ie);let Tt=!0;ge.subscribe((0,we.x)(xe,ue=>{var Ze;null===(Ze=Ie.next)||void 0===Ze||Ze.call(Ie,ue),xe.next(ue)},()=>{var ue;Tt=!1,null===(ue=Ie.complete)||void 0===ue||ue.call(Ie),xe.complete()},ue=>{var Ze;Tt=!1,null===(Ze=Ie.error)||void 0===Ze||Ze.call(Ie,ue),xe.error(ue)},()=>{var ue,Ze;Tt&&(null===(ue=Ie.unsubscribe)||void 0===ue||ue.call(Ie)),null===(Ze=Ie.finalize)||void 0===Ze||Ze.call(Ie)}))}):Ue.y}},8068:(sn,ot,O)=>{"use strict";O.d(ot,{T:()=>Ue});var u=O(6805),ee=O(4482),we=O(5403);function Ue(Je=ve){return(0,ee.e)((Ge,Xe)=>{let Ie=!1;Ge.subscribe((0,we.x)(Xe,ge=>{Ie=!0,Xe.next(ge)},()=>Ie?Xe.complete():Xe.error(Je())))})}function ve(){return new u.K}},4408:(sn,ot,O)=>{"use strict";O.d(ot,{o:()=>ve});var u=O(727);class ee extends u.w0{constructor(Ge,Xe){super()}schedule(Ge,Xe=0){return this}}const we={setInterval(Je,Ge,...Xe){const{delegate:Ie}=we;return Ie?.setInterval?Ie.setInterval(Je,Ge,...Xe):setInterval(Je,Ge,...Xe)},clearInterval(Je){const{delegate:Ge}=we;return(Ge?.clearInterval||clearInterval)(Je)},delegate:void 0};var Ue=O(8737);class ve extends ee{constructor(Ge,Xe){super(Ge,Xe),this.scheduler=Ge,this.work=Xe,this.pending=!1}schedule(Ge,Xe=0){var Ie;if(this.closed)return this;this.state=Ge;const ge=this.id,xe=this.scheduler;return null!=ge&&(this.id=this.recycleAsyncId(xe,ge,Xe)),this.pending=!0,this.delay=Xe,this.id=null!==(Ie=this.id)&&void 0!==Ie?Ie:this.requestAsyncId(xe,this.id,Xe),this}requestAsyncId(Ge,Xe,Ie=0){return we.setInterval(Ge.flush.bind(Ge,this),Ie)}recycleAsyncId(Ge,Xe,Ie=0){if(null!=Ie&&this.delay===Ie&&!1===this.pending)return Xe;null!=Xe&&we.clearInterval(Xe)}execute(Ge,Xe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ie=this._execute(Ge,Xe);if(Ie)return Ie;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ge,Xe){let ge,Ie=!1;try{this.work(Ge)}catch(xe){Ie=!0,ge=xe||new Error("Scheduled action threw falsy error")}if(Ie)return this.unsubscribe(),ge}unsubscribe(){if(!this.closed){const{id:Ge,scheduler:Xe}=this,{actions:Ie}=Xe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ue.P)(Ie,this),null!=Ge&&(this.id=this.recycleAsyncId(Xe,Ge,null)),this.delay=null,super.unsubscribe()}}}},640:(sn,ot,O)=>{"use strict";O.d(ot,{v:()=>we});const u={now:()=>(u.delegate||Date).now(),delegate:void 0};class ee{constructor(ve,Je=ee.now){this.schedulerActionCtor=ve,this.now=Je}schedule(ve,Je=0,Ge){return new this.schedulerActionCtor(this,ve).schedule(Ge,Je)}}ee.now=u.now;class we extends ee{constructor(ve,Je=ee.now){super(ve,Je),this.actions=[],this._active=!1}flush(ve){const{actions:Je}=this;if(this._active)return void Je.push(ve);let Ge;this._active=!0;do{if(Ge=ve.execute(ve.state,ve.delay))break}while(ve=Je.shift());if(this._active=!1,Ge){for(;ve=Je.shift();)ve.unsubscribe();throw Ge}}}},6406:(sn,ot,O)=>{"use strict";O.d(ot,{Z:()=>Ge});var u=O(4408),ee=O(727);const we={schedule(Ie){let ge=requestAnimationFrame,xe=cancelAnimationFrame;const{delegate:We}=we;We&&(ge=We.requestAnimationFrame,xe=We.cancelAnimationFrame);const Tt=ge(ue=>{xe=void 0,Ie(ue)});return new ee.w0(()=>xe?.(Tt))},requestAnimationFrame(...Ie){const{delegate:ge}=we;return(ge?.requestAnimationFrame||requestAnimationFrame)(...Ie)},cancelAnimationFrame(...Ie){const{delegate:ge}=we;return(ge?.cancelAnimationFrame||cancelAnimationFrame)(...Ie)},delegate:void 0};var ve=O(640);const Ge=new class Je extends ve.v{flush(ge){this._active=!0;const xe=this._scheduled;this._scheduled=void 0;const{actions:We}=this;let Tt;ge=ge||We.shift();do{if(Tt=ge.execute(ge.state,ge.delay))break}while((ge=We[0])&&ge.id===xe&&We.shift());if(this._active=!1,Tt){for(;(ge=We[0])&&ge.id===xe&&We.shift();)ge.unsubscribe();throw Tt}}}(class Ue extends u.o{constructor(ge,xe){super(ge,xe),this.scheduler=ge,this.work=xe}requestAsyncId(ge,xe,We=0){return null!==We&&We>0?super.requestAsyncId(ge,xe,We):(ge.actions.push(this),ge._scheduled||(ge._scheduled=we.requestAnimationFrame(()=>ge.flush(void 0))))}recycleAsyncId(ge,xe,We=0){var Tt;if(null!=We?We>0:this.delay>0)return super.recycleAsyncId(ge,xe,We);const{actions:ue}=ge;null!=xe&&(null===(Tt=ue[ue.length-1])||void 0===Tt?void 0:Tt.id)!==xe&&(we.cancelAnimationFrame(xe),ge._scheduled=void 0)}})},4986:(sn,ot,O)=>{"use strict";O.d(ot,{P:()=>Ue,z:()=>we});var u=O(4408);const we=new(O(640).v)(u.o),Ue=we},3410:(sn,ot,O)=>{"use strict";O.d(ot,{z:()=>u});const u={setTimeout(ee,we,...Ue){const{delegate:ve}=u;return ve?.setTimeout?ve.setTimeout(ee,we,...Ue):setTimeout(ee,we,...Ue)},clearTimeout(ee){const{delegate:we}=u;return(we?.clearTimeout||clearTimeout)(ee)},delegate:void 0}},2202:(sn,ot,O)=>{"use strict";O.d(ot,{h:()=>ee});const ee=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(sn,ot,O)=>{"use strict";O.d(ot,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(sn,ot,O)=>{"use strict";O.d(ot,{K:()=>ee});const ee=(0,O(3888).d)(we=>function(){we(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(sn,ot,O)=>{"use strict";O.d(ot,{_6:()=>Je,jO:()=>Ue,yG:()=>ve});var u=O(576),ee=O(3532);function we(Ge){return Ge[Ge.length-1]}function Ue(Ge){return(0,u.m)(we(Ge))?Ge.pop():void 0}function ve(Ge){return(0,ee.K)(we(Ge))?Ge.pop():void 0}function Je(Ge,Xe){return"number"==typeof we(Ge)?Ge.pop():Xe}},4742:(sn,ot,O)=>{"use strict";O.d(ot,{D:()=>ve});const{isArray:u}=Array,{getPrototypeOf:ee,prototype:we,keys:Ue}=Object;function ve(Ge){if(1===Ge.length){const Xe=Ge[0];if(u(Xe))return{args:Xe,keys:null};if(function Je(Ge){return Ge&&"object"==typeof Ge&&ee(Ge)===we}(Xe)){const Ie=Ue(Xe);return{args:Ie.map(ge=>Xe[ge]),keys:Ie}}}return{args:Ge,keys:null}}},8737:(sn,ot,O)=>{"use strict";function u(ee,we){if(ee){const Ue=ee.indexOf(we);0<=Ue&&ee.splice(Ue,1)}}O.d(ot,{P:()=>u})},3888:(sn,ot,O)=>{"use strict";function u(ee){const Ue=ee(ve=>{Error.call(ve),ve.stack=(new Error).stack});return Ue.prototype=Object.create(Error.prototype),Ue.prototype.constructor=Ue,Ue}O.d(ot,{d:()=>u})},1810:(sn,ot,O)=>{"use strict";function u(ee,we){return ee.reduce((Ue,ve,Je)=>(Ue[ve]=we[Je],Ue),{})}O.d(ot,{n:()=>u})},2806:(sn,ot,O)=>{"use strict";O.d(ot,{O:()=>Ue,x:()=>we});var u=O(2416);let ee=null;function we(ve){if(u.v.useDeprecatedSynchronousErrorHandling){const Je=!ee;if(Je&&(ee={errorThrown:!1,error:null}),ve(),Je){const{errorThrown:Ge,error:Xe}=ee;if(ee=null,Ge)throw Xe}}else ve()}function Ue(ve){u.v.useDeprecatedSynchronousErrorHandling&&ee&&(ee.errorThrown=!0,ee.error=ve)}},9672:(sn,ot,O)=>{"use strict";function u(ee,we,Ue,ve=0,Je=!1){const Ge=we.schedule(function(){Ue(),Je?ee.add(this.schedule(null,ve)):this.unsubscribe()},ve);if(ee.add(Ge),!Je)return Ge}O.d(ot,{f:()=>u})},4671:(sn,ot,O)=>{"use strict";function u(ee){return ee}O.d(ot,{y:()=>u})},1144:(sn,ot,O)=>{"use strict";O.d(ot,{z:()=>u});const u=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},2206:(sn,ot,O)=>{"use strict";O.d(ot,{D:()=>ee});var u=O(576);function ee(we){return Symbol.asyncIterator&&(0,u.m)(we?.[Symbol.asyncIterator])}},1165:(sn,ot,O)=>{"use strict";function u(ee){return ee instanceof Date&&!isNaN(ee)}O.d(ot,{q:()=>u})},576:(sn,ot,O)=>{"use strict";function u(ee){return"function"==typeof ee}O.d(ot,{m:()=>u})},3670:(sn,ot,O)=>{"use strict";O.d(ot,{c:()=>we});var u=O(8822),ee=O(576);function we(Ue){return(0,ee.m)(Ue[u.L])}},6495:(sn,ot,O)=>{"use strict";O.d(ot,{T:()=>we});var u=O(2202),ee=O(576);function we(Ue){return(0,ee.m)(Ue?.[u.h])}},8239:(sn,ot,O)=>{"use strict";O.d(ot,{t:()=>ee});var u=O(576);function ee(we){return(0,u.m)(we?.then)}},3260:(sn,ot,O)=>{"use strict";O.d(ot,{L:()=>Ue,Q:()=>we});var u=O(655),ee=O(576);function we(ve){return(0,u.FC)(this,arguments,function*(){const Ge=ve.getReader();try{for(;;){const{value:Xe,done:Ie}=yield(0,u.qq)(Ge.read());if(Ie)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(Xe)}}finally{Ge.releaseLock()}})}function Ue(ve){return(0,ee.m)(ve?.getReader)}},3532:(sn,ot,O)=>{"use strict";O.d(ot,{K:()=>ee});var u=O(576);function ee(we){return we&&(0,u.m)(we.schedule)}},4482:(sn,ot,O)=>{"use strict";O.d(ot,{A:()=>ee,e:()=>we});var u=O(576);function ee(Ue){return(0,u.m)(Ue?.lift)}function we(Ue){return ve=>{if(ee(ve))return ve.lift(function(Je){try{return Ue(Je,this)}catch(Ge){this.error(Ge)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(sn,ot,O)=>{"use strict";O.d(ot,{Z:()=>Ue});var u=O(4004);const{isArray:ee}=Array;function Ue(ve){return(0,u.U)(Je=>function we(ve,Je){return ee(Je)?ve(...Je):ve(Je)}(ve,Je))}},5032:(sn,ot,O)=>{"use strict";function u(){}O.d(ot,{Z:()=>u})},9635:(sn,ot,O)=>{"use strict";O.d(ot,{U:()=>we,z:()=>ee});var u=O(4671);function ee(...Ue){return we(Ue)}function we(Ue){return 0===Ue.length?u.y:1===Ue.length?Ue[0]:function(Je){return Ue.reduce((Ge,Xe)=>Xe(Ge),Je)}}},7849:(sn,ot,O)=>{"use strict";O.d(ot,{h:()=>we});var u=O(2416),ee=O(3410);function we(Ue){ee.z.setTimeout(()=>{const{onUnhandledError:ve}=u.v;if(!ve)throw Ue;ve(Ue)})}},4532:(sn,ot,O)=>{"use strict";function u(ee){return new TypeError(`You provided ${null!==ee&&"object"==typeof ee?"an invalid object":`'${ee}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(ot,{z:()=>u})},655:(sn,ot,O)=>{"use strict";function ve(ht,pt,xt,rt){var vt,Ke=arguments.length,Be=Ke<3?pt:null===rt?rt=Object.getOwnPropertyDescriptor(pt,xt):rt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Be=Reflect.decorate(ht,pt,xt,rt);else for(var an=ht.length-1;an>=0;an--)(vt=ht[an])&&(Be=(Ke<3?vt(Be):Ke>3?vt(pt,xt,Be):vt(pt,xt))||Be);return Ke>3&&Be&&Object.defineProperty(pt,xt,Be),Be}function xe(ht,pt){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(ht,pt)}function We(ht,pt,xt,rt){return new(xt||(xt=Promise))(function(Be,vt){function an(Bt){try{pn(rt.next(Bt))}catch(qt){vt(qt)}}function Fn(Bt){try{pn(rt.throw(Bt))}catch(qt){vt(qt)}}function pn(Bt){Bt.done?Be(Bt.value):function Ke(Be){return Be instanceof xt?Be:new xt(function(vt){vt(Be)})}(Bt.value).then(an,Fn)}pn((rt=rt.apply(ht,pt||[])).next())})}function be(ht){return this instanceof be?(this.v=ht,this):new be(ht)}function De(ht,pt,xt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ke,rt=xt.apply(ht,pt||[]),Be=[];return Ke={},vt("next"),vt("throw"),vt("return"),Ke[Symbol.asyncIterator]=function(){return this},Ke;function vt(Bn){rt[Bn]&&(Ke[Bn]=function(mr){return new Promise(function(Dr,Jn){Be.push([Bn,mr,Dr,Jn])>1||an(Bn,mr)})})}function an(Bn,mr){try{!function Fn(Bn){Bn.value instanceof be?Promise.resolve(Bn.value.v).then(pn,Bt):qt(Be[0][2],Bn)}(rt[Bn](mr))}catch(Dr){qt(Be[0][3],Dr)}}function pn(Bn){an("next",Bn)}function Bt(Bn){an("throw",Bn)}function qt(Bn,mr){Bn(mr),Be.shift(),Be.length&&an(Be[0][0],Be[0][1])}}function _t(ht){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xt,pt=ht[Symbol.asyncIterator];return pt?pt.call(ht):(ht=function bt(ht){var pt="function"==typeof Symbol&&Symbol.iterator,xt=pt&&ht[pt],rt=0;if(xt)return xt.call(ht);if(ht&&"number"==typeof ht.length)return{next:function(){return ht&&rt>=ht.length&&(ht=void 0),{value:ht&&ht[rt++],done:!ht}}};throw new TypeError(pt?"Object is not iterable.":"Symbol.iterator is not defined.")}(ht),xt={},rt("next"),rt("throw"),rt("return"),xt[Symbol.asyncIterator]=function(){return this},xt);function rt(Be){xt[Be]=ht[Be]&&function(vt){return new Promise(function(an,Fn){!function Ke(Be,vt,an,Fn){Promise.resolve(Fn).then(function(pn){Be({value:pn,done:an})},vt)}(an,Fn,(vt=ht[Be](vt)).done,vt.value)})}}}O.d(ot,{FC:()=>De,KL:()=>_t,gn:()=>ve,mG:()=>We,qq:()=>be,w6:()=>xe})},7340:(sn,ot,O)=>{"use strict";O.d(ot,{LC:()=>ee,SB:()=>Ie,X$:()=>Ue,ZE:()=>tn,ZN:()=>St,_j:()=>u,eR:()=>xe,jt:()=>ve,k1:()=>wt,l3:()=>we,oB:()=>Xe,vP:()=>Ge});class u{}class ee{}const we="*";function Ue(be,De){return{type:7,name:be,definitions:De,options:{}}}function ve(be,De=null){return{type:4,styles:De,timings:be}}function Ge(be,De=null){return{type:2,steps:be,options:De}}function Xe(be){return{type:6,styles:be,offset:null}}function Ie(be,De,et){return{type:0,name:be,styles:De,options:et}}function xe(be,De,et=null){return{type:1,expr:be,animation:De,options:et}}function Xt(be){Promise.resolve().then(be)}class St{constructor(De=0,et=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=De+et}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(De=>De()),this._onDoneFns=[])}onStart(De){this._originalOnStartFns.push(De),this._onStartFns.push(De)}onDone(De){this._originalOnDoneFns.push(De),this._onDoneFns.push(De)}onDestroy(De){this._onDestroyFns.push(De)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Xt(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(De=>De()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(De=>De()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(De){this._position=this.totalTime?De*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(De){const et="start"==De?this._onStartFns:this._onDoneFns;et.forEach(_t=>_t()),et.length=0}}class tn{constructor(De){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=De;let et=0,_t=0,$t=0;const Ot=this.players.length;0==Ot?Xt(()=>this._onFinish()):this.players.forEach(Wt=>{Wt.onDone(()=>{++et==Ot&&this._onFinish()}),Wt.onDestroy(()=>{++_t==Ot&&this._onDestroy()}),Wt.onStart(()=>{++$t==Ot&&this._onStart()})}),this.totalTime=this.players.reduce((Wt,En)=>Math.max(Wt,En.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(De=>De()),this._onDoneFns=[])}init(){this.players.forEach(De=>De.init())}onStart(De){this._onStartFns.push(De)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(De=>De()),this._onStartFns=[])}onDone(De){this._onDoneFns.push(De)}onDestroy(De){this._onDestroyFns.push(De)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(De=>De.play())}pause(){this.players.forEach(De=>De.pause())}restart(){this.players.forEach(De=>De.restart())}finish(){this._onFinish(),this.players.forEach(De=>De.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(De=>De.destroy()),this._onDestroyFns.forEach(De=>De()),this._onDestroyFns=[])}reset(){this.players.forEach(De=>De.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(De){const et=De*this.totalTime;this.players.forEach(_t=>{const $t=_t.totalTime?Math.min(1,et/_t.totalTime):1;_t.setPosition($t)})}getPosition(){const De=this.players.reduce((et,_t)=>null===et||_t.totalTime>et.totalTime?_t:et,null);return null!=De?De.getPosition():0}beforeDestroy(){this.players.forEach(De=>{De.beforeDestroy&&De.beforeDestroy()})}triggerCallback(De){const et="start"==De?this._onStartFns:this._onDoneFns;et.forEach(_t=>_t()),et.length=0}}const wt="!"},6895:(sn,ot,O)=>{"use strict";O.d(ot,{Do:()=>tn,EM:()=>ro,HT:()=>Ue,JF:()=>cs,K0:()=>Je,Mx:()=>L,NF:()=>no,O5:()=>br,Ov:()=>ps,RF:()=>Ei,S$:()=>bt,V_:()=>Ie,Ye:()=>wt,Zx:()=>ji,b0:()=>St,bD:()=>As,ez:()=>$r,mk:()=>Ct,n9:()=>Bi,q:()=>we,sg:()=>Sn,tP:()=>pr,uU:()=>Gr,w_:()=>ve});var u=O(1571);let ee=null;function we(){return ee}function Ue(C){ee||(ee=C)}class ve{}const Je=new u.OlP("DocumentToken");let Ge=(()=>{class C{historyGo(M){throw new Error("Not implemented")}}return C.\u0275fac=function(M){return new(M||C)},C.\u0275prov=u.Yz7({token:C,factory:function(){return function Xe(){return(0,u.LFG)(ge)}()},providedIn:"platform"}),C})();const Ie=new u.OlP("Location Initialized");let ge=(()=>{class C extends Ge{constructor(M){super(),this._doc=M,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return we().getBaseHref(this._doc)}onPopState(M){const re=we().getGlobalEventTarget(this._doc,"window");return re.addEventListener("popstate",M,!1),()=>re.removeEventListener("popstate",M)}onHashChange(M){const re=we().getGlobalEventTarget(this._doc,"window");return re.addEventListener("hashchange",M,!1),()=>re.removeEventListener("hashchange",M)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(M){this._location.pathname=M}pushState(M,re,ne){xe()?this._history.pushState(M,re,ne):this._location.hash=ne}replaceState(M,re,ne){xe()?this._history.replaceState(M,re,ne):this._location.hash=ne}forward(){this._history.forward()}back(){this._history.back()}historyGo(M=0){this._history.go(M)}getState(){return this._history.state}}return C.\u0275fac=function(M){return new(M||C)(u.LFG(Je))},C.\u0275prov=u.Yz7({token:C,factory:function(){return function We(){return new ge((0,u.LFG)(Je))}()},providedIn:"platform"}),C})();function xe(){return!!window.history.pushState}function Tt(C,z){if(0==C.length)return z;if(0==z.length)return C;let M=0;return C.endsWith("/")&&M++,z.startsWith("/")&&M++,2==M?C+z.substring(1):1==M?C+z:C+"/"+z}function ue(C){const z=C.match(/#|\?|$/),M=z&&z.index||C.length;return C.slice(0,M-("/"===C[M-1]?1:0))+C.slice(M)}function Ze(C){return C&&"?"!==C[0]?"?"+C:C}let bt=(()=>{class C{historyGo(M){throw new Error("Not implemented")}}return C.\u0275fac=function(M){return new(M||C)},C.\u0275prov=u.Yz7({token:C,factory:function(){return(0,u.f3M)(St)},providedIn:"root"}),C})();const Xt=new u.OlP("appBaseHref");let St=(()=>{class C extends bt{constructor(M,re){super(),this._platformLocation=M,this._removeListenerFns=[],this._baseHref=re??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(Je).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}prepareExternalUrl(M){return Tt(this._baseHref,M)}path(M=!1){const re=this._platformLocation.pathname+Ze(this._platformLocation.search),ne=this._platformLocation.hash;return ne&&M?`${re}${ne}`:re}pushState(M,re,ne,$e){const Ft=this.prepareExternalUrl(ne+Ze($e));this._platformLocation.pushState(M,re,Ft)}replaceState(M,re,ne,$e){const Ft=this.prepareExternalUrl(ne+Ze($e));this._platformLocation.replaceState(M,re,Ft)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}}return C.\u0275fac=function(M){return new(M||C)(u.LFG(Ge),u.LFG(Xt,8))},C.\u0275prov=u.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})(),tn=(()=>{class C extends bt{constructor(M,re){super(),this._platformLocation=M,this._baseHref="",this._removeListenerFns=[],null!=re&&(this._baseHref=re)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}path(M=!1){let re=this._platformLocation.hash;return null==re&&(re="#"),re.length>0?re.substring(1):re}prepareExternalUrl(M){const re=Tt(this._baseHref,M);return re.length>0?"#"+re:re}pushState(M,re,ne,$e){let Ft=this.prepareExternalUrl(ne+Ze($e));0==Ft.length&&(Ft=this._platformLocation.pathname),this._platformLocation.pushState(M,re,Ft)}replaceState(M,re,ne,$e){let Ft=this.prepareExternalUrl(ne+Ze($e));0==Ft.length&&(Ft=this._platformLocation.pathname),this._platformLocation.replaceState(M,re,Ft)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}}return C.\u0275fac=function(M){return new(M||C)(u.LFG(Ge),u.LFG(Xt,8))},C.\u0275prov=u.Yz7({token:C,factory:C.\u0275fac}),C})(),wt=(()=>{class C{constructor(M){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=M;const re=this._locationStrategy.getBaseHref();this._basePath=function _t(C){if(new RegExp("^(https?:)?//").test(C)){const[,M]=C.split(/\/\/[^\/]+/);return M}return C}(ue(et(re))),this._locationStrategy.onPopState(ne=>{this._subject.emit({url:this.path(!0),pop:!0,state:ne.state,type:ne.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(M=!1){return this.normalize(this._locationStrategy.path(M))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(M,re=""){return this.path()==this.normalize(M+Ze(re))}normalize(M){return C.stripTrailingSlash(function De(C,z){if(!C||!z.startsWith(C))return z;const M=z.substring(C.length);return""===M||["/",";","?","#"].includes(M[0])?M:z}(this._basePath,et(M)))}prepareExternalUrl(M){return M&&"/"!==M[0]&&(M="/"+M),this._locationStrategy.prepareExternalUrl(M)}go(M,re="",ne=null){this._locationStrategy.pushState(ne,"",M,re),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+Ze(re)),ne)}replaceState(M,re="",ne=null){this._locationStrategy.replaceState(ne,"",M,re),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+Ze(re)),ne)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(M=0){this._locationStrategy.historyGo?.(M)}onUrlChange(M){return this._urlChangeListeners.push(M),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(re=>{this._notifyUrlChangeListeners(re.url,re.state)})),()=>{const re=this._urlChangeListeners.indexOf(M);this._urlChangeListeners.splice(re,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(M="",re){this._urlChangeListeners.forEach(ne=>ne(M,re))}subscribe(M,re,ne){return this._subject.subscribe({next:M,error:re,complete:ne})}}return C.normalizeQueryParams=Ze,C.joinWithSlash=Tt,C.stripTrailingSlash=ue,C.\u0275fac=function(M){return new(M||C)(u.LFG(bt))},C.\u0275prov=u.Yz7({token:C,factory:function(){return function be(){return new wt((0,u.LFG)(bt))}()},providedIn:"root"}),C})();function et(C){return C.replace(/\/index.html$/,"")}var Ot=(()=>((Ot=Ot||{})[Ot.Decimal=0]="Decimal",Ot[Ot.Percent=1]="Percent",Ot[Ot.Currency=2]="Currency",Ot[Ot.Scientific=3]="Scientific",Ot))(),En=(()=>((En=En||{})[En.Format=0]="Format",En[En.Standalone=1]="Standalone",En))(),Jt=(()=>((Jt=Jt||{})[Jt.Narrow=0]="Narrow",Jt[Jt.Abbreviated=1]="Abbreviated",Jt[Jt.Wide=2]="Wide",Jt[Jt.Short=3]="Short",Jt))(),Pn=(()=>((Pn=Pn||{})[Pn.Short=0]="Short",Pn[Pn.Medium=1]="Medium",Pn[Pn.Long=2]="Long",Pn[Pn.Full=3]="Full",Pn))(),dn=(()=>((dn=dn||{})[dn.Decimal=0]="Decimal",dn[dn.Group=1]="Group",dn[dn.List=2]="List",dn[dn.PercentSign=3]="PercentSign",dn[dn.PlusSign=4]="PlusSign",dn[dn.MinusSign=5]="MinusSign",dn[dn.Exponential=6]="Exponential",dn[dn.SuperscriptingExponent=7]="SuperscriptingExponent",dn[dn.PerMille=8]="PerMille",dn[dn.Infinity=9]="Infinity",dn[dn.NaN=10]="NaN",dn[dn.TimeSeparator=11]="TimeSeparator",dn[dn.CurrencyDecimal=12]="CurrencyDecimal",dn[dn.CurrencyGroup=13]="CurrencyGroup",dn))();function Fn(C,z){return On((0,u.cg1)(C)[u.wAp.DateFormat],z)}function pn(C,z){return On((0,u.cg1)(C)[u.wAp.TimeFormat],z)}function Bt(C,z){return On((0,u.cg1)(C)[u.wAp.DateTimeFormat],z)}function qt(C,z){const M=(0,u.cg1)(C),re=M[u.wAp.NumberSymbols][z];if(typeof re>"u"){if(z===dn.CurrencyDecimal)return M[u.wAp.NumberSymbols][dn.Decimal];if(z===dn.CurrencyGroup)return M[u.wAp.NumberSymbols][dn.Group]}return re}function Ve(C){if(!C[u.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${C[u.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function On(C,z){for(let M=z;M>-1;M--)if(typeof C[M]<"u")return C[M];throw new Error("Locale data API: locale data undefined")}function _r(C){const[z,M]=C.split(":");return{hours:+z,minutes:+M}}const Mt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,At={},Zt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Kt=(()=>((Kt=Kt||{})[Kt.Short=0]="Short",Kt[Kt.ShortGMT=1]="ShortGMT",Kt[Kt.Long=2]="Long",Kt[Kt.Extended=3]="Extended",Kt))(),Dt=(()=>((Dt=Dt||{})[Dt.FullYear=0]="FullYear",Dt[Dt.Month=1]="Month",Dt[Dt.Date=2]="Date",Dt[Dt.Hours=3]="Hours",Dt[Dt.Minutes=4]="Minutes",Dt[Dt.Seconds=5]="Seconds",Dt[Dt.FractionalSeconds=6]="FractionalSeconds",Dt[Dt.Day=7]="Day",Dt))(),Et=(()=>((Et=Et||{})[Et.DayPeriods=0]="DayPeriods",Et[Et.Days=1]="Days",Et[Et.Months=2]="Months",Et[Et.Eras=3]="Eras",Et))();function wn(C,z,M,re){let ne=function ar(C){if(tt(C))return C;if("number"==typeof C&&!isNaN(C))return new Date(C);if("string"==typeof C){if(C=C.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(C)){const[ne,$e=1,Ft=1]=C.split("-").map(gn=>+gn);return kt(ne,$e-1,Ft)}const M=parseFloat(C);if(!isNaN(C-M))return new Date(M);let re;if(re=C.match(Mt))return function Wr(C){const z=new Date(0);let M=0,re=0;const ne=C[8]?z.setUTCFullYear:z.setFullYear,$e=C[8]?z.setUTCHours:z.setHours;C[9]&&(M=Number(C[9]+C[10]),re=Number(C[9]+C[11])),ne.call(z,Number(C[1]),Number(C[2])-1,Number(C[3]));const Ft=Number(C[4]||0)-M,gn=Number(C[5]||0)-re,qn=Number(C[6]||0),sr=Math.floor(1e3*parseFloat("0."+(C[7]||0)));return $e.call(z,Ft,gn,qn,sr),z}(re)}const z=new Date(C);if(!tt(z))throw new Error(`Unable to convert "${C}" into a date`);return z}(C);z=Wn(M,z)||z;let gn,Ft=[];for(;z;){if(gn=Zt.exec(z),!gn){Ft.push(z);break}{Ft=Ft.concat(gn.slice(1));const gr=Ft.pop();if(!gr)break;z=gr}}let qn=ne.getTimezoneOffset();re&&(qn=Hn(re,qn),ne=function Un(C,z,M){const re=M?-1:1,ne=C.getTimezoneOffset();return function hr(C,z){return(C=new Date(C.getTime())).setMinutes(C.getMinutes()+z),C}(C,re*(Hn(z,ne)-ne))}(ne,re,!0));let sr="";return Ft.forEach(gr=>{const nr=function Tn(C){if(Nt[C])return Nt[C];let z;switch(C){case"G":case"GG":case"GGG":z=zn(Et.Eras,Jt.Abbreviated);break;case"GGGG":z=zn(Et.Eras,Jt.Wide);break;case"GGGGG":z=zn(Et.Eras,Jt.Narrow);break;case"y":z=Zn(Dt.FullYear,1,0,!1,!0);break;case"yy":z=Zn(Dt.FullYear,2,0,!0,!0);break;case"yyy":z=Zn(Dt.FullYear,3,0,!1,!0);break;case"yyyy":z=Zn(Dt.FullYear,4,0,!1,!0);break;case"Y":z=Vt(1);break;case"YY":z=Vt(2,!0);break;case"YYY":z=Vt(3);break;case"YYYY":z=Vt(4);break;case"M":case"L":z=Zn(Dt.Month,1,1);break;case"MM":case"LL":z=Zn(Dt.Month,2,1);break;case"MMM":z=zn(Et.Months,Jt.Abbreviated);break;case"MMMM":z=zn(Et.Months,Jt.Wide);break;case"MMMMM":z=zn(Et.Months,Jt.Narrow);break;case"LLL":z=zn(Et.Months,Jt.Abbreviated,En.Standalone);break;case"LLLL":z=zn(Et.Months,Jt.Wide,En.Standalone);break;case"LLLLL":z=zn(Et.Months,Jt.Narrow,En.Standalone);break;case"w":z=Fe(1);break;case"ww":z=Fe(2);break;case"W":z=Fe(1,!0);break;case"d":z=Zn(Dt.Date,1);break;case"dd":z=Zn(Dt.Date,2);break;case"c":case"cc":z=Zn(Dt.Day,1);break;case"ccc":z=zn(Et.Days,Jt.Abbreviated,En.Standalone);break;case"cccc":z=zn(Et.Days,Jt.Wide,En.Standalone);break;case"ccccc":z=zn(Et.Days,Jt.Narrow,En.Standalone);break;case"cccccc":z=zn(Et.Days,Jt.Short,En.Standalone);break;case"E":case"EE":case"EEE":z=zn(Et.Days,Jt.Abbreviated);break;case"EEEE":z=zn(Et.Days,Jt.Wide);break;case"EEEEE":z=zn(Et.Days,Jt.Narrow);break;case"EEEEEE":z=zn(Et.Days,Jt.Short);break;case"a":case"aa":case"aaa":z=zn(Et.DayPeriods,Jt.Abbreviated);break;case"aaaa":z=zn(Et.DayPeriods,Jt.Wide);break;case"aaaaa":z=zn(Et.DayPeriods,Jt.Narrow);break;case"b":case"bb":case"bbb":z=zn(Et.DayPeriods,Jt.Abbreviated,En.Standalone,!0);break;case"bbbb":z=zn(Et.DayPeriods,Jt.Wide,En.Standalone,!0);break;case"bbbbb":z=zn(Et.DayPeriods,Jt.Narrow,En.Standalone,!0);break;case"B":case"BB":case"BBB":z=zn(Et.DayPeriods,Jt.Abbreviated,En.Format,!0);break;case"BBBB":z=zn(Et.DayPeriods,Jt.Wide,En.Format,!0);break;case"BBBBB":z=zn(Et.DayPeriods,Jt.Narrow,En.Format,!0);break;case"h":z=Zn(Dt.Hours,1,-12);break;case"hh":z=Zn(Dt.Hours,2,-12);break;case"H":z=Zn(Dt.Hours,1);break;case"HH":z=Zn(Dt.Hours,2);break;case"m":z=Zn(Dt.Minutes,1);break;case"mm":z=Zn(Dt.Minutes,2);break;case"s":z=Zn(Dt.Seconds,1);break;case"ss":z=Zn(Dt.Seconds,2);break;case"S":z=Zn(Dt.FractionalSeconds,1);break;case"SS":z=Zn(Dt.FractionalSeconds,2);break;case"SSS":z=Zn(Dt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":z=ti(Kt.Short);break;case"ZZZZZ":z=ti(Kt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":z=ti(Kt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":z=ti(Kt.Long);break;default:return null}return Nt[C]=z,z}(gr);sr+=nr?nr(ne,M,qn):"''"===gr?"'":gr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),sr}function kt(C,z,M){const re=new Date(0);return re.setFullYear(C,z,M),re.setHours(0,0,0),re}function Wn(C,z){const M=function pt(C){return(0,u.cg1)(C)[u.wAp.LocaleId]}(C);if(At[M]=At[M]||{},At[M][z])return At[M][z];let re="";switch(z){case"shortDate":re=Fn(C,Pn.Short);break;case"mediumDate":re=Fn(C,Pn.Medium);break;case"longDate":re=Fn(C,Pn.Long);break;case"fullDate":re=Fn(C,Pn.Full);break;case"shortTime":re=pn(C,Pn.Short);break;case"mediumTime":re=pn(C,Pn.Medium);break;case"longTime":re=pn(C,Pn.Long);break;case"fullTime":re=pn(C,Pn.Full);break;case"short":const ne=Wn(C,"shortTime"),$e=Wn(C,"shortDate");re=Er(Bt(C,Pn.Short),[ne,$e]);break;case"medium":const Ft=Wn(C,"mediumTime"),gn=Wn(C,"mediumDate");re=Er(Bt(C,Pn.Medium),[Ft,gn]);break;case"long":const qn=Wn(C,"longTime"),sr=Wn(C,"longDate");re=Er(Bt(C,Pn.Long),[qn,sr]);break;case"full":const gr=Wn(C,"fullTime"),nr=Wn(C,"fullDate");re=Er(Bt(C,Pn.Full),[gr,nr])}return re&&(At[M][z]=re),re}function Er(C,z){return z&&(C=C.replace(/\{([^}]+)}/g,function(M,re){return null!=z&&re in z?z[re]:M})),C}function Kn(C,z,M="-",re,ne){let $e="";(C<0||ne&&C<=0)&&(ne?C=1-C:(C=-C,$e=M));let Ft=String(C);for(;Ft.length<z;)Ft="0"+Ft;return re&&(Ft=Ft.slice(Ft.length-z)),$e+Ft}function Zn(C,z,M=0,re=!1,ne=!1){return function($e,Ft){let gn=function jr(C,z){switch(C){case Dt.FullYear:return z.getFullYear();case Dt.Month:return z.getMonth();case Dt.Date:return z.getDate();case Dt.Hours:return z.getHours();case Dt.Minutes:return z.getMinutes();case Dt.Seconds:return z.getSeconds();case Dt.FractionalSeconds:return z.getMilliseconds();case Dt.Day:return z.getDay();default:throw new Error(`Unknown DateType value "${C}".`)}}(C,$e);if((M>0||gn>-M)&&(gn+=M),C===Dt.Hours)0===gn&&-12===M&&(gn=12);else if(C===Dt.FractionalSeconds)return function Tr(C,z){return Kn(C,3).substring(0,z)}(gn,z);const qn=qt(Ft,dn.MinusSign);return Kn(gn,z,qn,re,ne)}}function zn(C,z,M=En.Format,re=!1){return function(ne,$e){return function _i(C,z,M,re,ne,$e){switch(M){case Et.Months:return function Ke(C,z,M){const re=(0,u.cg1)(C),$e=On([re[u.wAp.MonthsFormat],re[u.wAp.MonthsStandalone]],z);return On($e,M)}(z,ne,re)[C.getMonth()];case Et.Days:return function rt(C,z,M){const re=(0,u.cg1)(C),$e=On([re[u.wAp.DaysFormat],re[u.wAp.DaysStandalone]],z);return On($e,M)}(z,ne,re)[C.getDay()];case Et.DayPeriods:const Ft=C.getHours(),gn=C.getMinutes();if($e){const sr=function Lt(C){const z=(0,u.cg1)(C);return Ve(z),(z[u.wAp.ExtraData][2]||[]).map(re=>"string"==typeof re?_r(re):[_r(re[0]),_r(re[1])])}(z),gr=function un(C,z,M){const re=(0,u.cg1)(C);Ve(re);const $e=On([re[u.wAp.ExtraData][0],re[u.wAp.ExtraData][1]],z)||[];return On($e,M)||[]}(z,ne,re),nr=sr.findIndex(xr=>{if(Array.isArray(xr)){const[rn,on]=xr,r=Ft>=rn.hours&&gn>=rn.minutes,s=Ft<on.hours||Ft===on.hours&&gn<on.minutes;if(rn.hours<on.hours){if(r&&s)return!0}else if(r||s)return!0}else if(xr.hours===Ft&&xr.minutes===gn)return!0;return!1});if(-1!==nr)return gr[nr]}return function xt(C,z,M){const re=(0,u.cg1)(C),$e=On([re[u.wAp.DayPeriodsFormat],re[u.wAp.DayPeriodsStandalone]],z);return On($e,M)}(z,ne,re)[Ft<12?0:1];case Et.Eras:return function Be(C,z){return On((0,u.cg1)(C)[u.wAp.Eras],z)}(z,re)[C.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${M}`)}}(ne,$e,C,z,M,re)}}function ti(C){return function(z,M,re){const ne=-1*re,$e=qt(M,dn.MinusSign),Ft=ne>0?Math.floor(ne/60):Math.ceil(ne/60);switch(C){case Kt.Short:return(ne>=0?"+":"")+Kn(Ft,2,$e)+Kn(Math.abs(ne%60),2,$e);case Kt.ShortGMT:return"GMT"+(ne>=0?"+":"")+Kn(Ft,1,$e);case Kt.Long:return"GMT"+(ne>=0?"+":"")+Kn(Ft,2,$e)+":"+Kn(Math.abs(ne%60),2,$e);case Kt.Extended:return 0===re?"Z":(ne>=0?"+":"")+Kn(Ft,2,$e)+":"+Kn(Math.abs(ne%60),2,$e);default:throw new Error(`Unknown zone width "${C}"`)}}}const Kr=0,tr=4;function Pe(C){return kt(C.getFullYear(),C.getMonth(),C.getDate()+(tr-C.getDay()))}function Fe(C,z=!1){return function(M,re){let ne;if(z){const $e=new Date(M.getFullYear(),M.getMonth(),1).getDay()-1,Ft=M.getDate();ne=1+Math.floor((Ft+$e)/7)}else{const $e=Pe(M),Ft=function yt(C){const z=kt(C,Kr,1).getDay();return kt(C,0,1+(z<=tr?tr:tr+7)-z)}($e.getFullYear()),gn=$e.getTime()-Ft.getTime();ne=1+Math.round(gn/6048e5)}return Kn(ne,C,qt(re,dn.MinusSign))}}function Vt(C,z=!1){return function(M,re){return Kn(Pe(M).getFullYear(),C,qt(re,dn.MinusSign),z)}}const Nt={};function Hn(C,z){C=C.replace(/:/g,"");const M=Date.parse("Jan 01, 1970 00:00:00 "+C)/6e4;return isNaN(M)?z:M}function tt(C){return C instanceof Date&&!isNaN(C.valueOf())}const Oe=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Y=22,ae=".",R="0",te=";",Ae=",",ke="#";function Ur(C){const z=parseInt(C);if(isNaN(z))throw new Error("Invalid integer literal when parsing "+C);return z}function L(C,z){z=encodeURIComponent(z);for(const M of C.split(";")){const re=M.indexOf("="),[ne,$e]=-1==re?[M,""]:[M.slice(0,re),M.slice(re+1)];if(ne.trim()===z)return decodeURIComponent($e)}return null}const he=/\s+/,qe=[];let Ct=(()=>{class C{constructor(M,re,ne,$e){this._iterableDiffers=M,this._keyValueDiffers=re,this._ngEl=ne,this._renderer=$e,this.initialClasses=qe,this.stateMap=new Map}set klass(M){this.initialClasses=null!=M?M.trim().split(he):qe}set ngClass(M){this.rawClass="string"==typeof M?M.trim().split(he):M}ngDoCheck(){for(const re of this.initialClasses)this._updateState(re,!0);const M=this.rawClass;if(Array.isArray(M)||M instanceof Set)for(const re of M)this._updateState(re,!0);else if(null!=M)for(const re of Object.keys(M))this._updateState(re,Boolean(M[re]));this._applyStateDiff()}_updateState(M,re){const ne=this.stateMap.get(M);void 0!==ne?(ne.enabled!==re&&(ne.changed=!0,ne.enabled=re),ne.touched=!0):this.stateMap.set(M,{enabled:re,changed:!0,touched:!0})}_applyStateDiff(){for(const M of this.stateMap){const re=M[0],ne=M[1];ne.changed?(this._toggleClass(re,ne.enabled),ne.changed=!1):ne.touched||(ne.enabled&&this._toggleClass(re,!1),this.stateMap.delete(re)),ne.touched=!1}}_toggleClass(M,re){(M=M.trim()).length>0&&M.split(he).forEach(ne=>{re?this._renderer.addClass(this._ngEl.nativeElement,ne):this._renderer.removeClass(this._ngEl.nativeElement,ne)})}}return C.\u0275fac=function(M){return new(M||C)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},C.\u0275dir=u.lG2({type:C,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),C})();class zt{constructor(z,M,re,ne){this.$implicit=z,this.ngForOf=M,this.index=re,this.count=ne}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Sn=(()=>{class C{set ngForOf(M){this._ngForOf=M,this._ngForOfDirty=!0}set ngForTrackBy(M){this._trackByFn=M}get ngForTrackBy(){return this._trackByFn}constructor(M,re,ne){this._viewContainer=M,this._template=re,this._differs=ne,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(M){M&&(this._template=M)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const M=this._ngForOf;!this._differ&&M&&(this._differ=this._differs.find(M).create(this.ngForTrackBy))}if(this._differ){const M=this._differ.diff(this._ngForOf);M&&this._applyChanges(M)}}_applyChanges(M){const re=this._viewContainer;M.forEachOperation((ne,$e,Ft)=>{if(null==ne.previousIndex)re.createEmbeddedView(this._template,new zt(ne.item,this._ngForOf,-1,-1),null===Ft?void 0:Ft);else if(null==Ft)re.remove(null===$e?void 0:$e);else if(null!==$e){const gn=re.get($e);re.move(gn,Ft),Xn(gn,ne)}});for(let ne=0,$e=re.length;ne<$e;ne++){const gn=re.get(ne).context;gn.index=ne,gn.count=$e,gn.ngForOf=this._ngForOf}M.forEachIdentityChange(ne=>{Xn(re.get(ne.currentIndex),ne)})}static ngTemplateContextGuard(M,re){return!0}}return C.\u0275fac=function(M){return new(M||C)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},C.\u0275dir=u.lG2({type:C,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),C})();function Xn(C,z){C.context.$implicit=z.item}let br=(()=>{class C{constructor(M,re){this._viewContainer=M,this._context=new zr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=re}set ngIf(M){this._context.$implicit=this._context.ngIf=M,this._updateView()}set ngIfThen(M){gi("ngIfThen",M),this._thenTemplateRef=M,this._thenViewRef=null,this._updateView()}set ngIfElse(M){gi("ngIfElse",M),this._elseTemplateRef=M,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(M,re){return!0}}return C.\u0275fac=function(M){return new(M||C)(u.Y36(u.s_b),u.Y36(u.Rgc))},C.\u0275dir=u.lG2({type:C,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),C})();class zr{constructor(){this.$implicit=null,this.ngIf=null}}function gi(C,z){if(z&&!z.createEmbeddedView)throw new Error(`${C} must be a TemplateRef, but received '${(0,u.AaK)(z)}'.`)}class vr{constructor(z,M){this._viewContainerRef=z,this._templateRef=M,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(z){z&&!this._created?this.create():!z&&this._created&&this.destroy()}}let Ei=(()=>{class C{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(M){this._ngSwitch=M,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(M){this._defaultViews.push(M)}_matchCase(M){const re=M==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||re,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),re}_updateDefaultCases(M){if(this._defaultViews.length>0&&M!==this._defaultUsed){this._defaultUsed=M;for(const re of this._defaultViews)re.enforceState(M)}}}return C.\u0275fac=function(M){return new(M||C)},C.\u0275dir=u.lG2({type:C,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),C})(),Bi=(()=>{class C{constructor(M,re,ne){this.ngSwitch=ne,ne._addCase(),this._view=new vr(M,re)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return C.\u0275fac=function(M){return new(M||C)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(Ei,9))},C.\u0275dir=u.lG2({type:C,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),C})(),pr=(()=>{class C{constructor(M){this._viewContainerRef=M,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(M){if(M.ngTemplateOutlet||M.ngTemplateOutletInjector){const re=this._viewContainerRef;if(this._viewRef&&re.remove(re.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:ne,ngTemplateOutletContext:$e,ngTemplateOutletInjector:Ft}=this;this._viewRef=re.createEmbeddedView(ne,$e,Ft?{injector:Ft}:void 0)}else this._viewRef=null}else this._viewRef&&M.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return C.\u0275fac=function(M){return new(M||C)(u.Y36(u.s_b))},C.\u0275dir=u.lG2({type:C,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[u.TTD]}),C})();function Zr(C,z){return new u.vHH(2100,!1)}class Or{createSubscription(z,M){return z.subscribe({next:M,error:re=>{throw re}})}dispose(z){z.unsubscribe()}}class Pi{createSubscription(z,M){return z.then(M,re=>{throw re})}dispose(z){}}const es=new Pi,Ar=new Or;let ps=(()=>{class C{constructor(M){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=M}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(M){return this._obj?M!==this._obj?(this._dispose(),this.transform(M)):this._latestValue:(M&&this._subscribe(M),this._latestValue)}_subscribe(M){this._obj=M,this._strategy=this._selectStrategy(M),this._subscription=this._strategy.createSubscription(M,re=>this._updateLatestValue(M,re))}_selectStrategy(M){if((0,u.QGY)(M))return es;if((0,u.F4k)(M))return Ar;throw Zr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(M,re){M===this._obj&&(this._latestValue=re,this._ref.markForCheck())}}return C.\u0275fac=function(M){return new(M||C)(u.Y36(u.sBO,16))},C.\u0275pipe=u.Yjl({name:"async",type:C,pure:!1,standalone:!0}),C})();const Hr=new u.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Ds=new u.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Gr=(()=>{class C{constructor(M,re,ne){this.locale=M,this.defaultTimezone=re,this.defaultOptions=ne}transform(M,re,ne,$e){if(null==M||""===M||M!=M)return null;try{return wn(M,re??this.defaultOptions?.dateFormat??"mediumDate",$e||this.locale,ne??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Ft){throw Zr()}}}return C.\u0275fac=function(M){return new(M||C)(u.Y36(u.soG,16),u.Y36(Hr,24),u.Y36(Ds,24))},C.\u0275pipe=u.Yjl({name:"date",type:C,pure:!0,standalone:!0}),C})(),ji=(()=>{class C{constructor(M){this._locale=M}transform(M,re,ne){if(!function ls(C){return!(null==C||""===C||C!=C)}(M))return null;ne=ne||this._locale;try{return function cn(C,z,M){return function Pt(C,z,M,re,ne,$e,Ft=!1){let gn="",qn=!1;if(isFinite(C)){let sr=function kn(C){let re,ne,$e,Ft,gn,z=Math.abs(C)+"",M=0;for((ne=z.indexOf(ae))>-1&&(z=z.replace(ae,"")),($e=z.search(/e/i))>0?(ne<0&&(ne=$e),ne+=+z.slice($e+1),z=z.substring(0,$e)):ne<0&&(ne=z.length),$e=0;z.charAt($e)===R;$e++);if($e===(gn=z.length))re=[0],ne=1;else{for(gn--;z.charAt(gn)===R;)gn--;for(ne-=$e,re=[],Ft=0;$e<=gn;$e++,Ft++)re[Ft]=Number(z.charAt($e))}return ne>Y&&(re=re.splice(0,Y-1),M=ne-1,ne=1),{digits:re,exponent:M,integerLen:ne}}(C);Ft&&(sr=function Cn(C){if(0===C.digits[0])return C;const z=C.digits.length-C.integerLen;return C.exponent?C.exponent+=2:(0===z?C.digits.push(0,0):1===z&&C.digits.push(0),C.integerLen+=2),C}(sr));let gr=z.minInt,nr=z.minFrac,xr=z.maxFrac;if($e){const l=$e.match(Oe);if(null===l)throw new Error(`${$e} is not a valid digit info`);const f=l[1],p=l[3],m=l[5];null!=f&&(gr=Ur(f)),null!=p&&(nr=Ur(p)),null!=m?xr=Ur(m):null!=p&&nr>xr&&(xr=nr)}!function fr(C,z,M){if(z>M)throw new Error(`The minimum number of digits after fraction (${z}) is higher than the maximum (${M}).`);let re=C.digits,ne=re.length-C.integerLen;const $e=Math.min(Math.max(z,ne),M);let Ft=$e+C.integerLen,gn=re[Ft];if(Ft>0){re.splice(Math.max(C.integerLen,Ft));for(let nr=Ft;nr<re.length;nr++)re[nr]=0}else{ne=Math.max(0,ne),C.integerLen=1,re.length=Math.max(1,Ft=$e+1),re[0]=0;for(let nr=1;nr<Ft;nr++)re[nr]=0}if(gn>=5)if(Ft-1<0){for(let nr=0;nr>Ft;nr--)re.unshift(0),C.integerLen++;re.unshift(1),C.integerLen++}else re[Ft-1]++;for(;ne<Math.max(0,$e);ne++)re.push(0);let qn=0!==$e;const sr=z+C.integerLen,gr=re.reduceRight(function(nr,xr,rn,on){return on[rn]=(xr+=nr)<10?xr:xr-10,qn&&(0===on[rn]&&rn>=sr?on.pop():qn=!1),xr>=10?1:0},0);gr&&(re.unshift(gr),C.integerLen++)}(sr,nr,xr);let rn=sr.digits,on=sr.integerLen;const r=sr.exponent;let s=[];for(qn=rn.every(l=>!l);on<gr;on++)rn.unshift(0);for(;on<0;on++)rn.unshift(0);on>0?s=rn.splice(on,rn.length):(s=rn,rn=[0]);const o=[];for(rn.length>=z.lgSize&&o.unshift(rn.splice(-z.lgSize,rn.length).join(""));rn.length>z.gSize;)o.unshift(rn.splice(-z.gSize,rn.length).join(""));rn.length&&o.unshift(rn.join("")),gn=o.join(qt(M,re)),s.length&&(gn+=qt(M,ne)+s.join("")),r&&(gn+=qt(M,dn.Exponential)+"+"+r)}else gn=qt(M,dn.Infinity);return gn=C<0&&!qn?z.negPre+gn+z.negSuf:z.posPre+gn+z.posSuf,gn}(C,function hn(C,z="-"){const M={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},re=C.split(te),ne=re[0],$e=re[1],Ft=-1!==ne.indexOf(ae)?ne.split(ae):[ne.substring(0,ne.lastIndexOf(R)+1),ne.substring(ne.lastIndexOf(R)+1)],gn=Ft[0],qn=Ft[1]||"";M.posPre=gn.substring(0,gn.indexOf(ke));for(let gr=0;gr<qn.length;gr++){const nr=qn.charAt(gr);nr===R?M.minFrac=M.maxFrac=gr+1:nr===ke?M.maxFrac=gr+1:M.posSuf+=nr}const sr=gn.split(Ae);if(M.gSize=sr[1]?sr[1].length:0,M.lgSize=sr[2]||sr[1]?(sr[2]||sr[1]).length:0,$e){const gr=ne.length-M.posPre.length-M.posSuf.length,nr=$e.indexOf(ke);M.negPre=$e.substring(0,nr).replace(/'/g,""),M.negSuf=$e.slice(nr+gr).replace(/'/g,"")}else M.negPre=z+M.posPre,M.negSuf=M.posSuf;return M}(function Bn(C,z){return(0,u.cg1)(C)[u.wAp.NumberFormats][z]}(z,Ot.Percent),qt(z,dn.MinusSign)),z,dn.Group,dn.Decimal,M,!0).replace(new RegExp("%","g"),qt(z,dn.PercentSign))}(function Ui(C){if("string"==typeof C&&!isNaN(Number(C)-parseFloat(C)))return Number(C);if("number"!=typeof C)throw new Error(`${C} is not a number`);return C}(M),ne,re)}catch($e){throw Zr()}}}return C.\u0275fac=function(M){return new(M||C)(u.Y36(u.soG,16))},C.\u0275pipe=u.Yjl({name:"percent",type:C,pure:!0,standalone:!0}),C})();let $r=(()=>{class C{}return C.\u0275fac=function(M){return new(M||C)},C.\u0275mod=u.oAB({type:C}),C.\u0275inj=u.cJS({}),C})();const As="browser";function no(C){return C===As}let ro=(()=>{class C{}return C.\u0275prov=(0,u.Yz7)({token:C,providedIn:"root",factory:()=>new Ts((0,u.LFG)(Je),window)}),C})();class Ts{constructor(z,M){this.document=z,this.window=M,this.offset=()=>[0,0]}setOffset(z){this.offset=Array.isArray(z)?()=>z:z}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(z){this.supportsScrolling()&&this.window.scrollTo(z[0],z[1])}scrollToAnchor(z){if(!this.supportsScrolling())return;const M=function rs(C,z){const M=C.getElementById(z)||C.getElementsByName(z)[0];if(M)return M;if("function"==typeof C.createTreeWalker&&C.body&&(C.body.createShadowRoot||C.body.attachShadow)){const re=C.createTreeWalker(C.body,NodeFilter.SHOW_ELEMENT);let ne=re.currentNode;for(;ne;){const $e=ne.shadowRoot;if($e){const Ft=$e.getElementById(z)||$e.querySelector(`[name="${z}"]`);if(Ft)return Ft}ne=re.nextNode()}}return null}(this.document,z);M&&(this.scrollToElement(M),M.focus())}setHistoryScrollRestoration(z){if(this.supportScrollRestoration()){const M=this.window.history;M&&M.scrollRestoration&&(M.scrollRestoration=z)}}scrollToElement(z){const M=z.getBoundingClientRect(),re=M.left+this.window.pageXOffset,ne=M.top+this.window.pageYOffset,$e=this.offset();this.window.scrollTo(re-$e[0],ne-$e[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const z=Si(this.window.history)||Si(Object.getPrototypeOf(this.window.history));return!(!z||!z.writable&&!z.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Si(C){return Object.getOwnPropertyDescriptor(C,"scrollRestoration")}class cs{}},529:(sn,ot,O)=>{"use strict";O.d(ot,{JF:()=>ti,LE:()=>St,TP:()=>Be,UA:()=>dn,WM:()=>ge,eN:()=>pt});var u=O(6895),ee=O(1571),we=O(9646),Ue=O(9751),ve=O(4351),Je=O(9300),Ge=O(4004);class Xe{}class Ie{}class ge{constructor(Pe){this.normalizedNames=new Map,this.lazyUpdate=null,Pe?this.lazyInit="string"==typeof Pe?()=>{this.headers=new Map,Pe.split("\n").forEach(Fe=>{const Vt=Fe.indexOf(":");if(Vt>0){const Nt=Fe.slice(0,Vt),Tn=Nt.toLowerCase(),Hn=Fe.slice(Vt+1).trim();this.maybeSetNormalizedName(Nt,Tn),this.headers.has(Tn)?this.headers.get(Tn).push(Hn):this.headers.set(Tn,[Hn])}})}:()=>{this.headers=new Map,Object.keys(Pe).forEach(Fe=>{let Vt=Pe[Fe];const Nt=Fe.toLowerCase();"string"==typeof Vt&&(Vt=[Vt]),Vt.length>0&&(this.headers.set(Nt,Vt),this.maybeSetNormalizedName(Fe,Nt))})}:this.headers=new Map}has(Pe){return this.init(),this.headers.has(Pe.toLowerCase())}get(Pe){this.init();const Fe=this.headers.get(Pe.toLowerCase());return Fe&&Fe.length>0?Fe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Pe){return this.init(),this.headers.get(Pe.toLowerCase())||null}append(Pe,Fe){return this.clone({name:Pe,value:Fe,op:"a"})}set(Pe,Fe){return this.clone({name:Pe,value:Fe,op:"s"})}delete(Pe,Fe){return this.clone({name:Pe,value:Fe,op:"d"})}maybeSetNormalizedName(Pe,Fe){this.normalizedNames.has(Fe)||this.normalizedNames.set(Fe,Pe)}init(){this.lazyInit&&(this.lazyInit instanceof ge?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Pe=>this.applyUpdate(Pe)),this.lazyUpdate=null))}copyFrom(Pe){Pe.init(),Array.from(Pe.headers.keys()).forEach(Fe=>{this.headers.set(Fe,Pe.headers.get(Fe)),this.normalizedNames.set(Fe,Pe.normalizedNames.get(Fe))})}clone(Pe){const Fe=new ge;return Fe.lazyInit=this.lazyInit&&this.lazyInit instanceof ge?this.lazyInit:this,Fe.lazyUpdate=(this.lazyUpdate||[]).concat([Pe]),Fe}applyUpdate(Pe){const Fe=Pe.name.toLowerCase();switch(Pe.op){case"a":case"s":let Vt=Pe.value;if("string"==typeof Vt&&(Vt=[Vt]),0===Vt.length)return;this.maybeSetNormalizedName(Pe.name,Fe);const Nt=("a"===Pe.op?this.headers.get(Fe):void 0)||[];Nt.push(...Vt),this.headers.set(Fe,Nt);break;case"d":const Tn=Pe.value;if(Tn){let Hn=this.headers.get(Fe);if(!Hn)return;Hn=Hn.filter(hr=>-1===Tn.indexOf(hr)),0===Hn.length?(this.headers.delete(Fe),this.normalizedNames.delete(Fe)):this.headers.set(Fe,Hn)}else this.headers.delete(Fe),this.normalizedNames.delete(Fe)}}forEach(Pe){this.init(),Array.from(this.normalizedNames.keys()).forEach(Fe=>Pe(this.normalizedNames.get(Fe),this.headers.get(Fe)))}}class We{encodeKey(Pe){return bt(Pe)}encodeValue(Pe){return bt(Pe)}decodeKey(Pe){return decodeURIComponent(Pe)}decodeValue(Pe){return decodeURIComponent(Pe)}}const ue=/%(\d[a-f0-9])/gi,Ze={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function bt(yt){return encodeURIComponent(yt).replace(ue,(Pe,Fe)=>Ze[Fe]??Pe)}function Xt(yt){return`${yt}`}class St{constructor(Pe={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Pe.encoder||new We,Pe.fromString){if(Pe.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Tt(yt,Pe){const Fe=new Map;return yt.length>0&&yt.replace(/^\?/,"").split("&").forEach(Nt=>{const Tn=Nt.indexOf("="),[Hn,hr]=-1==Tn?[Pe.decodeKey(Nt),""]:[Pe.decodeKey(Nt.slice(0,Tn)),Pe.decodeValue(Nt.slice(Tn+1))],Un=Fe.get(Hn)||[];Un.push(hr),Fe.set(Hn,Un)}),Fe}(Pe.fromString,this.encoder)}else Pe.fromObject?(this.map=new Map,Object.keys(Pe.fromObject).forEach(Fe=>{const Vt=Pe.fromObject[Fe],Nt=Array.isArray(Vt)?Vt.map(Xt):[Xt(Vt)];this.map.set(Fe,Nt)})):this.map=null}has(Pe){return this.init(),this.map.has(Pe)}get(Pe){this.init();const Fe=this.map.get(Pe);return Fe?Fe[0]:null}getAll(Pe){return this.init(),this.map.get(Pe)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Pe,Fe){return this.clone({param:Pe,value:Fe,op:"a"})}appendAll(Pe){const Fe=[];return Object.keys(Pe).forEach(Vt=>{const Nt=Pe[Vt];Array.isArray(Nt)?Nt.forEach(Tn=>{Fe.push({param:Vt,value:Tn,op:"a"})}):Fe.push({param:Vt,value:Nt,op:"a"})}),this.clone(Fe)}set(Pe,Fe){return this.clone({param:Pe,value:Fe,op:"s"})}delete(Pe,Fe){return this.clone({param:Pe,value:Fe,op:"d"})}toString(){return this.init(),this.keys().map(Pe=>{const Fe=this.encoder.encodeKey(Pe);return this.map.get(Pe).map(Vt=>Fe+"="+this.encoder.encodeValue(Vt)).join("&")}).filter(Pe=>""!==Pe).join("&")}clone(Pe){const Fe=new St({encoder:this.encoder});return Fe.cloneFrom=this.cloneFrom||this,Fe.updates=(this.updates||[]).concat(Pe),Fe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Pe=>this.map.set(Pe,this.cloneFrom.map.get(Pe))),this.updates.forEach(Pe=>{switch(Pe.op){case"a":case"s":const Fe=("a"===Pe.op?this.map.get(Pe.param):void 0)||[];Fe.push(Xt(Pe.value)),this.map.set(Pe.param,Fe);break;case"d":if(void 0===Pe.value){this.map.delete(Pe.param);break}{let Vt=this.map.get(Pe.param)||[];const Nt=Vt.indexOf(Xt(Pe.value));-1!==Nt&&Vt.splice(Nt,1),Vt.length>0?this.map.set(Pe.param,Vt):this.map.delete(Pe.param)}}}),this.cloneFrom=this.updates=null)}}class wt{constructor(){this.map=new Map}set(Pe,Fe){return this.map.set(Pe,Fe),this}get(Pe){return this.map.has(Pe)||this.map.set(Pe,Pe.defaultValue()),this.map.get(Pe)}delete(Pe){return this.map.delete(Pe),this}has(Pe){return this.map.has(Pe)}keys(){return this.map.keys()}}function De(yt){return typeof ArrayBuffer<"u"&&yt instanceof ArrayBuffer}function et(yt){return typeof Blob<"u"&&yt instanceof Blob}function _t(yt){return typeof FormData<"u"&&yt instanceof FormData}class Ot{constructor(Pe,Fe,Vt,Nt){let Tn;if(this.url=Fe,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Pe.toUpperCase(),function be(yt){switch(yt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Nt?(this.body=void 0!==Vt?Vt:null,Tn=Nt):Tn=Vt,Tn&&(this.reportProgress=!!Tn.reportProgress,this.withCredentials=!!Tn.withCredentials,Tn.responseType&&(this.responseType=Tn.responseType),Tn.headers&&(this.headers=Tn.headers),Tn.context&&(this.context=Tn.context),Tn.params&&(this.params=Tn.params)),this.headers||(this.headers=new ge),this.context||(this.context=new wt),this.params){const Hn=this.params.toString();if(0===Hn.length)this.urlWithParams=Fe;else{const hr=Fe.indexOf("?");this.urlWithParams=Fe+(-1===hr?"?":hr<Fe.length-1?"&":"")+Hn}}else this.params=new St,this.urlWithParams=Fe}serializeBody(){return null===this.body?null:De(this.body)||et(this.body)||_t(this.body)||function $t(yt){return typeof URLSearchParams<"u"&&yt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof St?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||_t(this.body)?null:et(this.body)?this.body.type||null:De(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof St?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Pe={}){const Fe=Pe.method||this.method,Vt=Pe.url||this.url,Nt=Pe.responseType||this.responseType,Tn=void 0!==Pe.body?Pe.body:this.body,Hn=void 0!==Pe.withCredentials?Pe.withCredentials:this.withCredentials,hr=void 0!==Pe.reportProgress?Pe.reportProgress:this.reportProgress;let Un=Pe.headers||this.headers,ar=Pe.params||this.params;const Wr=Pe.context??this.context;return void 0!==Pe.setHeaders&&(Un=Object.keys(Pe.setHeaders).reduce((tt,Oe)=>tt.set(Oe,Pe.setHeaders[Oe]),Un)),Pe.setParams&&(ar=Object.keys(Pe.setParams).reduce((tt,Oe)=>tt.set(Oe,Pe.setParams[Oe]),ar)),new Ot(Fe,Vt,Tn,{params:ar,headers:Un,context:Wr,reportProgress:hr,responseType:Nt,withCredentials:Hn})}}var Wt=(()=>((Wt=Wt||{})[Wt.Sent=0]="Sent",Wt[Wt.UploadProgress=1]="UploadProgress",Wt[Wt.ResponseHeader=2]="ResponseHeader",Wt[Wt.DownloadProgress=3]="DownloadProgress",Wt[Wt.Response=4]="Response",Wt[Wt.User=5]="User",Wt))();class En{constructor(Pe,Fe=200,Vt="OK"){this.headers=Pe.headers||new ge,this.status=void 0!==Pe.status?Pe.status:Fe,this.statusText=Pe.statusText||Vt,this.url=Pe.url||null,this.ok=this.status>=200&&this.status<300}}class Jt extends En{constructor(Pe={}){super(Pe),this.type=Wt.ResponseHeader}clone(Pe={}){return new Jt({headers:Pe.headers||this.headers,status:void 0!==Pe.status?Pe.status:this.status,statusText:Pe.statusText||this.statusText,url:Pe.url||this.url||void 0})}}class Pn extends En{constructor(Pe={}){super(Pe),this.type=Wt.Response,this.body=void 0!==Pe.body?Pe.body:null}clone(Pe={}){return new Pn({body:void 0!==Pe.body?Pe.body:this.body,headers:Pe.headers||this.headers,status:void 0!==Pe.status?Pe.status:this.status,statusText:Pe.statusText||this.statusText,url:Pe.url||this.url||void 0})}}class dn extends En{constructor(Pe){super(Pe,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Pe.url||"(unknown url)"}`:`Http failure response for ${Pe.url||"(unknown url)"}: ${Pe.status} ${Pe.statusText}`,this.error=Pe.error||null}}function ht(yt,Pe){return{body:Pe,headers:yt.headers,context:yt.context,observe:yt.observe,params:yt.params,reportProgress:yt.reportProgress,responseType:yt.responseType,withCredentials:yt.withCredentials}}let pt=(()=>{class yt{constructor(Fe){this.handler=Fe}request(Fe,Vt,Nt={}){let Tn;if(Fe instanceof Ot)Tn=Fe;else{let Un,ar;Un=Nt.headers instanceof ge?Nt.headers:new ge(Nt.headers),Nt.params&&(ar=Nt.params instanceof St?Nt.params:new St({fromObject:Nt.params})),Tn=new Ot(Fe,Vt,void 0!==Nt.body?Nt.body:null,{headers:Un,context:Nt.context,params:ar,reportProgress:Nt.reportProgress,responseType:Nt.responseType||"json",withCredentials:Nt.withCredentials})}const Hn=(0,we.of)(Tn).pipe((0,ve.b)(Un=>this.handler.handle(Un)));if(Fe instanceof Ot||"events"===Nt.observe)return Hn;const hr=Hn.pipe((0,Je.h)(Un=>Un instanceof Pn));switch(Nt.observe||"body"){case"body":switch(Tn.responseType){case"arraybuffer":return hr.pipe((0,Ge.U)(Un=>{if(null!==Un.body&&!(Un.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Un.body}));case"blob":return hr.pipe((0,Ge.U)(Un=>{if(null!==Un.body&&!(Un.body instanceof Blob))throw new Error("Response is not a Blob.");return Un.body}));case"text":return hr.pipe((0,Ge.U)(Un=>{if(null!==Un.body&&"string"!=typeof Un.body)throw new Error("Response is not a string.");return Un.body}));default:return hr.pipe((0,Ge.U)(Un=>Un.body))}case"response":return hr;default:throw new Error(`Unreachable: unhandled observe type ${Nt.observe}}`)}}delete(Fe,Vt={}){return this.request("DELETE",Fe,Vt)}get(Fe,Vt={}){return this.request("GET",Fe,Vt)}head(Fe,Vt={}){return this.request("HEAD",Fe,Vt)}jsonp(Fe,Vt){return this.request("JSONP",Fe,{params:(new St).append(Vt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Fe,Vt={}){return this.request("OPTIONS",Fe,Vt)}patch(Fe,Vt,Nt={}){return this.request("PATCH",Fe,ht(Nt,Vt))}post(Fe,Vt,Nt={}){return this.request("POST",Fe,ht(Nt,Vt))}put(Fe,Vt,Nt={}){return this.request("PUT",Fe,ht(Nt,Vt))}}return yt.\u0275fac=function(Fe){return new(Fe||yt)(ee.LFG(Xe))},yt.\u0275prov=ee.Yz7({token:yt,factory:yt.\u0275fac}),yt})();function xt(yt,Pe){return Pe(yt)}function rt(yt,Pe){return(Fe,Vt)=>Pe.intercept(Fe,{handle:Nt=>yt(Nt,Vt)})}const Be=new ee.OlP("HTTP_INTERCEPTORS"),vt=new ee.OlP("HTTP_INTERCEPTOR_FNS");function an(){let yt=null;return(Pe,Fe)=>(null===yt&&(yt=((0,ee.f3M)(Be,{optional:!0})??[]).reduceRight(rt,xt)),yt(Pe,Fe))}let Fn=(()=>{class yt extends Xe{constructor(Fe,Vt){super(),this.backend=Fe,this.injector=Vt,this.chain=null}handle(Fe){if(null===this.chain){const Vt=Array.from(new Set(this.injector.get(vt)));this.chain=Vt.reduceRight((Nt,Tn)=>function Ke(yt,Pe,Fe){return(Vt,Nt)=>Fe.runInContext(()=>Pe(Vt,Tn=>yt(Tn,Nt)))}(Nt,Tn,this.injector),xt)}return this.chain(Fe,Vt=>this.backend.handle(Vt))}}return yt.\u0275fac=function(Fe){return new(Fe||yt)(ee.LFG(Ie),ee.LFG(ee.lqb))},yt.\u0275prov=ee.Yz7({token:yt,factory:yt.\u0275fac}),yt})();const un=/^\)\]\}',?\n/;let On=(()=>{class yt{constructor(Fe){this.xhrFactory=Fe}handle(Fe){if("JSONP"===Fe.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ue.y(Vt=>{const Nt=this.xhrFactory.build();if(Nt.open(Fe.method,Fe.urlWithParams),Fe.withCredentials&&(Nt.withCredentials=!0),Fe.headers.forEach((Y,ae)=>Nt.setRequestHeader(Y,ae.join(","))),Fe.headers.has("Accept")||Nt.setRequestHeader("Accept","application/json, text/plain, */*"),!Fe.headers.has("Content-Type")){const Y=Fe.detectContentTypeHeader();null!==Y&&Nt.setRequestHeader("Content-Type",Y)}if(Fe.responseType){const Y=Fe.responseType.toLowerCase();Nt.responseType="json"!==Y?Y:"text"}const Tn=Fe.serializeBody();let Hn=null;const hr=()=>{if(null!==Hn)return Hn;const Y=Nt.statusText||"OK",ae=new ge(Nt.getAllResponseHeaders()),R=function yn(yt){return"responseURL"in yt&&yt.responseURL?yt.responseURL:/^X-Request-URL:/m.test(yt.getAllResponseHeaders())?yt.getResponseHeader("X-Request-URL"):null}(Nt)||Fe.url;return Hn=new Jt({headers:ae,status:Nt.status,statusText:Y,url:R}),Hn},Un=()=>{let{headers:Y,status:ae,statusText:R,url:te}=hr(),Ae=null;204!==ae&&(Ae=typeof Nt.response>"u"?Nt.responseText:Nt.response),0===ae&&(ae=Ae?200:0);let ke=ae>=200&&ae<300;if("json"===Fe.responseType&&"string"==typeof Ae){const ze=Ae;Ae=Ae.replace(un,"");try{Ae=""!==Ae?JSON.parse(Ae):null}catch(Ye){Ae=ze,ke&&(ke=!1,Ae={error:Ye,text:Ae})}}ke?(Vt.next(new Pn({body:Ae,headers:Y,status:ae,statusText:R,url:te||void 0})),Vt.complete()):Vt.error(new dn({error:Ae,headers:Y,status:ae,statusText:R,url:te||void 0}))},ar=Y=>{const{url:ae}=hr(),R=new dn({error:Y,status:Nt.status||0,statusText:Nt.statusText||"Unknown Error",url:ae||void 0});Vt.error(R)};let Wr=!1;const tt=Y=>{Wr||(Vt.next(hr()),Wr=!0);let ae={type:Wt.DownloadProgress,loaded:Y.loaded};Y.lengthComputable&&(ae.total=Y.total),"text"===Fe.responseType&&Nt.responseText&&(ae.partialText=Nt.responseText),Vt.next(ae)},Oe=Y=>{let ae={type:Wt.UploadProgress,loaded:Y.loaded};Y.lengthComputable&&(ae.total=Y.total),Vt.next(ae)};return Nt.addEventListener("load",Un),Nt.addEventListener("error",ar),Nt.addEventListener("timeout",ar),Nt.addEventListener("abort",ar),Fe.reportProgress&&(Nt.addEventListener("progress",tt),null!==Tn&&Nt.upload&&Nt.upload.addEventListener("progress",Oe)),Nt.send(Tn),Vt.next({type:Wt.Sent}),()=>{Nt.removeEventListener("error",ar),Nt.removeEventListener("abort",ar),Nt.removeEventListener("load",Un),Nt.removeEventListener("timeout",ar),Fe.reportProgress&&(Nt.removeEventListener("progress",tt),null!==Tn&&Nt.upload&&Nt.upload.removeEventListener("progress",Oe)),Nt.readyState!==Nt.DONE&&Nt.abort()}})}}return yt.\u0275fac=function(Fe){return new(Fe||yt)(ee.LFG(u.JF))},yt.\u0275prov=ee.Yz7({token:yt,factory:yt.\u0275fac}),yt})();const _r=new ee.OlP("XSRF_ENABLED"),st=new ee.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Mt=new ee.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class At{}let Zt=(()=>{class yt{constructor(Fe,Vt,Nt){this.doc=Fe,this.platform=Vt,this.cookieName=Nt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Fe=this.doc.cookie||"";return Fe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,u.Mx)(Fe,this.cookieName),this.lastCookieString=Fe),this.lastToken}}return yt.\u0275fac=function(Fe){return new(Fe||yt)(ee.LFG(u.K0),ee.LFG(ee.Lbi),ee.LFG(st))},yt.\u0275prov=ee.Yz7({token:yt,factory:yt.\u0275fac}),yt})();function Kt(yt,Pe){const Fe=yt.url.toLowerCase();if(!(0,ee.f3M)(_r)||"GET"===yt.method||"HEAD"===yt.method||Fe.startsWith("http://")||Fe.startsWith("https://"))return Pe(yt);const Vt=(0,ee.f3M)(At).getToken(),Nt=(0,ee.f3M)(Mt);return null!=Vt&&!yt.headers.has(Nt)&&(yt=yt.clone({headers:yt.headers.set(Nt,Vt)})),Pe(yt)}var Et=(()=>((Et=Et||{})[Et.Interceptors=0]="Interceptors",Et[Et.LegacyInterceptors=1]="LegacyInterceptors",Et[Et.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Et[Et.NoXsrfProtection=3]="NoXsrfProtection",Et[Et.JsonpSupport=4]="JsonpSupport",Et[Et.RequestsMadeViaParent=5]="RequestsMadeViaParent",Et))();function wn(yt,Pe){return{\u0275kind:yt,\u0275providers:Pe}}function kt(...yt){const Pe=[pt,On,Fn,{provide:Xe,useExisting:Fn},{provide:Ie,useExisting:On},{provide:vt,useValue:Kt,multi:!0},{provide:_r,useValue:!0},{provide:At,useClass:Zt}];for(const Fe of yt)Pe.push(...Fe.\u0275providers);return(0,ee.MR2)(Pe)}const Er=new ee.OlP("LEGACY_INTERCEPTOR_FN");let ti=(()=>{class yt{}return yt.\u0275fac=function(Fe){return new(Fe||yt)},yt.\u0275mod=ee.oAB({type:yt}),yt.\u0275inj=ee.cJS({providers:[kt(wn(Et.LegacyInterceptors,[{provide:Er,useFactory:an},{provide:vt,useExisting:Er,multi:!0}]))]}),yt})()},1571:(sn,ot,O)=>{"use strict";O.d(ot,{QbO:()=>K_,tb:()=>_g,AFp:()=>ug,ip1:()=>ag,CZH:()=>yu,hGG:()=>ME,z2F:()=>Eu,sBO:()=>gE,Sil:()=>Y_,_Vd:()=>va,EJc:()=>W_,Xts:()=>Xu,SBq:()=>ya,lqb:()=>Fo,qLn:()=>_a,vpe:()=>vo,XFs:()=>At,OlP:()=>Vn,zs3:()=>Mo,ZZ4:()=>Ac,aQg:()=>xc,soG:()=>_u,YKP:()=>lp,h0i:()=>ra,PXZ:()=>uE,R0b:()=>Gs,FiY:()=>aa,Lbi:()=>$_,g9A:()=>cg,Qsj:()=>mv,FYo:()=>Od,JOm:()=>ho,tp0:()=>ua,Rgc:()=>Pa,dDg:()=>iE,eoX:()=>vg,GfV:()=>Nd,s_b:()=>gu,ifc:()=>Y,MMx:()=>ec,Lck:()=>z1,eFA:()=>wg,G48:()=>pE,Gpc:()=>Ze,f3M:()=>Nt,X6Q:()=>fE,$WT:()=>he,MR2:()=>tv,_c5:()=>FE,c2e:()=>z_,zSh:()=>rl,wAp:()=>Yn,vHH:()=>be,lri:()=>gg,rWj:()=>mg,D6c:()=>PE,cg1:()=>Gl,kL8:()=>Of,dqk:()=>kt,Z0I:()=>Lt,eJc:()=>cc,CqO:()=>kh,QGY:()=>Nl,F4k:()=>Nh,RDi:()=>Pm,AaK:()=>We,qOj:()=>xl,TTD:()=>Ys,_Bn:()=>up,jDz:()=>dp,xp6:()=>$d,uIk:()=>Fl,Tol:()=>af,Gre:()=>Sf,ekj:()=>Ul,Suo:()=>Bp,Xpm:()=>cn,lG2:()=>ni,Yz7:()=>Jn,cJS:()=>dt,oAB:()=>kn,Yjl:()=>Qn,Y36:()=>$o,_UZ:()=>Rl,GkF:()=>Ol,BQk:()=>su,ynx:()=>iu,qZA:()=>ru,TgZ:()=>nu,EpF:()=>Oh,n5z:()=>cr,LFG:()=>Fe,$8M:()=>ki,$Z:()=>nh,NdJ:()=>kl,CRH:()=>Hp,oxw:()=>jh,ALo:()=>Tp,lcZ:()=>Ip,xi3:()=>Fp,Hsn:()=>$h,F$t:()=>Uh,Q6J:()=>Ml,s9C:()=>Ll,MGl:()=>ou,DdM:()=>yp,VKq:()=>_p,WLB:()=>Ep,kEZ:()=>wp,l5B:()=>Sp,iGM:()=>kp,MAs:()=>Rh,KtG:()=>Lr,Jf7:()=>kd,CHM:()=>ai,LSH:()=>Qu,P3R:()=>Sd,Udp:()=>jl,YNc:()=>Ph,W1O:()=>$p,_uU:()=>pf,Oqu:()=>Kl,hij:()=>lu,AsE:()=>zl,Gf:()=>Lp});var u=O(7579),ee=O(727),we=O(9751),Ue=O(6451),ve=O(8421),Je=O(930),Ge=O(4482);function Ie(e,t,...n){if(!0===t)return void e();if(!1===t)return;const i=new Je.Hp({next:()=>{i.unsubscribe(),e()}});return t(...n).subscribe(i)}function ge(e){for(let t in e)if(e[t]===ge)return t;throw Error("Could not find renamed property on target object.")}function xe(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function We(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(We).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Tt(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const ue=ge({__forward_ref__:ge});function Ze(e){return e.__forward_ref__=Ze,e.toString=function(){return We(this())},e}function bt(e){return Xt(e)?e():e}function Xt(e){return"function"==typeof e&&e.hasOwnProperty(ue)&&e.__forward_ref__===Ze}function St(e){return e&&!!e.\u0275providers}const wt="https://g.co/ng/security#xss";class be extends Error{constructor(t,n){super(De(t,n)),this.code=t}}function De(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}function et(e){return"string"==typeof e?e:null==e?"":String(e)}function En(e,t){throw new be(-201,!1)}function Bt(e,t){null==e&&function qt(e,t,n,i){throw new Error(`ASSERTION ERROR: ${e}`+(null==i?"":` [Expected=> ${n} ${i} ${t} <=Actual]`))}(t,e,null,"!=")}function Jn(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function dt(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ve(e){return un(e,oe)||un(e,gt)}function Lt(e){return null!==Ve(e)}function un(e,t){return e.hasOwnProperty(t)?e[t]:null}function _r(e){return e&&(e.hasOwnProperty(st)||e.hasOwnProperty(Mt))?e[st]:null}const oe=ge({\u0275prov:ge}),st=ge({\u0275inj:ge}),gt=ge({ngInjectableDef:ge}),Mt=ge({ngInjectorDef:ge});var At=(()=>((At=At||{})[At.Default=0]="Default",At[At.Host=1]="Host",At[At.Self=2]="Self",At[At.SkipSelf=4]="SkipSelf",At[At.Optional=8]="Optional",At))();let Zt;function Dt(e){const t=Zt;return Zt=e,t}function Et(e,t,n){const i=Ve(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&At.Optional?null:void 0!==t?t:void En(We(e))}const kt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Tr={},Zn="__NG_DI_FLAG__",jr="ngTempTokenPath",zn="ngTokenPath",_i=/\n/gm,ti="\u0275",Kr="__source";let tr;function yt(e){const t=tr;return tr=e,t}function Pe(e,t=At.Default){if(void 0===tr)throw new be(-203,!1);return null===tr?Et(e,void 0,t):tr.get(e,t&At.Optional?null:void 0,t)}function Fe(e,t=At.Default){return(function Kt(){return Zt}()||Pe)(bt(e),t)}function Nt(e,t=At.Default){return Fe(e,Tn(t))}function Tn(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Hn(e){const t=[];for(let n=0;n<e.length;n++){const i=bt(e[n]);if(Array.isArray(i)){if(0===i.length)throw new be(900,!1);let a,c=At.Default;for(let g=0;g<i.length;g++){const D=i[g],I=Un(D);"number"==typeof I?-1===I?a=D.token:c|=I:a=D}t.push(Fe(a,c))}else t.push(Fe(i))}return t}function hr(e,t){return e[Zn]=t,e.prototype[Zn]=t,e}function Un(e){return e[Zn]}function tt(e){return{toString:e}.toString()}var Oe=(()=>((Oe=Oe||{})[Oe.OnPush=0]="OnPush",Oe[Oe.Default=1]="Default",Oe))(),Y=(()=>{return(e=Y||(Y={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Y;var e})();const ae={},R=[],te=ge({\u0275cmp:ge}),Ae=ge({\u0275dir:ge}),ke=ge({\u0275pipe:ge}),ze=ge({\u0275mod:ge}),Ye=ge({\u0275fac:ge}),Pt=ge({__NG_ELEMENT_ID__:ge});let Qt=0;function cn(e){return tt(()=>{const t=Ct(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Oe.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,data:e.data||{},encapsulation:e.encapsulation||Y.Emulated,id:"c"+Qt++,styles:e.styles||R,_:null,schemas:e.schemas||null,tView:null};nn(n);const i=e.dependencies;return n.directiveDefs=rr(i,!1),n.pipeDefs=rr(i,!0),n})}function hn(e){return _e(e)||Ee(e)}function Cn(e){return null!==e}function kn(e){return tt(()=>({type:e.type,bootstrap:e.bootstrap||R,declarations:e.declarations||R,imports:e.imports||R,exports:e.exports||R,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Ur(e,t){if(null==e)return ae;const n={};for(const i in e)if(e.hasOwnProperty(i)){let a=e[i],c=a;Array.isArray(a)&&(c=a[1],a=a[0]),n[a]=i,t&&(t[a]=c)}return n}function ni(e){return tt(()=>{const t=Ct(e);return nn(t),t})}function Qn(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function _e(e){return e[te]||null}function Ee(e){return e[Ae]||null}function L(e){return e[ke]||null}function he(e){const t=_e(e)||Ee(e)||L(e);return null!==t&&t.standalone}function qe(e,t){const n=e[ze]||null;if(!n&&!0===t)throw new Error(`Type ${We(e)} does not have '\u0275mod' property.`);return n}function Ct(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,exportAs:e.exportAs||null,standalone:!0===e.standalone,selectors:e.selectors||R,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ur(e.inputs,t),outputs:Ur(e.outputs)}}function nn(e){e.features?.forEach(t=>t(e))}function rr(e,t){if(!e)return null;const n=t?L:hn;return()=>("function"==typeof e?e():e).map(i=>n(i)).filter(Cn)}const ur=0,zt=1,Sn=2,Xn=3,Sr=4,br=5,zr=6,gi=7,vr=8,Ei=9,Bi=10,Ln=11,Ws=12,Hi=13,Xi=14,Jr=15,pr=16,us=17,Zr=18,Or=19,Pi=20,es=21,Ar=22,gs=1,Ri=2,Nr=7,ms=8,wi=9,Hr=10;function Gr(e){return Array.isArray(e)&&"object"==typeof e[gs]}function mn(e){return Array.isArray(e)&&!0===e[gs]}function Oi(e){return 0!=(4&e.flags)}function Vi(e){return e.componentOffset>-1}function vs(e){return 1==(1&e.flags)}function ri(e){return!!e.template}function Vs(e){return 0!=(256&e[Sn])}function Si(e,t){return e.hasOwnProperty(Ye)?e[Ye]:null}class rs{constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}}function Ys(){return cs}function cs(e){return e.type.prototype.ngOnChanges&&(e.setInput=Yi),_o}function _o(){const e=Ci(this),t=e?.current;if(t){const n=e.previous;if(n===ae)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function Yi(e,t,n,i){const a=this.declaredInputs[n],c=Ci(e)||function si(e,t){return e[Ks]=t}(e,{previous:ae,current:null}),g=c.current||(c.current={}),D=c.previous,I=D[a];g[a]=new rs(I&&I.currentValue,t,D===ae),e[i]=t}Ys.ngInherit=!0;const Ks="__ngSimpleChanges__";function Ci(e){return e[Ks]||null}const di=function(e,t,n){};function qr(e){for(;Array.isArray(e);)e=e[ur];return e}function Ut(e,t){return qr(t[e])}function h(e,t){return qr(t[e.index])}function Ji(e,t){return e.data[t]}function Ii(e,t){return e[t]}function Qr(e,t){const n=t[e];return Gr(n)?n:n[ur]}function Zi(e){return 64==(64&e[Sn])}function $i(e,t){return null==t?null:e[t]}function Ki(e){e[Zr]=0}function Ni(e,t){e[br]+=t;let n=e,i=e[Xn];for(;null!==i&&(1===t&&1===n[br]||-1===t&&0===n[br]);)i[br]+=t,n=i,i=i[Xn]}const bn={lFrame:ce(null),bindingsEnabled:!0};function F(){return bn.bindingsEnabled}function nt(){return bn.lFrame.lView}function In(){return bn.lFrame.tView}function ai(e){return bn.lFrame.contextLView=e,e[vr]}function Lr(e){return bn.lFrame.contextLView=null,e}function wr(){let e=ds();for(;null!==e&&64===e.type;)e=e.parent;return e}function ds(){return bn.lFrame.currentTNode}function ui(e,t){const n=bn.lFrame;n.currentTNode=e,n.isParent=t}function Fs(){return bn.lFrame.isParent}function Ms(){bn.lFrame.isParent=!1}function ei(){const e=bn.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Rs(){return bn.lFrame.bindingIndex++}function Gi(e){const t=bn.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function oo(e,t){const n=bn.lFrame;n.bindingIndex=n.bindingRootIndex=e,ss(t)}function ss(e){bn.lFrame.currentDirectiveIndex=e}function ws(){return bn.lFrame.currentQueryIndex}function q(e){bn.lFrame.currentQueryIndex=e}function v(e){const t=e[zt];return 2===t.type?t.declTNode:1===t.type?e[zr]:null}function E(e,t,n){if(n&At.SkipSelf){let a=t,c=e;for(;!(a=a.parent,null!==a||n&At.Host||(a=v(c),null===a||(c=c[Jr],10&a.type))););if(null===a)return!1;t=a,e=c}const i=bn.lFrame=Q();return i.currentTNode=t,i.lView=e,!0}function k(e){const t=Q(),n=e[zt];bn.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Q(){const e=bn.lFrame,t=null===e?null:e.child;return null===t?ce(e):t}function ce(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Me(){const e=bn.lFrame;return bn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Ne=Me;function lt(){const e=Me();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function en(){return bn.lFrame.selectedIndex}function er(e){bn.lFrame.selectedIndex=e}function An(){const e=bn.lFrame;return Ji(e.tView,e.selectedIndex)}function M(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){const c=e.data[n].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:D,ngAfterViewInit:I,ngAfterViewChecked:G,ngOnDestroy:se}=c;g&&(e.contentHooks||(e.contentHooks=[])).push(-n,g),D&&((e.contentHooks||(e.contentHooks=[])).push(n,D),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,D)),I&&(e.viewHooks||(e.viewHooks=[])).push(-n,I),G&&((e.viewHooks||(e.viewHooks=[])).push(n,G),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,G)),null!=se&&(e.destroyHooks||(e.destroyHooks=[])).push(n,se)}}function re(e,t,n){Ft(e,t,3,n)}function ne(e,t,n,i){(3&e[Sn])===n&&Ft(e,t,n,i)}function $e(e,t){let n=e[Sn];(3&n)===t&&(n&=2047,n+=1,e[Sn]=n)}function Ft(e,t,n,i){const c=i??-1,g=t.length-1;let D=0;for(let I=void 0!==i?65535&e[Zr]:0;I<g;I++)if("number"==typeof t[I+1]){if(D=t[I],null!=i&&D>=i)break}else t[I]<0&&(e[Zr]+=65536),(D<c||-1==c)&&(gn(e,n,t,I),e[Zr]=(4294901760&e[Zr])+I+2),I++}function gn(e,t,n,i){const a=n[i]<0,c=n[i+1],D=e[a?-n[i]:n[i]];if(a){if(e[Sn]>>11<e[Zr]>>16&&(3&e[Sn])===t){e[Sn]+=2048,di(4,D,c);try{c.call(D)}finally{di(5,D,c)}}}else{di(4,D,c);try{c.call(D)}finally{di(5,D,c)}}}const qn=-1;class sr{constructor(t,n,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}}function l(e,t,n){let i=0;for(;i<n.length;){const a=n[i];if("number"==typeof a){if(0!==a)break;i++;const c=n[i++],g=n[i++],D=n[i++];e.setAttribute(t,g,D,c)}else{const c=a,g=n[++i];p(c)?e.setProperty(t,c,g):e.setAttribute(t,c,g),i++}}return i}function f(e){return 3===e||4===e||6===e}function p(e){return 64===e.charCodeAt(0)}function m(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){const a=t[i];"number"==typeof a?n=a:0===n||_(e,n,a,null,-1===n||2===n?t[++i]:null)}}return e}function _(e,t,n,i,a){let c=0,g=e.length;if(-1===t)g=-1;else for(;c<e.length;){const D=e[c++];if("number"==typeof D){if(D===t){g=-1;break}if(D>t){g=c-1;break}}}for(;c<e.length;){const D=e[c];if("number"==typeof D)break;if(D===n){if(null===i)return void(null!==a&&(e[c+1]=a));if(i===e[c+1])return void(e[c+2]=a)}c++,null!==i&&c++,null!==a&&c++}-1!==g&&(e.splice(g,0,t),c=g+1),e.splice(c++,0,n),null!==i&&e.splice(c++,0,i),null!==a&&e.splice(c++,0,a)}function x(e){return e!==qn}function P(e){return 32767&e}function $(e,t){let n=function U(e){return e>>16}(e),i=t;for(;n>0;)i=i[Jr],n--;return i}let b=!0;function S(e){const t=b;return b=e,t}const T=255,K=5;let B=0;const J={};function fe(e,t){const n=it(e,t);if(-1!==n)return n;const i=t[zt];i.firstCreatePass&&(e.injectorIndex=t.length,pe(i.data,e),pe(t,null),pe(i.blueprint,null));const a=ct(e,t),c=e.injectorIndex;if(x(a)){const g=P(a),D=$(a,t),I=D[zt].data;for(let G=0;G<8;G++)t[c+G]=D[g+G]|I[g+G]}return t[c+8]=a,c}function pe(e,t){e.push(0,0,0,0,0,0,0,0,t)}function it(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function ct(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,i=null,a=t;for(;null!==a;){if(i=mi(a),null===i)return qn;if(n++,a=a[Jr],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return qn}function W(e,t,n){!function de(e,t,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(Pt)&&(i=n[Pt]),null==i&&(i=n[Pt]=B++);const a=i&T;t.data[e+(a>>K)]|=1<<a}(e,t,n)}function me(e,t,n){if(n&At.Optional||void 0!==e)return e;En()}function ye(e,t,n,i){if(n&At.Optional&&void 0===i&&(i=null),!(n&(At.Self|At.Host))){const a=e[Ei],c=Dt(void 0);try{return a?a.get(t,i,n&At.Optional):Et(t,i,n&At.Optional)}finally{Dt(c)}}return me(i,0,n)}function Te(e,t,n,i=At.Default,a){if(null!==e){if(1024&t[Sn]){const g=function Pr(e,t,n,i,a){let c=e,g=t;for(;null!==c&&null!==g&&1024&g[Sn]&&!(256&g[Sn]);){const D=je(c,g,n,i|At.Self,J);if(D!==J)return D;let I=c.parent;if(!I){const G=g[es];if(G){const se=G.get(n,J,i);if(se!==J)return se}I=mi(g),g=g[Jr]}c=I}return a}(e,t,n,i,J);if(g!==J)return g}const c=je(e,t,n,i,J);if(c!==J)return c}return ye(t,n,i,a)}function je(e,t,n,i,a){const c=function ft(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Pt)?e[Pt]:void 0;return"number"==typeof t?t>=0?t&T:yr:t}(n);if("function"==typeof c){if(!E(t,e,i))return i&At.Host?me(a,0,i):ye(t,n,i,a);try{const g=c(i);if(null!=g||i&At.Optional)return g;En()}finally{Ne()}}else if("number"==typeof c){let g=null,D=it(e,t),I=qn,G=i&At.Host?t[pr][zr]:null;for((-1===D||i&At.SkipSelf)&&(I=-1===D?ct(e,t):t[D+8],I!==qn&&Rn(i,!1)?(g=t[zt],D=P(I),t=$(I,t)):D=-1);-1!==D;){const se=t[zt];if(_n(c,D,se.data)){const Se=Ce(D,t,n,g,i,G);if(Se!==J)return Se}I=t[D+8],I!==qn&&Rn(i,t[zt].data[D+8]===G)&&_n(c,D,t)?(g=se,D=P(I),t=$(I,t)):D=-1}}return a}function Ce(e,t,n,i,a,c){const g=t[zt],D=g.data[e+8],se=Re(D,g,n,null==i?Vi(D)&&b:i!=g&&0!=(3&D.type),a&At.Host&&c===D);return null!==se?Le(t,g,se,D):J}function Re(e,t,n,i,a){const c=e.providerIndexes,g=t.data,D=1048575&c,I=e.directiveStart,se=c>>20,He=a?D+se:e.directiveEnd;for(let at=i?D:D+se;at<He;at++){const Rt=g[at];if(at<I&&n===Rt||at>=I&&Rt.type===n)return at}if(a){const at=g[I];if(at&&ri(at)&&at.type===n)return I}return null}function Le(e,t,n,i){let a=e[n];const c=t.data;if(function gr(e){return e instanceof sr}(a)){const g=a;g.resolving&&function $t(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new be(-200,`Circular dependency in DI detected for ${e}${n}`)}(function _t(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():et(e)}(c[n]));const D=S(g.canSeeViewProviders);g.resolving=!0;const I=g.injectImpl?Dt(g.injectImpl):null;E(e,i,At.Default);try{a=e[n]=g.factory(void 0,c,e,i),t.firstCreatePass&&n>=i.directiveStart&&function z(e,t,n){const{ngOnChanges:i,ngOnInit:a,ngDoCheck:c}=t.type.prototype;if(i){const g=cs(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,g),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,g)}a&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,a),c&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,c),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,c))}(n,c[n],t)}finally{null!==I&&Dt(I),S(D),g.resolving=!1,Ne()}}return a}function _n(e,t,n){return!!(n[t+(e>>K)]&1<<e)}function Rn(e,t){return!(e&At.Self||e&At.Host&&t)}class Mn{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return Te(this._tNode,this._lView,t,Tn(i),n)}}function yr(){return new Mn(wr(),nt())}function cr(e){return tt(()=>{const t=e.prototype.constructor,n=t[Ye]||Mr(t),i=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==i;){const c=a[Ye]||Mr(a);if(c&&c!==n)return c;a=Object.getPrototypeOf(a)}return c=>new c})}function Mr(e){return Xt(e)?()=>{const t=Mr(bt(e));return t&&t()}:Si(e)}function mi(e){const t=e[zt],n=t.type;return 2===n?t.declTNode:1===n?e[zr]:null}function ki(e){return function Z(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const i=n.length;let a=0;for(;a<i;){const c=n[a];if(f(c))break;if(0===c)a+=2;else if("number"==typeof c)for(a++;a<i&&"string"==typeof n[a];)a++;else{if(c===t)return n[a+1];a+=2}}}return null}(wr(),e)}const hi="__parameters__";function Br(e,t,n){return tt(()=>{const i=function ci(e){return function(...n){if(e){const i=e(...n);for(const a in i)this[a]=i[a]}}}(t);function a(...c){if(this instanceof a)return i.apply(this,c),this;const g=new a(...c);return D.annotation=g,D;function D(I,G,se){const Se=I.hasOwnProperty(hi)?I[hi]:Object.defineProperty(I,hi,{value:[]})[hi];for(;Se.length<=se;)Se.push(null);return(Se[se]=Se[se]||[]).push(g),I}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}class Vn{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Jn({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function A(e,t){e.forEach(n=>Array.isArray(n)?A(n,t):t(n))}function j(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function ie(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function le(e,t){const n=[];for(let i=0;i<e;i++)n.push(t);return n}function ir(e,t,n){let i=hs(e,t);return i>=0?e[1|i]=n:(i=~i,function vn(e,t,n,i){let a=e.length;if(a==t)e.push(n,i);else if(1===a)e.push(i,e[0]),e[0]=n;else{for(a--,e.push(e[a-1],e[a]);a>t;)e[a]=e[a-2],a--;e[t]=n,e[t+1]=i}}(e,i,t,n)),i}function bi(e,t){const n=hs(e,t);if(n>=0)return e[1|n]}function hs(e,t){return function co(e,t,n){let i=0,a=e.length>>n;for(;a!==i;){const c=i+(a-i>>1),g=e[c<<n];if(t===g)return c<<n;g>t?a=c:i=c+1}return~(a<<n)}(e,t,1)}const aa=hr(Br("Optional"),8),ua=hr(Br("SkipSelf"),4);var ho=(()=>((ho=ho||{})[ho.Important=1]="Important",ho[ho.DashCase=2]="DashCase",ho))();const Fu=new Map;let tm=0;const Pu="__ngContext__";function os(e,t){Gr(t)?(e[Pu]=t[Pi],function rm(e){Fu.set(e[Pi],e)}(t)):e[Pu]=t}let Ru;function Ou(e,t){return Ru(e,t)}function ha(e){const t=e[Xn];return mn(t)?t[Xn]:t}function Nu(e){return qc(e[Hi])}function ku(e){return qc(e[Sr])}function qc(e){for(;null!==e&&!mn(e);)e=e[Sr];return e}function Lo(e,t,n,i,a){if(null!=i){let c,g=!1;mn(i)?c=i:Gr(i)&&(g=!0,i=i[ur]);const D=qr(i);0===e&&null!==n?null==a?ed(t,n,D):To(t,n,D,a||null,!0):1===e&&null!==n?To(t,n,D,a||null,!0):2===e?function $u(e,t,n){const i=Ha(e,t);i&&function bm(e,t,n,i){e.removeChild(t,n,i)}(e,i,t,n)}(t,D,g):3===e&&t.destroyNode(D),null!=c&&function Am(e,t,n,i,a){const c=n[Nr];c!==qr(n)&&Lo(t,e,i,c,a);for(let D=Hr;D<n.length;D++){const I=n[D];fa(I[zt],I,e,t,i,c)}}(t,e,c,n,a)}}function Bu(e,t,n){return e.createElement(t,n)}function Jc(e,t){const n=e[wi],i=n.indexOf(t),a=t[Xn];512&t[Sn]&&(t[Sn]&=-513,Ni(a,-1)),n.splice(i,1)}function Hu(e,t){if(e.length<=Hr)return;const n=Hr+t,i=e[n];if(i){const a=i[us];null!==a&&a!==e&&Jc(a,i),t>0&&(e[n-1][Sr]=i[Sr]);const c=ie(e,Hr+t);!function gm(e,t){fa(e,t,t[Ln],2,null,null),t[ur]=null,t[zr]=null}(i[zt],i);const g=c[Or];null!==g&&g.detachView(c[zt]),i[Xn]=null,i[Sr]=null,i[Sn]&=-65}return i}function Zc(e,t){if(!(128&t[Sn])){const n=t[Ln];n.destroyNode&&fa(e,t,n,3,null,null),function ym(e){let t=e[Hi];if(!t)return Vu(e[zt],e);for(;t;){let n=null;if(Gr(t))n=t[Hi];else{const i=t[Hr];i&&(n=i)}if(!n){for(;t&&!t[Sr]&&t!==e;)Gr(t)&&Vu(t[zt],t),t=t[Xn];null===t&&(t=e),Gr(t)&&Vu(t[zt],t),n=t&&t[Sr]}t=n}}(t)}}function Vu(e,t){if(!(128&t[Sn])){t[Sn]&=-65,t[Sn]|=128,function Sm(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let i=0;i<n.length;i+=2){const a=t[n[i]];if(!(a instanceof sr)){const c=n[i+1];if(Array.isArray(c))for(let g=0;g<c.length;g+=2){const D=a[c[g]],I=c[g+1];di(4,D,I);try{I.call(D)}finally{di(5,D,I)}}else{di(4,a,c);try{c.call(a)}finally{di(5,a,c)}}}}}(e,t),function wm(e,t){const n=e.cleanup,i=t[gi];let a=-1;if(null!==n)for(let c=0;c<n.length-1;c+=2)if("string"==typeof n[c]){const g=n[c+3];g>=0?i[a=g]():i[a=-g].unsubscribe(),c+=2}else{const g=i[a=n[c+1]];n[c].call(g)}if(null!==i){for(let c=a+1;c<i.length;c++)(0,i[c])();t[gi]=null}}(e,t),1===t[zt].type&&t[Ln].destroy();const n=t[us];if(null!==n&&mn(t[Xn])){n!==t[Xn]&&Jc(n,t);const i=t[Or];null!==i&&i.detachView(e)}!function im(e){Fu.delete(e[Pi])}(t)}}function Qc(e,t,n){return function Xc(e,t,n){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return n[ur];{const{componentOffset:a}=i;if(a>-1){const{encapsulation:c}=e.data[i.directiveStart+a];if(c===Y.None||c===Y.Emulated)return null}return h(i,n)}}(e,t.parent,n)}function To(e,t,n,i,a){e.insertBefore(t,n,i,a)}function ed(e,t,n){e.appendChild(t,n)}function td(e,t,n,i,a){null!==i?To(e,t,n,i,a):ed(e,t,n)}function Ha(e,t){return e.parentNode(t)}function nd(e,t,n){return id(e,t,n)}let ju,Gu,$a,id=function rd(e,t,n){return 40&e.type?h(e,n):null};function Va(e,t,n,i){const a=Qc(e,i,t),c=t[Ln],D=nd(i.parent||t[zr],i,t);if(null!=a)if(Array.isArray(n))for(let I=0;I<n.length;I++)td(c,a,n[I],D,!1);else td(c,a,n,D,!1);void 0!==ju&&ju(c,i,t,n,a)}function ja(e,t){if(null!==t){const n=t.type;if(3&n)return h(t,e);if(4&n)return Uu(-1,e[t.index]);if(8&n){const i=t.child;if(null!==i)return ja(e,i);{const a=e[t.index];return mn(a)?Uu(-1,a):qr(a)}}if(32&n)return Ou(t,e)()||qr(e[t.index]);{const i=od(e,t);return null!==i?Array.isArray(i)?i[0]:ja(ha(e[pr]),i):ja(e,t.next)}}return null}function od(e,t){return null!==t?e[pr][zr].projection[t.projection]:null}function Uu(e,t){const n=Hr+e+1;if(n<t.length){const i=t[n],a=i[zt].firstChild;if(null!==a)return ja(i,a)}return t[Nr]}function Ku(e,t,n,i,a,c,g){for(;null!=n;){const D=i[n.index],I=n.type;if(g&&0===t&&(D&&os(qr(D),i),n.flags|=2),32!=(32&n.flags))if(8&I)Ku(e,t,n.child,i,a,c,!1),Lo(t,e,a,D,c);else if(32&I){const G=Ou(n,i);let se;for(;se=G();)Lo(t,e,a,se,c);Lo(t,e,a,D,c)}else 16&I?ad(e,t,i,n,a,c):Lo(t,e,a,D,c);n=g?n.projectionNext:n.next}}function fa(e,t,n,i,a,c){Ku(n,i,e.firstChild,t,a,c,!1)}function ad(e,t,n,i,a,c){const g=n[pr],I=g[zr].projection[i.projection];if(Array.isArray(I))for(let G=0;G<I.length;G++)Lo(t,e,a,I[G],c);else Ku(e,t,I,g[Xn],a,c,!0)}function ud(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function ld(e,t,n){const{mergedAttrs:i,classes:a,styles:c}=n;null!==i&&l(e,t,i),null!==a&&ud(e,t,a),null!==c&&function Tm(e,t,n){e.setAttribute(t,"style",n)}(e,t,c)}function Pm(e){Gu=e}function fd(e){return function Wu(){if(void 0===$a&&($a=null,kt.trustedTypes))try{$a=kt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return $a}()?.createScriptURL(e)||e}class pd{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${wt})`}}function Co(e){return e instanceof pd?e.changingThisBreaksApplicationSecurity:e}function pa(e,t){const n=function Bm(e){return e instanceof pd&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${wt})`)}return n===t}const Um=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Mi=(()=>((Mi=Mi||{})[Mi.NONE=0]="NONE",Mi[Mi.HTML=1]="HTML",Mi[Mi.STYLE=2]="STYLE",Mi[Mi.SCRIPT=3]="SCRIPT",Mi[Mi.URL=4]="URL",Mi[Mi.RESOURCE_URL=5]="RESOURCE_URL",Mi))();function Qu(e){const t=ma();return t?t.sanitize(Mi.URL,e)||"":pa(e,"URL")?Co(e):function qu(e){return(e=String(e)).match(Um)?e:"unsafe:"+e}(et(e))}function wd(e){const t=ma();if(t)return fd(t.sanitize(Mi.RESOURCE_URL,e)||"");if(pa(e,"ResourceURL"))return fd(Co(e));throw new be(904,!1)}function Sd(e,t,n){return function ev(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?wd:Qu}(t,n)(e)}function ma(){const e=nt();return e&&e[Ws]}const Xu=new Vn("ENVIRONMENT_INITIALIZER"),bd=new Vn("INJECTOR",-1),Dd=new Vn("INJECTOR_DEF_TYPES");class Cd{get(t,n=Tr){if(n===Tr){const i=new Error(`NullInjectorError: No provider for ${We(t)}!`);throw i.name="NullInjectorError",i}return n}}function tv(e){return{\u0275providers:e}}function nv(...e){return{\u0275providers:Ad(0,e),\u0275fromNgModule:!0}}function Ad(e,...t){const n=[],i=new Set;let a;return A(t,c=>{const g=c;el(g,n,[],i)&&(a||(a=[]),a.push(g))}),void 0!==a&&xd(a,n),n}function xd(e,t){for(let n=0;n<e.length;n++){const{providers:a}=e[n];tl(a,c=>{t.push(c)})}}function el(e,t,n,i){if(!(e=bt(e)))return!1;let a=null,c=_r(e);const g=!c&&_e(e);if(c||g){if(g&&!g.standalone)return!1;a=e}else{const I=e.ngModule;if(c=_r(I),!c)return!1;a=I}const D=i.has(a);if(g){if(D)return!1;if(i.add(a),g.dependencies){const I="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const G of I)el(G,t,n,i)}}else{if(!c)return!1;{if(null!=c.imports&&!D){let G;i.add(a);try{A(c.imports,se=>{el(se,t,n,i)&&(G||(G=[]),G.push(se))})}finally{}void 0!==G&&xd(G,t)}if(!D){const G=Si(a)||(()=>new a);t.push({provide:a,useFactory:G,deps:R},{provide:Dd,useValue:a,multi:!0},{provide:Xu,useValue:()=>Fe(a),multi:!0})}const I=c.providers;null==I||D||tl(I,se=>{t.push(se)})}}return a!==e&&void 0!==e.providers}function tl(e,t){for(let n of e)St(n)&&(n=n.\u0275providers),Array.isArray(n)?tl(n,t):t(n)}const rv=ge({provide:String,useValue:ge});function nl(e){return null!==e&&"object"==typeof e&&rv in e}function Io(e){return"function"==typeof e}const rl=new Vn("Set Injector scope."),za={},sv={};let il;function Ga(){return void 0===il&&(il=new Cd),il}class Fo{}class Fd extends Fo{get destroyed(){return this._destroyed}constructor(t,n,i,a){super(),this.parent=n,this.source=i,this.scopes=a,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ol(t,g=>this.processProvider(g)),this.records.set(bd,Ho(void 0,this)),a.has("environment")&&this.records.set(Fo,Ho(void 0,this));const c=this.records.get(rl);null!=c&&"string"==typeof c.value&&this.scopes.add(c.value),this.injectorDefTypes=new Set(this.get(Dd.multi,R,At.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=yt(this),i=Dt(void 0);try{return t()}finally{yt(n),Dt(i)}}get(t,n=Tr,i=At.Default){this.assertNotDestroyed(),i=Tn(i);const a=yt(this),c=Dt(void 0);try{if(!(i&At.SkipSelf)){let D=this.records.get(t);if(void 0===D){const I=function cv(e){return"function"==typeof e||"object"==typeof e&&e instanceof Vn}(t)&&Ve(t);D=I&&this.injectableDefInScope(I)?Ho(sl(t),za):null,this.records.set(t,D)}if(null!=D)return this.hydrate(t,D)}return(i&At.Self?Ga():this.parent).get(t,n=i&At.Optional&&n===Tr?null:n)}catch(g){if("NullInjectorError"===g.name){if((g[jr]=g[jr]||[]).unshift(We(t)),a)throw g;return function ar(e,t,n,i){const a=e[jr];throw t[Kr]&&a.unshift(t[Kr]),e.message=function Wr(e,t,n,i=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==ti?e.slice(2):e;let a=We(t);if(Array.isArray(t))a=t.map(We).join(" -> ");else if("object"==typeof t){let c=[];for(let g in t)if(t.hasOwnProperty(g)){let D=t[g];c.push(g+":"+("string"==typeof D?JSON.stringify(D):We(D)))}a=`{${c.join(", ")}}`}return`${n}${i?"("+i+")":""}[${a}]: ${e.replace(_i,"\n  ")}`}("\n"+e.message,a,n,i),e[zn]=a,e[jr]=null,e}(g,t,"R3InjectorError",this.source)}throw g}finally{Dt(c),yt(a)}}resolveInjectorInitializers(){const t=yt(this),n=Dt(void 0);try{const i=this.get(Xu.multi,R,At.Self);for(const a of i)a()}finally{yt(t),Dt(n)}}toString(){const t=[],n=this.records;for(const i of n.keys())t.push(We(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new be(205,!1)}processProvider(t){let n=Io(t=bt(t))?t:bt(t&&t.provide);const i=function av(e){return nl(e)?Ho(void 0,e.useValue):Ho(Md(e),za)}(t);if(Io(t)||!0!==t.multi)this.records.get(n);else{let a=this.records.get(n);a||(a=Ho(void 0,za,!0),a.factory=()=>Hn(a.multi),this.records.set(n,a)),n=t,a.multi.push(t)}this.records.set(n,i)}hydrate(t,n){return n.value===za&&(n.value=sv,n.value=n.factory()),"object"==typeof n.value&&n.value&&function lv(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=bt(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function sl(e){const t=Ve(e),n=null!==t?t.factory:Si(e);if(null!==n)return n;if(e instanceof Vn)throw new be(204,!1);if(e instanceof Function)return function ov(e){const t=e.length;if(t>0)throw le(t,"?"),new be(204,!1);const n=function yn(e){const t=e&&(e[oe]||e[gt]);return t?(function On(e){if(e.hasOwnProperty("name"))return e.name;(""+e).match(/^function\s*([^\s(]+)/)}(e),t):null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new be(204,!1)}function Md(e,t,n){let i;if(Io(e)){const a=bt(e);return Si(a)||sl(a)}if(nl(e))i=()=>bt(e.useValue);else if(function Id(e){return!(!e||!e.useFactory)}(e))i=()=>e.useFactory(...Hn(e.deps||[]));else if(function Td(e){return!(!e||!e.useExisting)}(e))i=()=>Fe(bt(e.useExisting));else{const a=bt(e&&(e.useClass||e.provide));if(!function uv(e){return!!e.deps}(e))return Si(a)||sl(a);i=()=>new a(...Hn(e.deps))}return i}function Ho(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function ol(e,t){for(const n of e)Array.isArray(n)?ol(n,t):n&&St(n)?ol(n.\u0275providers,t):t(n)}class dv{}class Pd{}class fv{resolveComponentFactory(t){throw function hv(e){const t=Error(`No component factory found for ${We(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let va=(()=>{class e{}return e.NULL=new fv,e})();function pv(){return Vo(wr(),nt())}function Vo(e,t){return new ya(h(e,t))}let ya=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=pv,e})();function gv(e){return e instanceof ya?e.nativeElement:e}class Od{}let mv=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function vv(){const e=nt(),n=Qr(wr().index,e);return(Gr(n)?n:e)[Ln]}(),e})(),yv=(()=>{class e{}return e.\u0275prov=Jn({token:e,providedIn:"root",factory:()=>null}),e})();class Nd{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const _v=new Nd("15.2.4"),al={},ul="ngOriginalError";function ll(e){return e[ul]}class _a{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&ll(t);for(;n&&ll(n);)n=ll(n);return n||null}}function kd(e){return e.ownerDocument.defaultView}function wo(e){return e instanceof Function?e():e}function Bd(e,t,n){let i=e.length;for(;;){const a=e.indexOf(t,n);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const c=t.length;if(a+c===i||e.charCodeAt(a+c)<=32)return a}n=a+1}}const Hd="ng-template";function Iv(e,t,n){let i=0,a=!0;for(;i<e.length;){let c=e[i++];if("string"==typeof c&&a){const g=e[i++];if(n&&"class"===c&&-1!==Bd(g.toLowerCase(),t,0))return!0}else{if(1===c){for(;i<e.length&&"string"==typeof(c=e[i++]);)if(c.toLowerCase()===t)return!0;return!1}"number"==typeof c&&(a=!1)}}return!1}function Vd(e){return 4===e.type&&e.value!==Hd}function Fv(e,t,n){return t===(4!==e.type||n?e.value:Hd)}function Mv(e,t,n){let i=4;const a=e.attrs||[],c=function Ov(e){for(let t=0;t<e.length;t++)if(f(e[t]))return t;return e.length}(a);let g=!1;for(let D=0;D<t.length;D++){const I=t[D];if("number"!=typeof I){if(!g)if(4&i){if(i=2|1&i,""!==I&&!Fv(e,I,n)||""===I&&1===t.length){if(Qs(i))return!1;g=!0}}else{const G=8&i?I:t[++D];if(8&i&&null!==e.attrs){if(!Iv(e.attrs,G,n)){if(Qs(i))return!1;g=!0}continue}const Se=Pv(8&i?"class":I,a,Vd(e),n);if(-1===Se){if(Qs(i))return!1;g=!0;continue}if(""!==G){let He;He=Se>c?"":a[Se+1].toLowerCase();const at=8&i?He:null;if(at&&-1!==Bd(at,G,0)||2&i&&G!==He){if(Qs(i))return!1;g=!0}}}}else{if(!g&&!Qs(i)&&!Qs(I))return!1;if(g&&Qs(I))continue;g=!1,i=I|1&i}}return Qs(i)||g}function Qs(e){return 0==(1&e)}function Pv(e,t,n,i){if(null===t)return-1;let a=0;if(i||!n){let c=!1;for(;a<t.length;){const g=t[a];if(g===e)return a;if(3===g||6===g)c=!0;else{if(1===g||2===g){let D=t[++a];for(;"string"==typeof D;)D=t[++a];continue}if(4===g)break;if(0===g){a+=4;continue}}a+=c?1:2}return-1}return function Nv(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function jd(e,t,n=!1){for(let i=0;i<t.length;i++)if(Mv(e,t[i],n))return!0;return!1}function kv(e,t){e:for(let n=0;n<t.length;n++){const i=t[n];if(e.length===i.length){for(let a=0;a<e.length;a++)if(e[a]!==i[a])continue e;return!0}}return!1}function Ud(e,t){return e?":not("+t.trim()+")":t}function Lv(e){let t=e[0],n=1,i=2,a="",c=!1;for(;n<e.length;){let g=e[n];if("string"==typeof g)if(2&i){const D=e[++n];a+="["+g+(D.length>0?'="'+D+'"':"")+"]"}else 8&i?a+="."+g:4&i&&(a+=" "+g);else""!==a&&!Qs(g)&&(t+=Ud(c,a),a=""),i=g,c=c||!Qs(i);n++}return""!==a&&(t+=Ud(c,a)),t}const dr={};function $d(e){Kd(In(),nt(),en()+e,!1)}function Kd(e,t,n,i){if(!i)if(3==(3&t[Sn])){const c=e.preOrderCheckHooks;null!==c&&re(t,c,n)}else{const c=e.preOrderHooks;null!==c&&ne(t,c,0,n)}er(n)}function qd(e,t=null,n=null,i){const a=Yd(e,t,n,i);return a.resolveInjectorInitializers(),a}function Yd(e,t=null,n=null,i,a=new Set){const c=[n||R,nv(e)];return i=i||("object"==typeof e?void 0:We(e)),new Fd(c,t||Ga(),i||null,a)}let Mo=(()=>{class e{static create(n,i){if(Array.isArray(n))return qd({name:""},i,n,"");{const a=n.name??"";return qd({name:a},n.parent,n.providers,a)}}}return e.THROW_IF_NOT_FOUND=Tr,e.NULL=new Cd,e.\u0275prov=Jn({token:e,providedIn:"any",factory:()=>Fe(bd)}),e.__NG_ELEMENT_ID__=-1,e})();function $o(e,t=At.Default){const n=nt();return null===n?Fe(e,t):Te(wr(),n,bt(e),t)}function nh(){throw new Error("invalid")}function rh(e,t){const n=e.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const c=n[i+1];if(-1!==c){const g=e.data[c];q(n[i]),g.contentQueries(2,t[c],c)}}}function qa(e,t,n,i,a,c,g,D,I,G,se){const Se=t.blueprint.slice();return Se[ur]=a,Se[Sn]=76|i,(null!==se||e&&1024&e[Sn])&&(Se[Sn]|=1024),Ki(Se),Se[Xn]=Se[Jr]=e,Se[vr]=n,Se[Bi]=g||e&&e[Bi],Se[Ln]=D||e&&e[Ln],Se[Ws]=I||e&&e[Ws]||null,Se[Ei]=G||e&&e[Ei]||null,Se[zr]=c,Se[Pi]=function nm(){return tm++}(),Se[es]=se,Se[pr]=2==t.type?e[pr]:Se,Se}function Ko(e,t,n,i,a){let c=e.data[t];if(null===c)c=function pl(e,t,n,i,a){const c=ds(),g=Fs(),I=e.data[t]=function c0(e,t,n,i,a,c){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:a,attrs:c,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?c:c&&c.parent,n,t,i,a);return null===e.firstChild&&(e.firstChild=I),null!==c&&(g?null==c.child&&null!==I.parent&&(c.child=I):null===c.next&&(c.next=I,I.prev=c)),I}(e,t,n,i,a),function Os(){return bn.lFrame.inI18n}()&&(c.flags|=32);else if(64&c.type){c.type=n,c.value=i,c.attrs=a;const g=function Qi(){const e=bn.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();c.injectorIndex=null===g?-1:g.injectorIndex}return ui(c,!0),c}function Ea(e,t,n,i){if(0===n)return-1;const a=t.length;for(let c=0;c<n;c++)t.push(i),e.blueprint.push(i),e.data.push(null);return a}function gl(e,t,n){k(t);try{const i=e.viewQuery;null!==i&&Cl(1,i,n);const a=e.template;null!==a&&ih(e,t,a,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&rh(e,t),e.staticViewQueries&&Cl(2,e.viewQuery,n);const c=e.components;null!==c&&function a0(e,t){for(let n=0;n<t.length;n++)I0(e,t[n])}(t,c)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[Sn]&=-5,lt()}}function Ya(e,t,n,i){const a=t[Sn];if(128!=(128&a)){k(t);try{Ki(t),function Ps(e){return bn.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&ih(e,t,n,2,i);const g=3==(3&a);if(g){const G=e.preOrderCheckHooks;null!==G&&re(t,G,null)}else{const G=e.preOrderHooks;null!==G&&ne(t,G,0,null),$e(t,0)}if(function x0(e){for(let t=Nu(e);null!==t;t=ku(t)){if(!t[Ri])continue;const n=t[wi];for(let i=0;i<n.length;i++){const a=n[i];512&a[Sn]||Ni(a[Xn],1),a[Sn]|=512}}}(t),function A0(e){for(let t=Nu(e);null!==t;t=ku(t))for(let n=Hr;n<t.length;n++){const i=t[n],a=i[zt];Zi(i)&&Ya(a,i,a.template,i[vr])}}(t),null!==e.contentQueries&&rh(e,t),g){const G=e.contentCheckHooks;null!==G&&re(t,G)}else{const G=e.contentHooks;null!==G&&ne(t,G,1),$e(t,1)}!function s0(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let i=0;i<n.length;i++){const a=n[i];if(a<0)er(~a);else{const c=a,g=n[++i],D=n[++i];oo(g,c),D(2,t[c])}}}finally{er(-1)}}(e,t);const D=e.components;null!==D&&function o0(e,t){for(let n=0;n<t.length;n++)T0(e,t[n])}(t,D);const I=e.viewQuery;if(null!==I&&Cl(2,I,i),g){const G=e.viewCheckHooks;null!==G&&re(t,G)}else{const G=e.viewHooks;null!==G&&ne(t,G,2),$e(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Sn]&=-41,512&t[Sn]&&(t[Sn]&=-513,Ni(t[Xn],-1))}finally{lt()}}}function ih(e,t,n,i,a){const c=en(),g=2&i;try{er(-1),g&&t.length>Ar&&Kd(e,t,Ar,!1),di(g?2:0,a),n(i,a)}finally{er(c),di(g?3:1,a)}}function ml(e,t,n){if(Oi(t)){const a=t.directiveEnd;for(let c=t.directiveStart;c<a;c++){const g=e.data[c];g.contentQueries&&g.contentQueries(1,n[c],c)}}}function vl(e,t,n){F()&&(function m0(e,t,n,i){const a=n.directiveStart,c=n.directiveEnd;Vi(n)&&function b0(e,t,n){const i=h(t,e),a=sh(n),c=e[Bi],g=Ja(e,qa(e,a,null,n.onPush?32:16,i,t,c,c.createRenderer(i,n),null,null,null));e[t.index]=g}(t,n,e.data[a+n.componentOffset]),e.firstCreatePass||fe(n,t),os(i,t);const g=n.initialInputs;for(let D=a;D<c;D++){const I=e.data[D],G=Le(t,e,D,n);os(G,t),null!==g&&D0(0,D-a,G,I,0,g),ri(I)&&(Qr(n.index,t)[vr]=Le(t,e,D,n))}}(e,t,n,h(n,t)),64==(64&n.flags)&&dh(e,t,n))}function yl(e,t,n=h){const i=t.localNames;if(null!==i){let a=t.index+1;for(let c=0;c<i.length;c+=2){const g=i[c+1],D=-1===g?n(t,e):e[g];e[a++]=D}}}function sh(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=_l(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function _l(e,t,n,i,a,c,g,D,I,G){const se=Ar+i,Se=se+a,He=function u0(e,t){const n=[];for(let i=0;i<t;i++)n.push(i<e?null:dr);return n}(se,Se),at="function"==typeof G?G():G;return He[zt]={type:e,blueprint:He,template:n,queries:null,viewQuery:D,declTNode:t,data:He.slice().fill(null,se),bindingStartIndex:se,expandoStartIndex:Se,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof c?c():c,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:I,consts:at,incompleteFirstPass:!1}}function oh(e,t,n,i){const a=fh(t);null===n?a.push(i):(a.push(n),e.firstCreatePass&&ph(e).push(i,a.length-1))}function ah(e,t,n,i){for(let a in e)if(e.hasOwnProperty(a)){n=null===n?{}:n;const c=e[a];null===i?uh(n,t,a,c):i.hasOwnProperty(a)&&uh(n,t,i[a],c)}return n}function uh(e,t,n,i){e.hasOwnProperty(n)?e[n].push(t,i):e[n]=[t,i]}function Hs(e,t,n,i,a,c,g,D){const I=h(t,n);let se,G=t.inputs;!D&&null!=G&&(se=G[i])?(Al(e,n,se,i,a),Vi(t)&&lh(n,t.index)):3&t.type&&(i=function h0(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(i),a=null!=g?g(a,t.value||"",i):a,c.setProperty(I,i,a))}function lh(e,t){const n=Qr(t,e);16&n[Sn]||(n[Sn]|=32)}function El(e,t,n,i){if(F()){const a=null===i?null:{"":-1},c=function y0(e,t){const n=e.directiveRegistry;let i=null,a=null;if(n)for(let c=0;c<n.length;c++){const g=n[c];if(jd(t,g.selectors,!1))if(i||(i=[]),ri(g))if(null!==g.findHostDirectiveDefs){const D=[];a=a||new Map,g.findHostDirectiveDefs(g,D,a),i.unshift(...D,g),wl(e,t,D.length)}else i.unshift(g),wl(e,t,0);else a=a||new Map,g.findHostDirectiveDefs?.(g,i,a),i.push(g)}return null===i?null:[i,a]}(e,n);let g,D;null===c?g=D=null:[g,D]=c,null!==g&&ch(e,t,n,g,a,D),a&&function _0(e,t,n){if(t){const i=e.localNames=[];for(let a=0;a<t.length;a+=2){const c=n[t[a+1]];if(null==c)throw new be(-301,!1);i.push(t[a],c)}}}(n,i,a)}n.mergedAttrs=m(n.mergedAttrs,n.attrs)}function ch(e,t,n,i,a,c){for(let G=0;G<i.length;G++)W(fe(n,t),e,i[G].type);!function w0(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,i.length);for(let G=0;G<i.length;G++){const se=i[G];se.providersResolver&&se.providersResolver(se)}let g=!1,D=!1,I=Ea(e,t,i.length,null);for(let G=0;G<i.length;G++){const se=i[G];n.mergedAttrs=m(n.mergedAttrs,se.hostAttrs),S0(e,n,t,I,se),E0(I,se,a),null!==se.contentQueries&&(n.flags|=4),(null!==se.hostBindings||null!==se.hostAttrs||0!==se.hostVars)&&(n.flags|=64);const Se=se.type.prototype;!g&&(Se.ngOnChanges||Se.ngOnInit||Se.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),g=!0),!D&&(Se.ngOnChanges||Se.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),D=!0),I++}!function d0(e,t,n){const a=t.directiveEnd,c=e.data,g=t.attrs,D=[];let I=null,G=null;for(let se=t.directiveStart;se<a;se++){const Se=c[se],He=n?n.get(Se):null,Rt=He?He.outputs:null;I=ah(Se.inputs,se,I,He?He.inputs:null),G=ah(Se.outputs,se,G,Rt);const Yt=null===I||null===g||Vd(t)?null:C0(I,se,g);D.push(Yt)}null!==I&&(I.hasOwnProperty("class")&&(t.flags|=8),I.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=D,t.inputs=I,t.outputs=G}(e,n,c)}function dh(e,t,n){const i=n.directiveStart,a=n.directiveEnd,c=n.index,g=function Es(){return bn.lFrame.currentDirectiveIndex}();try{er(c);for(let D=i;D<a;D++){const I=e.data[D],G=t[D];ss(D),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&v0(I,G)}}finally{er(-1),ss(g)}}function v0(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function wl(e,t,n){t.componentOffset=n,(e.components||(e.components=[])).push(t.index)}function E0(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;ri(t)&&(n[""]=e)}}function S0(e,t,n,i,a){e.data[i]=a;const c=a.factory||(a.factory=Si(a.type)),g=new sr(c,ri(a),$o);e.blueprint[i]=g,n[i]=g,function p0(e,t,n,i,a){const c=a.hostBindings;if(c){let g=e.hostBindingOpCodes;null===g&&(g=e.hostBindingOpCodes=[]);const D=~t.index;(function g0(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(g)!=D&&g.push(D),g.push(n,i,c)}}(e,t,i,Ea(e,n,a.hostVars,dr),a)}function fo(e,t,n,i,a,c){const g=h(e,t);!function Sl(e,t,n,i,a,c,g){if(null==c)e.removeAttribute(t,a,n);else{const D=null==g?et(c):g(c,i||"",a);e.setAttribute(t,a,D,n)}}(t[Ln],g,c,e.value,n,i,a)}function D0(e,t,n,i,a,c){const g=c[t];if(null!==g){const D=i.setInput;for(let I=0;I<g.length;){const G=g[I++],se=g[I++],Se=g[I++];null!==D?i.setInput(n,Se,G,se):n[se]=Se}}}function C0(e,t,n){let i=null,a=0;for(;a<n.length;){const c=n[a];if(0!==c)if(5!==c){if("number"==typeof c)break;if(e.hasOwnProperty(c)){null===i&&(i=[]);const g=e[c];for(let D=0;D<g.length;D+=2)if(g[D]===t){i.push(c,g[D+1],n[a+1]);break}}a+=2}else a+=2;else a+=4}return i}function hh(e,t,n,i){return[e,!0,!1,t,null,0,i,n,null,null]}function T0(e,t){const n=Qr(t,e);if(Zi(n)){const i=n[zt];48&n[Sn]?Ya(i,n,i.template,n[vr]):n[br]>0&&bl(n)}}function bl(e){for(let i=Nu(e);null!==i;i=ku(i))for(let a=Hr;a<i.length;a++){const c=i[a];if(Zi(c))if(512&c[Sn]){const g=c[zt];Ya(g,c,g.template,c[vr])}else c[br]>0&&bl(c)}const n=e[zt].components;if(null!==n)for(let i=0;i<n.length;i++){const a=Qr(n[i],e);Zi(a)&&a[br]>0&&bl(a)}}function I0(e,t){const n=Qr(t,e),i=n[zt];(function F0(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(i,n),gl(i,n,n[vr])}function Ja(e,t){return e[Hi]?e[Xi][Sr]=t:e[Hi]=t,e[Xi]=t,t}function Dl(e){for(;e;){e[Sn]|=32;const t=ha(e);if(Vs(e)&&!t)return e;e=t}return null}function Za(e,t,n,i=!0){const a=t[Bi];a.begin&&a.begin();try{Ya(e,t,e.template,n)}catch(g){throw i&&mh(t,g),g}finally{a.end&&a.end()}}function Cl(e,t,n){q(0),t(e,n)}function fh(e){return e[gi]||(e[gi]=[])}function ph(e){return e.cleanup||(e.cleanup=[])}function mh(e,t){const n=e[Ei],i=n?n.get(_a,null):null;i&&i.handleError(t)}function Al(e,t,n,i,a){for(let c=0;c<n.length;){const g=n[c++],D=n[c++],I=t[g],G=e.data[g];null!==G.setInput?G.setInput(I,a,i,D):I[D]=a}}function So(e,t,n){const i=Ut(t,e);!function Yc(e,t,n){e.setValue(t,n)}(e[Ln],i,n)}function Qa(e,t,n){let i=n?e.styles:null,a=n?e.classes:null,c=0;if(null!==t)for(let g=0;g<t.length;g++){const D=t[g];"number"==typeof D?c=D:1==c?a=Tt(a,D):2==c&&(i=Tt(i,D+": "+t[++g]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=a:e.classesWithoutHost=a}function Xa(e,t,n,i,a=!1){for(;null!==n;){const c=t[n.index];if(null!==c&&i.push(qr(c)),mn(c))for(let D=Hr;D<c.length;D++){const I=c[D],G=I[zt].firstChild;null!==G&&Xa(I[zt],I,G,i)}const g=n.type;if(8&g)Xa(e,t,n.child,i);else if(32&g){const D=Ou(n,t);let I;for(;I=D();)i.push(I)}else if(16&g){const D=od(t,n);if(Array.isArray(D))i.push(...D);else{const I=ha(t[pr]);Xa(I[zt],I,D,i,!0)}}n=a?n.projectionNext:n.next}return i}class wa{get rootNodes(){const t=this._lView,n=t[zt];return Xa(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[vr]}set context(t){this._lView[vr]=t}get destroyed(){return 128==(128&this._lView[Sn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Xn];if(mn(t)){const n=t[ms],i=n?n.indexOf(this):-1;i>-1&&(Hu(t,i),ie(n,i))}this._attachedToViewContainer=!1}Zc(this._lView[zt],this._lView)}onDestroy(t){oh(this._lView[zt],this._lView,null,t)}markForCheck(){Dl(this._cdRefInjectingView||this._lView)}detach(){this._lView[Sn]&=-65}reattach(){this._lView[Sn]|=64}detectChanges(){Za(this._lView[zt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function vm(e,t){fa(e,t,t[Ln],2,null,null)}(this._lView[zt],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new be(902,!1);this._appRef=t}}class M0 extends wa{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Za(t[zt],t,t[vr],!1)}checkNoChanges(){}get context(){return null}}class vh extends va{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=_e(t);return new Sa(n,this.ngModule)}}function yh(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class R0{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,i){i=Tn(i);const a=this.injector.get(t,al,i);return a!==al||n===al?a:this.parentInjector.get(t,n,i)}}class Sa extends Pd{get inputs(){return yh(this.componentDef.inputs)}get outputs(){return yh(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function Bv(e){return e.map(Lv).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,i,a){let c=(a=a||this.ngModule)instanceof Fo?a:a?.injector;c&&null!==this.componentDef.getStandaloneInjector&&(c=this.componentDef.getStandaloneInjector(c)||c);const g=c?new R0(t,c):t,D=g.get(Od,null);if(null===D)throw new be(407,!1);const I=g.get(yv,null),G=D.createRenderer(null,this.componentDef),se=this.componentDef.selectors[0][0]||"div",Se=i?function l0(e,t,n){return e.selectRootElement(t,n===Y.ShadowDom)}(G,i,this.componentDef.encapsulation):Bu(G,se,function P0(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(se)),He=this.componentDef.onPush?288:272,at=_l(0,null,null,1,0,null,null,null,null,null),Rt=qa(null,at,null,He,null,null,D,G,I,g,null);let Yt,fn;k(Rt);try{const xn=this.componentDef;let jn,Gt=null;xn.findHostDirectiveDefs?(jn=[],Gt=new Map,xn.findHostDirectiveDefs(xn,jn,Gt),jn.push(xn)):jn=[xn];const or=function N0(e,t){const n=e[zt],i=Ar;return e[i]=t,Ko(n,i,2,"#host",null)}(Rt,Se),pi=function k0(e,t,n,i,a,c,g,D){const I=a[zt];!function L0(e,t,n,i){for(const a of e)t.mergedAttrs=m(t.mergedAttrs,a.hostAttrs);null!==t.mergedAttrs&&(Qa(t,t.mergedAttrs,!0),null!==n&&ld(i,n,t))}(i,e,t,g);const G=c.createRenderer(t,n),se=qa(a,sh(n),null,n.onPush?32:16,a[e.index],e,c,G,D||null,null,null);return I.firstCreatePass&&wl(I,e,i.length-1),Ja(a,se),a[e.index]=se}(or,Se,xn,jn,Rt,D,G);fn=Ji(at,Ar),Se&&function H0(e,t,n,i){if(i)l(e,n,["ng-version",_v.full]);else{const{attrs:a,classes:c}=function Hv(e){const t=[],n=[];let i=1,a=2;for(;i<e.length;){let c=e[i];if("string"==typeof c)2===a?""!==c&&t.push(c,e[++i]):8===a&&n.push(c);else{if(!Qs(a))break;a=c}i++}return{attrs:t,classes:n}}(t.selectors[0]);a&&l(e,n,a),c&&c.length>0&&ud(e,n,c.join(" "))}}(G,xn,Se,i),void 0!==n&&function V0(e,t,n){const i=e.projection=[];for(let a=0;a<t.length;a++){const c=n[a];i.push(null!=c?Array.from(c):null)}}(fn,this.ngContentSelectors,n),Yt=function B0(e,t,n,i,a,c){const g=wr(),D=a[zt],I=h(g,a);ch(D,a,g,n,null,i);for(let se=0;se<n.length;se++)os(Le(a,D,g.directiveStart+se,g),a);dh(D,a,g),I&&os(I,a);const G=Le(a,D,g.directiveStart+g.componentOffset,g);if(e[vr]=a[vr]=G,null!==c)for(const se of c)se(G,t);return ml(D,g,e),G}(pi,xn,jn,Gt,Rt,[j0]),gl(at,Rt,null)}finally{lt()}return new O0(this.componentType,Yt,Vo(fn,Rt),Rt,fn)}}class O0 extends dv{constructor(t,n,i,a,c){super(),this.location=i,this._rootLView=a,this._tNode=c,this.instance=n,this.hostView=this.changeDetectorRef=new M0(a),this.componentType=t}setInput(t,n){const i=this._tNode.inputs;let a;if(null!==i&&(a=i[t])){const c=this._rootLView;Al(c[zt],c,a,t,n),lh(c,this._tNode.index)}}get injector(){return new Mn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function j0(){const e=wr();M(nt()[zt],e)}function xl(e){let t=function _h(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const i=[e];for(;t;){let a;if(ri(e))a=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new be(903,!1);a=t.\u0275dir}if(a){if(n){i.push(a);const g=e;g.inputs=Tl(e.inputs),g.declaredInputs=Tl(e.declaredInputs),g.outputs=Tl(e.outputs);const D=a.hostBindings;D&&z0(e,D);const I=a.viewQuery,G=a.contentQueries;if(I&&$0(e,I),G&&K0(e,G),xe(e.inputs,a.inputs),xe(e.declaredInputs,a.declaredInputs),xe(e.outputs,a.outputs),ri(a)&&a.data.animation){const se=e.data;se.animation=(se.animation||[]).concat(a.data.animation)}}const c=a.features;if(c)for(let g=0;g<c.length;g++){const D=c[g];D&&D.ngInherit&&D(e),D===xl&&(n=!1)}}t=Object.getPrototypeOf(t)}!function U0(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){const a=e[i];a.hostVars=t+=a.hostVars,a.hostAttrs=m(a.hostAttrs,n=m(n,a.hostAttrs))}}(i)}function Tl(e){return e===ae?{}:e===R?[]:e}function $0(e,t){const n=e.viewQuery;e.viewQuery=n?(i,a)=>{t(i,a),n(i,a)}:t}function K0(e,t){const n=e.contentQueries;e.contentQueries=n?(i,a,c)=>{t(i,a,c),n(i,a,c)}:t}function z0(e,t){const n=e.hostBindings;e.hostBindings=n?(i,a)=>{t(i,a),n(i,a)}:t}function eu(e){return!!Il(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Il(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function po(e,t,n){return e[t]=n}function as(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Po(e,t,n,i){const a=as(e,t,n);return as(e,t+1,i)||a}function Fl(e,t,n,i){const a=nt();return as(a,Rs(),t)&&(In(),fo(An(),a,e,t,n,i)),Fl}function Go(e,t,n,i){return as(e,Rs(),n)?t+et(n)+i:dr}function Wo(e,t,n,i,a,c){const D=Po(e,function zi(){return bn.lFrame.bindingIndex}(),n,a);return Gi(2),D?t+et(n)+i+et(a)+c:dr}function Ph(e,t,n,i,a,c,g,D){const I=nt(),G=In(),se=e+Ar,Se=G.firstCreatePass?function ty(e,t,n,i,a,c,g,D,I){const G=t.consts,se=Ko(t,e,4,g||null,$i(G,D));El(t,n,se,$i(G,I)),M(t,se);const Se=se.tView=_l(2,se,i,a,c,t.directiveRegistry,t.pipeRegistry,null,t.schemas,G);return null!==t.queries&&(t.queries.template(t,se),Se.queries=t.queries.embeddedTView(se)),se}(se,G,I,t,n,i,a,c,g):G.data[se];ui(Se,!1);const He=I[Ln].createComment("");Va(G,I,He,Se),os(He,I),Ja(I,I[se]=hh(He,I,He,Se)),vs(Se)&&vl(G,I,Se),null!=g&&yl(I,Se,D)}function Rh(e){return Ii(function kr(){return bn.lFrame.contextLView}(),Ar+e)}function Ml(e,t,n){const i=nt();return as(i,Rs(),t)&&Hs(In(),An(),i,e,t,i[Ln],n,!1),Ml}function Pl(e,t,n,i,a){const g=a?"class":"style";Al(e,n,t.inputs[g],g,i)}function nu(e,t,n,i){const a=nt(),c=In(),g=Ar+e,D=a[Ln],I=c.firstCreatePass?function ry(e,t,n,i,a,c){const g=t.consts,I=Ko(t,e,2,i,$i(g,a));return El(t,n,I,$i(g,c)),null!==I.attrs&&Qa(I,I.attrs,!1),null!==I.mergedAttrs&&Qa(I,I.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,I),I}(g,c,a,t,n,i):c.data[g],G=a[g]=Bu(D,t,function C(){return bn.lFrame.currentNamespace}()),se=vs(I);return ui(I,!0),ld(D,G,I),32!=(32&I.flags)&&Va(c,a,G,I),0===function Fi(){return bn.lFrame.elementDepthCount}()&&os(G,a),function H(){bn.lFrame.elementDepthCount++}(),se&&(vl(c,a,I),ml(c,I,a)),null!==i&&yl(a,I),nu}function ru(){let e=wr();Fs()?Ms():(e=e.parent,ui(e,!1));const t=e;!function N(){bn.lFrame.elementDepthCount--}();const n=In();return n.firstCreatePass&&(M(n,e),Oi(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function on(e){return 0!=(8&e.flags)}(t)&&Pl(n,t,nt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function r(e){return 0!=(16&e.flags)}(t)&&Pl(n,t,nt(),t.stylesWithoutHost,!1),ru}function Rl(e,t,n,i){return nu(e,t,n,i),ru(),Rl}function iu(e,t,n){const i=nt(),a=In(),c=e+Ar,g=a.firstCreatePass?function iy(e,t,n,i,a){const c=t.consts,g=$i(c,i),D=Ko(t,e,8,"ng-container",g);return null!==g&&Qa(D,g,!0),El(t,n,D,$i(c,a)),null!==t.queries&&t.queries.elementStart(t,D),D}(c,a,i,t,n):a.data[c];ui(g,!0);const D=i[c]=i[Ln].createComment("");return Va(a,i,D,g),os(D,i),vs(g)&&(vl(a,i,g),ml(a,g,i)),null!=n&&yl(i,g),iu}function su(){let e=wr();const t=In();return Fs()?Ms():(e=e.parent,ui(e,!1)),t.firstCreatePass&&(M(t,e),Oi(e)&&t.queries.elementEnd(e)),su}function Ol(e,t,n){return iu(e,t,n),su(),Ol}function Oh(){return nt()}function Nl(e){return!!e&&"function"==typeof e.then}function Nh(e){return!!e&&"function"==typeof e.subscribe}const kh=Nh;function kl(e,t,n,i){const a=nt(),c=In(),g=wr();return function Bh(e,t,n,i,a,c,g){const D=vs(i),G=e.firstCreatePass&&ph(e),se=t[vr],Se=fh(t);let He=!0;if(3&i.type||g){const Yt=h(i,t),fn=g?g(Yt):Yt,xn=Se.length,jn=g?or=>g(qr(or[i.index])):i.index;let Gt=null;if(!g&&D&&(Gt=function sy(e,t,n,i){const a=e.cleanup;if(null!=a)for(let c=0;c<a.length-1;c+=2){const g=a[c];if(g===n&&a[c+1]===i){const D=t[gi],I=a[c+2];return D.length>I?D[I]:null}"string"==typeof g&&(c+=2)}return null}(e,t,a,i.index)),null!==Gt)(Gt.__ngLastListenerFn__||Gt).__ngNextListenerFn__=c,Gt.__ngLastListenerFn__=c,He=!1;else{c=Vh(i,t,se,c,!1);const or=n.listen(fn,a,c);Se.push(c,or),G&&G.push(a,jn,xn,xn+1)}}else c=Vh(i,t,se,c,!1);const at=i.outputs;let Rt;if(He&&null!==at&&(Rt=at[a])){const Yt=Rt.length;if(Yt)for(let fn=0;fn<Yt;fn+=2){const pi=t[Rt[fn]][Rt[fn+1]].subscribe(c),xi=Se.length;Se.push(c,pi),G&&G.push(a,i.index,xi,-(xi+1))}}}(c,a,a[Ln],g,e,t,i),kl}function Hh(e,t,n,i){try{return di(6,t,n),!1!==n(i)}catch(a){return mh(e,a),!1}finally{di(7,t,n)}}function Vh(e,t,n,i,a){return function c(g){if(g===Function)return i;Dl(e.componentOffset>-1?Qr(e.index,t):t);let I=Hh(t,n,i,g),G=c.__ngNextListenerFn__;for(;G;)I=Hh(t,n,G,g)&&I,G=G.__ngNextListenerFn__;return a&&!1===I&&(g.preventDefault(),g.returnValue=!1),I}}function jh(e=1){return function It(e){return(bn.lFrame.contextLView=function ln(e,t){for(;e>0;)t=t[Jr],e--;return t}(e,bn.lFrame.contextLView))[vr]}(e)}function oy(e,t){let n=null;const i=function Rv(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let a=0;a<t.length;a++){const c=t[a];if("*"!==c){if(null===i?jd(e,c,!0):kv(i,c))return a}else n=a}return n}function Uh(e){const t=nt()[pr][zr];if(!t.projection){const i=t.projection=le(e?e.length:1,null),a=i.slice();let c=t.child;for(;null!==c;){const g=e?oy(c,e):0;null!==g&&(a[g]?a[g].projectionNext=c:i[g]=c,a[g]=c),c=c.next}}}function $h(e,t=0,n){const i=nt(),a=In(),c=Ko(a,Ar+e,16,null,n||null);null===c.projection&&(c.projection=t),Ms(),32!=(32&c.flags)&&function Cm(e,t,n){ad(t[Ln],0,t,n,Qc(e,n,t),nd(n.parent||t[zr],n,t))}(a,i,c)}function Ll(e,t,n){return ou(e,"",t,"",n),Ll}function ou(e,t,n,i,a){const c=nt(),g=Go(c,t,n,i);return g!==dr&&Hs(In(),An(),c,e,g,c[Ln],a,!1),ou}function au(e,t){return e<<17|t<<2}function Ao(e){return e>>17&32767}function Bl(e){return 2|e}function Ro(e){return(131068&e)>>2}function Hl(e,t){return-131069&e|t<<2}function Vl(e){return 1|e}function Qh(e,t,n,i,a){const c=e[n+1],g=null===t;let D=i?Ao(c):Ro(c),I=!1;for(;0!==D&&(!1===I||g);){const se=e[D+1];hy(e[D],t)&&(I=!0,e[D+1]=i?Vl(se):Bl(se)),D=i?Ao(se):Ro(se)}I&&(e[n+1]=i?Bl(c):Vl(c))}function hy(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&hs(e,t)>=0}const Li={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Xh(e){return e.substring(Li.key,Li.keyEnd)}function ef(e,t){const n=Li.textEnd;return n===t?-1:(t=Li.keyEnd=function my(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,Li.key=t,n),ea(e,t,n))}function ea(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function jl(e,t,n){return Xs(e,t,n,!1),jl}function Ul(e,t){return Xs(e,t,null,!0),Ul}function af(e){eo(ir,mo,e,!0)}function mo(e,t){for(let n=function py(e){return function nf(e){Li.key=0,Li.keyEnd=0,Li.value=0,Li.valueEnd=0,Li.textEnd=e.length}(e),ef(e,ea(e,0,Li.textEnd))}(t);n>=0;n=ef(t,n))ir(e,Xh(t),!0)}function Xs(e,t,n,i){const a=nt(),c=In(),g=Gi(2);c.firstUpdatePass&&lf(c,e,g,i),t!==dr&&as(a,g,t)&&df(c,c.data[en()],a,a[Ln],e,a[g+1]=function Ay(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=We(Co(e)))),e}(t,n),i,g)}function eo(e,t,n,i){const a=In(),c=Gi(2);a.firstUpdatePass&&lf(a,null,c,i);const g=nt();if(n!==dr&&as(g,c,n)){const D=a.data[en()];if(ff(D,i)&&!uf(a,c)){let I=i?D.classesWithoutHost:D.stylesWithoutHost;null!==I&&(n=Tt(I,n||"")),Pl(a,D,g,n,i)}else!function Cy(e,t,n,i,a,c,g,D){a===dr&&(a=R);let I=0,G=0,se=0<a.length?a[0]:null,Se=0<c.length?c[0]:null;for(;null!==se||null!==Se;){const He=I<a.length?a[I+1]:void 0,at=G<c.length?c[G+1]:void 0;let Yt,Rt=null;se===Se?(I+=2,G+=2,He!==at&&(Rt=Se,Yt=at)):null===Se||null!==se&&se<Se?(I+=2,Rt=se):(G+=2,Rt=Se,Yt=at),null!==Rt&&df(e,t,n,i,Rt,Yt,g,D),se=I<a.length?a[I]:null,Se=G<c.length?c[G]:null}}(a,D,g,g[Ln],g[c+1],g[c+1]=function Dy(e,t,n){if(null==n||""===n)return R;const i=[],a=Co(n);if(Array.isArray(a))for(let c=0;c<a.length;c++)e(i,a[c],!0);else if("object"==typeof a)for(const c in a)a.hasOwnProperty(c)&&e(i,c,a[c]);else"string"==typeof a&&t(i,a);return i}(e,t,n),i,c)}}function uf(e,t){return t>=e.expandoStartIndex}function lf(e,t,n,i){const a=e.data;if(null===a[n+1]){const c=a[en()],g=uf(e,n);ff(c,i)&&null===t&&!g&&(t=!1),t=function Ey(e,t,n,i){const a=function Ns(e){const t=bn.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let c=i?t.residualClasses:t.residualStyles;if(null===a)0===(i?t.classBindings:t.styleBindings)&&(n=Da(n=$l(null,e,t,n,i),t.attrs,i),c=null);else{const g=t.directiveStylingLast;if(-1===g||e[g]!==a)if(n=$l(a,e,t,n,i),null===c){let I=function wy(e,t,n){const i=n?t.classBindings:t.styleBindings;if(0!==Ro(i))return e[Ao(i)]}(e,t,i);void 0!==I&&Array.isArray(I)&&(I=$l(null,e,t,I[1],i),I=Da(I,t.attrs,i),function Sy(e,t,n,i){e[Ao(n?t.classBindings:t.styleBindings)]=i}(e,t,i,I))}else c=function by(e,t,n){let i;const a=t.directiveEnd;for(let c=1+t.directiveStylingLast;c<a;c++)i=Da(i,e[c].hostAttrs,n);return Da(i,t.attrs,n)}(e,t,i)}return void 0!==c&&(i?t.residualClasses=c:t.residualStyles=c),n}(a,c,t,i),function cy(e,t,n,i,a,c){let g=c?t.classBindings:t.styleBindings,D=Ao(g),I=Ro(g);e[i]=n;let se,G=!1;if(Array.isArray(n)?(se=n[1],(null===se||hs(n,se)>0)&&(G=!0)):se=n,a)if(0!==I){const He=Ao(e[D+1]);e[i+1]=au(He,D),0!==He&&(e[He+1]=Hl(e[He+1],i)),e[D+1]=function uy(e,t){return 131071&e|t<<17}(e[D+1],i)}else e[i+1]=au(D,0),0!==D&&(e[D+1]=Hl(e[D+1],i)),D=i;else e[i+1]=au(I,0),0===D?D=i:e[I+1]=Hl(e[I+1],i),I=i;G&&(e[i+1]=Bl(e[i+1])),Qh(e,se,i,!0),Qh(e,se,i,!1),function dy(e,t,n,i,a){const c=a?e.residualClasses:e.residualStyles;null!=c&&"string"==typeof t&&hs(c,t)>=0&&(n[i+1]=Vl(n[i+1]))}(t,se,e,i,c),g=au(D,I),c?t.classBindings=g:t.styleBindings=g}(a,c,t,n,g,i)}}function $l(e,t,n,i,a){let c=null;const g=n.directiveEnd;let D=n.directiveStylingLast;for(-1===D?D=n.directiveStart:D++;D<g&&(c=t[D],i=Da(i,c.hostAttrs,a),c!==e);)D++;return null!==e&&(n.directiveStylingLast=D),i}function Da(e,t,n){const i=n?1:2;let a=-1;if(null!==t)for(let c=0;c<t.length;c++){const g=t[c];"number"==typeof g?a=g:a===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),ir(e,g,!!n||t[++c]))}return void 0===e?null:e}function df(e,t,n,i,a,c,g,D){if(!(3&t.type))return;const I=e.data,G=I[D+1],se=function ly(e){return 1==(1&e)}(G)?hf(I,t,n,a,Ro(G),g):void 0;uu(se)||(uu(c)||function ay(e){return 2==(2&e)}(G)&&(c=hf(I,null,n,a,D,g)),function xm(e,t,n,i,a){if(t)a?e.addClass(n,i):e.removeClass(n,i);else{let c=-1===i.indexOf("-")?void 0:ho.DashCase;null==a?e.removeStyle(n,i,c):("string"==typeof a&&a.endsWith("!important")&&(a=a.slice(0,-10),c|=ho.Important),e.setStyle(n,i,a,c))}}(i,g,Ut(en(),n),a,c))}function hf(e,t,n,i,a,c){const g=null===t;let D;for(;a>0;){const I=e[a],G=Array.isArray(I),se=G?I[1]:I,Se=null===se;let He=n[a+1];He===dr&&(He=Se?R:void 0);let at=Se?bi(He,i):se===i?He:void 0;if(G&&!uu(at)&&(at=bi(I,i)),uu(at)&&(D=at,g))return D;const Rt=e[a+1];a=g?Ao(Rt):Ro(Rt)}if(null!==t){let I=c?t.residualClasses:t.residualStyles;null!=I&&(D=bi(I,i))}return D}function uu(e){return void 0!==e}function ff(e,t){return 0!=(e.flags&(t?8:16))}function pf(e,t=""){const n=nt(),i=In(),a=e+Ar,c=i.firstCreatePass?Ko(i,a,1,t,null):i.data[a],g=n[a]=function Lu(e,t){return e.createText(t)}(n[Ln],t);Va(i,n,g,c),ui(c,!1)}function Kl(e){return lu("",e,""),Kl}function lu(e,t,n){const i=nt(),a=Go(i,e,t,n);return a!==dr&&So(i,en(),a),lu}function zl(e,t,n,i,a){const c=nt(),g=Wo(c,e,t,n,i,a);return g!==dr&&So(c,en(),g),zl}function Sf(e,t,n){eo(ir,mo,Go(nt(),e,t,n),!0)}const Oo=void 0;var zy=["en",[["a","p"],["AM","PM"],Oo],[["AM","PM"],Oo,Oo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Oo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Oo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Oo,"{1} 'at' {0}",Oo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ky(e){const n=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===i?1:5}];let ta={};function Gl(e){const t=function Gy(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=Nf(t);if(n)return n;const i=t.split("-")[0];if(n=Nf(i),n)return n;if("en"===i)return zy;throw new be(701,!1)}function Of(e){return Gl(e)[Yn.PluralCase]}function Nf(e){return e in ta||(ta[e]=kt.ng&&kt.ng.common&&kt.ng.common.locales&&kt.ng.common.locales[e]),ta[e]}var Yn=(()=>((Yn=Yn||{})[Yn.LocaleId=0]="LocaleId",Yn[Yn.DayPeriodsFormat=1]="DayPeriodsFormat",Yn[Yn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Yn[Yn.DaysFormat=3]="DaysFormat",Yn[Yn.DaysStandalone=4]="DaysStandalone",Yn[Yn.MonthsFormat=5]="MonthsFormat",Yn[Yn.MonthsStandalone=6]="MonthsStandalone",Yn[Yn.Eras=7]="Eras",Yn[Yn.FirstDayOfWeek=8]="FirstDayOfWeek",Yn[Yn.WeekendRange=9]="WeekendRange",Yn[Yn.DateFormat=10]="DateFormat",Yn[Yn.TimeFormat=11]="TimeFormat",Yn[Yn.DateTimeFormat=12]="DateTimeFormat",Yn[Yn.NumberSymbols=13]="NumberSymbols",Yn[Yn.NumberFormats=14]="NumberFormats",Yn[Yn.CurrencyCode=15]="CurrencyCode",Yn[Yn.CurrencySymbol=16]="CurrencySymbol",Yn[Yn.CurrencyName=17]="CurrencyName",Yn[Yn.Currencies=18]="Currencies",Yn[Yn.Directionality=19]="Directionality",Yn[Yn.PluralCase=20]="PluralCase",Yn[Yn.ExtraData=21]="ExtraData",Yn))();const na="en-US";let kf=na;function Yl(e,t,n,i,a){if(e=bt(e),Array.isArray(e))for(let c=0;c<e.length;c++)Yl(e[c],t,n,i,a);else{const c=In(),g=nt();let D=Io(e)?e:bt(e.provide),I=Md(e);const G=wr(),se=1048575&G.providerIndexes,Se=G.directiveStart,He=G.providerIndexes>>20;if(Io(e)||!e.multi){const at=new sr(I,a,$o),Rt=Zl(D,t,a?se:se+He,Se);-1===Rt?(W(fe(G,g),c,D),Jl(c,e,t.length),t.push(D),G.directiveStart++,G.directiveEnd++,a&&(G.providerIndexes+=1048576),n.push(at),g.push(at)):(n[Rt]=at,g[Rt]=at)}else{const at=Zl(D,t,se+He,Se),Rt=Zl(D,t,se,se+He),fn=Rt>=0&&n[Rt];if(a&&!fn||!a&&!(at>=0&&n[at])){W(fe(G,g),c,D);const xn=function K1(e,t,n,i,a){const c=new sr(e,n,$o);return c.multi=[],c.index=t,c.componentProviders=0,ap(c,a,i&&!n),c}(a?$1:U1,n.length,a,i,I);!a&&fn&&(n[Rt].providerFactory=xn),Jl(c,e,t.length,0),t.push(D),G.directiveStart++,G.directiveEnd++,a&&(G.providerIndexes+=1048576),n.push(xn),g.push(xn)}else Jl(c,e,at>-1?at:Rt,ap(n[a?Rt:at],I,!a&&i));!a&&i&&fn&&n[Rt].componentProviders++}}}function Jl(e,t,n,i){const a=Io(t),c=function iv(e){return!!e.useClass}(t);if(a||c){const I=(c?bt(t.useClass):t).prototype.ngOnDestroy;if(I){const G=e.destroyHooks||(e.destroyHooks=[]);if(!a&&t.multi){const se=G.indexOf(n);-1===se?G.push(n,[i,I]):G[se+1].push(i,I)}else G.push(n,I)}}}function ap(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Zl(e,t,n,i){for(let a=n;a<i;a++)if(t[a]===e)return a;return-1}function U1(e,t,n,i){return Ql(this.multi,[])}function $1(e,t,n,i){const a=this.multi;let c;if(this.providerFactory){const g=this.providerFactory.componentProviders,D=Le(n,n[zt],this.providerFactory.index,i);c=D.slice(0,g),Ql(a,c);for(let I=g;I<D.length;I++)c.push(D[I])}else c=[],Ql(a,c);return c}function Ql(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function up(e,t=[]){return n=>{n.providersResolver=(i,a)=>function j1(e,t,n){const i=In();if(i.firstCreatePass){const a=ri(e);Yl(n,i.data,i.blueprint,a,!0),Yl(t,i.data,i.blueprint,a,!1)}}(i,a?a(e):e,t)}}class ra{}class lp{}function z1(e,t){return new cp(e,t??null)}class cp extends ra{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new vh(this);const i=qe(t);this._bootstrapComponents=wo(i.bootstrap),this._r3Injector=Yd(t,n,[{provide:ra,useValue:this},{provide:va,useValue:this.componentFactoryResolver}],We(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Xl extends lp{constructor(t){super(),this.moduleType=t}create(t){return new cp(this.moduleType,t)}}class G1 extends ra{constructor(t,n,i){super(),this.componentFactoryResolver=new vh(this),this.instance=null;const a=new Fd([...t,{provide:ra,useValue:this},{provide:va,useValue:this.componentFactoryResolver}],n||Ga(),i,new Set(["environment"]));this.injector=a,a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function ec(e,t,n=null){return new G1(e,t,n).injector}let W1=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const i=Ad(0,n.type),a=i.length>0?ec([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,a)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=Jn({token:e,providedIn:"environment",factory:()=>new e(Fe(Fo))}),e})();function dp(e){e.getStandaloneInjector=t=>t.get(W1).getOrCreateStandaloneInjector(e)}function yp(e,t,n){const i=ei()+e,a=nt();return a[i]===dr?po(a,i,n?t.call(n):t()):function ba(e,t){return e[t]}(a,i)}function _p(e,t,n,i){return bp(nt(),ei(),e,t,n,i)}function Ep(e,t,n,i,a){return Dp(nt(),ei(),e,t,n,i,a)}function wp(e,t,n,i,a,c){return function Cp(e,t,n,i,a,c,g,D){const I=t+n;return function tu(e,t,n,i,a){const c=Po(e,t,n,i);return as(e,t+2,a)||c}(e,I,a,c,g)?po(e,I+3,D?i.call(D,a,c,g):i(a,c,g)):Fa(e,I+3)}(nt(),ei(),e,t,n,i,a,c)}function Sp(e,t,n,i,a,c,g){return function Ap(e,t,n,i,a,c,g,D,I){const G=t+n;return function zs(e,t,n,i,a,c){const g=Po(e,t,n,i);return Po(e,t+2,a,c)||g}(e,G,a,c,g,D)?po(e,G+4,I?i.call(I,a,c,g,D):i(a,c,g,D)):Fa(e,G+4)}(nt(),ei(),e,t,n,i,a,c,g)}function Fa(e,t){const n=e[t];return n===dr?void 0:n}function bp(e,t,n,i,a,c){const g=t+n;return as(e,g,a)?po(e,g+1,c?i.call(c,a):i(a)):Fa(e,g+1)}function Dp(e,t,n,i,a,c,g){const D=t+n;return Po(e,D,a,c)?po(e,D+2,g?i.call(g,a,c):i(a,c)):Fa(e,D+2)}function Tp(e,t){const n=In();let i;const a=e+Ar;n.firstCreatePass?(i=function a_(e,t){if(t)for(let n=t.length-1;n>=0;n--){const i=t[n];if(e===i.name)return i}}(t,n.pipeRegistry),n.data[a]=i,i.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(a,i.onDestroy)):i=n.data[a];const c=i.factory||(i.factory=Si(i.type)),g=Dt($o);try{const D=S(!1),I=c();return S(D),function ny(e,t,n,i){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=i}(n,nt(),a,I),I}finally{Dt(g)}}function Ip(e,t,n){const i=e+Ar,a=nt(),c=Ii(a,i);return Ma(a,i)?bp(a,ei(),t,c.transform,n,c):c.transform(n)}function Fp(e,t,n,i){const a=e+Ar,c=nt(),g=Ii(c,a);return Ma(c,a)?Dp(c,ei(),t,g.transform,n,i,g):g.transform(n,i)}function Ma(e,t){return e[zt].data[t].pure}function nc(e){return t=>{setTimeout(e,void 0,t)}}const vo=class d_ extends u.x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,i){let a=t,c=n||(()=>null),g=i;if(t&&"object"==typeof t){const I=t;a=I.next?.bind(I),c=I.error?.bind(I),g=I.complete?.bind(I)}this.__isAsync&&(c=nc(c),a&&(a=nc(a)),g&&(g=nc(g)));const D=super.subscribe({next:a,error:c,complete:g});return t instanceof ee.w0&&t.add(D),D}};function h_(){return this._results[Symbol.iterator]()}class rc{get changes(){return this._changes||(this._changes=new vo)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=rc.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=h_)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const i=this;i.dirty=!1;const a=function d(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function w(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let a=e[i],c=t[i];if(n&&(a=n(a),c=n(c)),c!==a)return!1}return!0}(i._results,a,n))&&(i._results=a,i.length=a.length,i.last=a[this.length-1],i.first=a[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Pa=(()=>{class e{}return e.__NG_ELEMENT_ID__=g_,e})();const f_=Pa,p_=class extends f_{constructor(t,n,i){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=i}createEmbeddedView(t,n){const i=this._declarationTContainer.tView,a=qa(this._declarationLView,i,t,16,null,i.declTNode,null,null,null,null,n||null);a[us]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[Or];return null!==g&&(a[Or]=g.createEmbeddedView(i)),gl(i,a,t),new wa(a)}};function g_(){return pu(wr(),nt())}function pu(e,t){return 4&e.type?new p_(t,e,Vo(e,t)):null}let gu=(()=>{class e{}return e.__NG_ELEMENT_ID__=m_,e})();function m_(){return Rp(wr(),nt())}const v_=gu,Mp=class extends v_{constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return Vo(this._hostTNode,this._hostLView)}get injector(){return new Mn(this._hostTNode,this._hostLView)}get parentInjector(){const t=ct(this._hostTNode,this._hostLView);if(x(t)){const n=$(t,this._hostLView),i=P(t);return new Mn(n[zt].data[i+8],n)}return new Mn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Pp(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-Hr}createEmbeddedView(t,n,i){let a,c;"number"==typeof i?a=i:null!=i&&(a=i.index,c=i.injector);const g=t.createEmbeddedView(n||{},c);return this.insert(g,a),g}createComponent(t,n,i,a,c){const g=t&&!function y(e){return"function"==typeof e}(t);let D;if(g)D=n;else{const Se=n||{};D=Se.index,i=Se.injector,a=Se.projectableNodes,c=Se.environmentInjector||Se.ngModuleRef}const I=g?t:new Sa(_e(t)),G=i||this.parentInjector;if(!c&&null==I.ngModule){const He=(g?G:this.parentInjector).get(Fo,null);He&&(c=He)}const se=I.create(G,a,void 0,c);return this.insert(se.hostView,D),se}insert(t,n){const i=t._lView,a=i[zt];if(function ys(e){return mn(e[Xn])}(i)){const se=this.indexOf(t);if(-1!==se)this.detach(se);else{const Se=i[Xn],He=new Mp(Se,Se[zr],Se[Xn]);He.detach(He.indexOf(t))}}const c=this._adjustIndex(n),g=this._lContainer;!function _m(e,t,n,i){const a=Hr+i,c=n.length;i>0&&(n[a-1][Sr]=t),i<c-Hr?(t[Sr]=n[a],j(n,Hr+i,t)):(n.push(t),t[Sr]=null),t[Xn]=n;const g=t[us];null!==g&&n!==g&&function Em(e,t){const n=e[wi];t[pr]!==t[Xn][Xn][pr]&&(e[Ri]=!0),null===n?e[wi]=[t]:n.push(t)}(g,t);const D=t[Or];null!==D&&D.insertView(e),t[Sn]|=64}(a,i,g,c);const D=Uu(c,g),I=i[Ln],G=Ha(I,g[Nr]);return null!==G&&function mm(e,t,n,i,a,c){i[ur]=a,i[zr]=t,fa(e,i,n,1,a,c)}(a,g[zr],I,i,G,D),t.attachToViewContainerRef(),j(ic(g),c,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Pp(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),i=Hu(this._lContainer,n);i&&(ie(ic(this._lContainer),n),Zc(i[zt],i))}detach(t){const n=this._adjustIndex(t,-1),i=Hu(this._lContainer,n);return i&&null!=ie(ic(this._lContainer),n)?new wa(i):null}_adjustIndex(t,n=0){return t??this.length+n}};function Pp(e){return e[ms]}function ic(e){return e[ms]||(e[ms]=[])}function Rp(e,t){let n;const i=t[e.index];if(mn(i))n=i;else{let a;if(8&e.type)a=qr(i);else{const c=t[Ln];a=c.createComment("");const g=h(e,t);To(c,Ha(c,g),a,function Dm(e,t){return e.nextSibling(t)}(c,g),!1)}t[e.index]=n=hh(i,t,a,e),Ja(t,n)}return new Mp(n,e,t)}class sc{constructor(t){this.queryList=t,this.matches=null}clone(){return new sc(this.queryList)}setDirty(){this.queryList.setDirty()}}class oc{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const i=null!==t.contentQueries?t.contentQueries[0]:n.length,a=[];for(let c=0;c<i;c++){const g=n.getByIndex(c);a.push(this.queries[g.indexInDeclarationView].clone())}return new oc(a)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==Up(t,n).matches&&this.queries[n].setDirty()}}class Op{constructor(t,n,i=null){this.predicate=t,this.flags=n,this.read=i}}class ac{constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){const a=null!==n?n.length:0,c=this.getByIndex(i).embeddedTView(t,a);c&&(c.indexInDeclarationView=i,null!==n?n.push(c):n=[c])}return null!==n?new ac(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class uc{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new uc(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==n;)i=i.parent;return n===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const i=this.metadata.predicate;if(Array.isArray(i))for(let a=0;a<i.length;a++){const c=i[a];this.matchTNodeWithReadOption(t,n,y_(n,c)),this.matchTNodeWithReadOption(t,n,Re(n,t,c,!1,!1))}else i===Pa?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Re(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(null!==i){const a=this.metadata.read;if(null!==a)if(a===ya||a===gu||a===Pa&&4&n.type)this.addMatch(n.index,-2);else{const c=Re(n,t,a,!1,!1);null!==c&&this.addMatch(n.index,c)}else this.addMatch(n.index,i)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function y_(e,t){const n=e.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function E_(e,t,n,i){return-1===n?function __(e,t){return 11&e.type?Vo(e,t):4&e.type?pu(e,t):null}(t,e):-2===n?function w_(e,t,n){return n===ya?Vo(t,e):n===Pa?pu(t,e):n===gu?Rp(t,e):void 0}(e,t,i):Le(e,e[zt],n,t)}function Np(e,t,n,i){const a=t[Or].queries[i];if(null===a.matches){const c=e.data,g=n.matches,D=[];for(let I=0;I<g.length;I+=2){const G=g[I];D.push(G<0?null:E_(t,c[G],g[I+1],n.metadata.read))}a.matches=D}return a.matches}function lc(e,t,n,i){const a=e.queries.getByIndex(n),c=a.matches;if(null!==c){const g=Np(e,t,a,n);for(let D=0;D<c.length;D+=2){const I=c[D];if(I>0)i.push(g[D/2]);else{const G=c[D+1],se=t[-I];for(let Se=Hr;Se<se.length;Se++){const He=se[Se];He[us]===He[Xn]&&lc(He[zt],He,G,i)}if(null!==se[wi]){const Se=se[wi];for(let He=0;He<Se.length;He++){const at=Se[He];lc(at[zt],at,G,i)}}}}}return i}function kp(e){const t=nt(),n=In(),i=ws();q(i+1);const a=Up(n,i);if(e.dirty&&function Xr(e){return 4==(4&e[Sn])}(t)===(2==(2&a.metadata.flags))){if(null===a.matches)e.reset([]);else{const c=a.crossesNgTemplate?lc(n,t,i,[]):Np(n,t,a,i);e.reset(c,gv),e.notifyOnChanges()}return!0}return!1}function Lp(e,t,n){const i=In();i.firstCreatePass&&(jp(i,new Op(e,t,n),-1),2==(2&t)&&(i.staticViewQueries=!0)),Vp(i,nt(),t)}function Bp(e,t,n,i){const a=In();if(a.firstCreatePass){const c=wr();jp(a,new Op(t,n,i),c.index),function b_(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(a,e),2==(2&n)&&(a.staticContentQueries=!0)}Vp(a,nt(),n)}function Hp(){return function S_(e,t){return e[Or].queries[t].queryList}(nt(),ws())}function Vp(e,t,n){const i=new rc(4==(4&n));oh(e,t,i,i.destroy),null===t[Or]&&(t[Or]=new oc),t[Or].queries.push(new sc(i))}function jp(e,t,n){null===e.queries&&(e.queries=new ac),e.queries.track(new uc(t,n))}function Up(e,t){return e.queries.getByIndex(t)}function $p(e,t){return pu(e,t)}function cc(e){return!!qe(e)}function vu(...e){}const ag=new Vn("Application Initializer");let yu=(()=>{class e{constructor(n){this.appInits=n,this.resolve=vu,this.reject=vu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,a)=>{this.resolve=i,this.reject=a})}runInitializers(){if(this.initialized)return;const n=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let a=0;a<this.appInits.length;a++){const c=this.appInits[a]();if(Nl(c))n.push(c);else if(kh(c)){const g=new Promise((D,I)=>{c.subscribe({complete:D,error:I})});n.push(g)}}Promise.all(n).then(()=>{i()}).catch(a=>{this.reject(a)}),0===n.length&&i(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(Fe(ag,8))},e.\u0275prov=Jn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const ug=new Vn("AppId",{providedIn:"root",factory:function lg(){return`${gc()}${gc()}${gc()}`}});function gc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const cg=new Vn("Platform Initializer"),$_=new Vn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),K_=new Vn("AnimationModuleType");let z_=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Jn({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const _u=new Vn("LocaleId",{providedIn:"root",factory:()=>Nt(_u,At.Optional|At.SkipSelf)||function G_(){return typeof $localize<"u"&&$localize.locale||na}()}),W_=new Vn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class q_{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let Y_=(()=>{class e{compileModuleSync(n){return new Xl(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const i=this.compileModuleSync(n),c=wo(qe(n).declarations).reduce((g,D)=>{const I=_e(D);return I&&g.push(new Sa(I)),g},[]);return new q_(i,c)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Jn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Q_=(()=>Promise.resolve(0))();function mc(e){typeof Zone>"u"?Q_.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Gs{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vo(!1),this.onMicrotaskEmpty=new vo(!1),this.onStable=new vo(!1),this.onError=new vo(!1),typeof Zone>"u")throw new be(908,!1);Zone.assertZonePatched();const a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!i&&n,a.shouldCoalesceRunChangeDetection=i,a.lastRequestAnimationFrameId=-1,a.nativeRequestAnimationFrame=function X_(){let e=kt.requestAnimationFrame,t=kt.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function nE(e){const t=()=>{!function tE(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(kt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,yc(e),e.isCheckStableRunning=!0,vc(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),yc(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,a,c,g,D)=>{try{return fg(e),n.invokeTask(a,c,g,D)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===c.type||e.shouldCoalesceRunChangeDetection)&&t(),pg(e)}},onInvoke:(n,i,a,c,g,D,I)=>{try{return fg(e),n.invoke(a,c,g,D,I)}finally{e.shouldCoalesceRunChangeDetection&&t(),pg(e)}},onHasTask:(n,i,a,c)=>{n.hasTask(a,c),i===a&&("microTask"==c.change?(e._hasPendingMicrotasks=c.microTask,yc(e),vc(e)):"macroTask"==c.change&&(e.hasPendingMacrotasks=c.macroTask))},onHandleError:(n,i,a,c)=>(n.handleError(a,c),e.runOutsideAngular(()=>e.onError.emit(c)),!1)})}(a)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Gs.isInAngularZone())throw new be(909,!1)}static assertNotInAngularZone(){if(Gs.isInAngularZone())throw new be(909,!1)}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,a){const c=this._inner,g=c.scheduleEventTask("NgZoneEvent: "+a,t,eE,vu,vu);try{return c.runTask(g,n,i)}finally{c.cancelTask(g)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}}const eE={};function vc(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function yc(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function fg(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function pg(e){e._nesting--,vc(e)}class rE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vo,this.onMicrotaskEmpty=new vo,this.onStable=new vo,this.onError=new vo}run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,a){return t.apply(n,i)}}const gg=new Vn(""),mg=new Vn("");let _c,iE=(()=>{class e{constructor(n,i,a){this._ngZone=n,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,_c||(function sE(e){_c=e}(a),a.addToWindow(i)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Gs.assertNotInAngularZone(),mc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())mc(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(n)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,a){let c=-1;i&&i>0&&(c=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==c),n(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:n,timeoutId:c,updateCb:a})}whenStable(n,i,a){if(a&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,a),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,i,a){return[]}}return e.\u0275fac=function(n){return new(n||e)(Fe(Gs),Fe(vg),Fe(mg))},e.\u0275prov=Jn({token:e,factory:e.\u0275fac}),e})(),vg=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return _c?.findTestabilityInTree(this,n,i)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Jn({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const bo=!1;let xo=null;const yg=new Vn("AllowMultipleToken"),Ec=new Vn("PlatformDestroyListeners"),_g=new Vn("appBootstrapListener");class uE{constructor(t,n){this.name=t,this.token=n}}function wg(e,t,n=[]){const i=`Platform: ${t}`,a=new Vn(i);return(c=[])=>{let g=wc();if(!g||g.injector.get(yg,!1)){const D=[...n,...c,{provide:a,useValue:!0}];e?e(D):function lE(e){if(xo&&!xo.get(yg,!1))throw new be(400,!1);xo=e;const t=e.get(bg);(function Eg(e){const t=e.get(cg,null);t&&t.forEach(n=>n())})(e)}(function Sg(e=[],t){return Mo.create({name:t,providers:[{provide:rl,useValue:"platform"},{provide:Ec,useValue:new Set([()=>xo=null])},...e]})}(D,i))}return function dE(e){const t=wc();if(!t)throw new be(401,!1);return t}()}}function wc(){return xo?.get(bg)??null}let bg=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){const a=function Cg(e,t){let n;return n="noop"===e?new rE:("zone.js"===e?void 0:e)||new Gs(t),n}(i?.ngZone,function Dg(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(i)),c=[{provide:Gs,useValue:a}];return a.run(()=>{const g=Mo.create({providers:c,parent:this.injector,name:n.moduleType.name}),D=n.create(g),I=D.injector.get(_a,null);if(!I)throw new be(402,!1);return a.runOutsideAngular(()=>{const G=a.onError.subscribe({next:se=>{I.handleError(se)}});D.onDestroy(()=>{wu(this._modules,D),G.unsubscribe()})}),function Ag(e,t,n){try{const i=n();return Nl(i)?i.catch(a=>{throw t.runOutsideAngular(()=>e.handleError(a)),a}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}(I,a,()=>{const G=D.injector.get(yu);return G.runInitializers(),G.donePromise.then(()=>(function Lf(e){Bt(e,"Expected localeId to be defined"),"string"==typeof e&&(kf=e.toLowerCase().replace(/_/g,"-"))}(D.injector.get(_u,na)||na),this._moduleDoBootstrap(D),D))})})}bootstrapModule(n,i=[]){const a=xg({},i);return function oE(e,t,n){const i=new Xl(n);return Promise.resolve(i)}(0,0,n).then(c=>this.bootstrapModuleFactory(c,a))}_moduleDoBootstrap(n){const i=n.injector.get(Eu);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(a=>i.bootstrap(a));else{if(!n.instance.ngDoBootstrap)throw new be(-403,!1);n.instance.ngDoBootstrap(i)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new be(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const n=this._injector.get(Ec,null);n&&(n.forEach(i=>i()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(Fe(Mo))},e.\u0275prov=Jn({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function xg(e,t){return Array.isArray(t)?t.reduce(xg,e):{...e,...t}}let Eu=(()=>{class e{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,i,a){this._zone=n,this._injector=i,this._exceptionHandler=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new we.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),g=new we.y(D=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{Gs.assertNotInAngularZone(),mc(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const G=this._zone.onUnstable.subscribe(()=>{Gs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{I.unsubscribe(),G.unsubscribe()}});this.isStable=(0,Ue.T)(c,g.pipe(function Xe(e={}){const{connector:t=(()=>new u.x),resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:a=!0}=e;return c=>{let g,D,I,G=0,se=!1,Se=!1;const He=()=>{D?.unsubscribe(),D=void 0},at=()=>{He(),g=I=void 0,se=Se=!1},Rt=()=>{const Yt=g;at(),Yt?.unsubscribe()};return(0,Ge.e)((Yt,fn)=>{G++,!Se&&!se&&He();const xn=I=I??t();fn.add(()=>{G--,0===G&&!Se&&!se&&(D=Ie(Rt,a))}),xn.subscribe(fn),!g&&G>0&&(g=new Je.Hp({next:jn=>xn.next(jn),error:jn=>{Se=!0,He(),D=Ie(at,n,jn),xn.error(jn)},complete:()=>{se=!0,He(),D=Ie(at,i),xn.complete()}}),(0,ve.Xf)(Yt).subscribe(g))})(c)}}()))}bootstrap(n,i){const a=n instanceof Pd;if(!this._injector.get(yu).done){!a&&he(n);throw new be(405,bo)}let g;g=a?n:this._injector.get(va).resolveComponentFactory(n),this.componentTypes.push(g.componentType);const D=function aE(e){return e.isBoundToModule}(g)?void 0:this._injector.get(ra),G=g.create(Mo.NULL,[],i||g.selector,D),se=G.location.nativeElement,Se=G.injector.get(gg,null);return Se?.registerApplication(se),G.onDestroy(()=>{this.detachView(G.hostView),wu(this.components,G),Se?.unregisterApplication(se)}),this._loadComponent(G),G}tick(){if(this._runningTick)throw new be(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){const i=n;wu(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const i=this._injector.get(_g,[]);i.push(...this._bootstrapListeners),i.forEach(a=>a(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>wu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new be(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(Fe(Gs),Fe(Fo),Fe(_a))},e.\u0275prov=Jn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function wu(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function fE(){return!1}function pE(){}let gE=(()=>{class e{}return e.__NG_ELEMENT_ID__=mE,e})();function mE(e){return function vE(e,t,n){if(Vi(e)&&!n){const i=Qr(e.index,t);return new wa(i,i)}return 47&e.type?new wa(t[pr],t):null}(wr(),nt(),16==(16&e))}class Pg{constructor(){}supports(t){return eu(t)}create(t){return new bE(t)}}const SE=(e,t)=>t;class bE{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||SE}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,i=this._removalsHead,a=0,c=null;for(;n||i;){const g=!i||n&&n.currentIndex<Og(i,a,c)?n:i,D=Og(g,a,c),I=g.currentIndex;if(g===i)a--,i=i._nextRemoved;else if(n=n._next,null==g.previousIndex)a++;else{c||(c=[]);const G=D-a,se=I-a;if(G!=se){for(let He=0;He<G;He++){const at=He<c.length?c[He]:c[He]=0,Rt=at+He;se<=Rt&&Rt<G&&(c[He]=at+1)}c[g.previousIndex]=se-G}}D!==I&&t(g,D,I)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!eu(t))throw new be(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let a,c,g,n=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let D=0;D<this.length;D++)c=t[D],g=this._trackByFn(D,c),null!==n&&Object.is(n.trackById,g)?(i&&(n=this._verifyReinsertion(n,c,g,D)),Object.is(n.item,c)||this._addIdentityChange(n,c)):(n=this._mismatch(n,c,g,D),i=!0),n=n._next}else a=0,function Q0(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let i;for(;!(i=n.next()).done;)t(i.value)}}(t,D=>{g=this._trackByFn(a,D),null!==n&&Object.is(n.trackById,g)?(i&&(n=this._verifyReinsertion(n,D,g,a)),Object.is(n.item,D)||this._addIdentityChange(n,D)):(n=this._mismatch(n,D,g,a),i=!0),n=n._next,a++}),this.length=a;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,i,a){let c;return null===t?c=this._itTail:(c=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,c,a)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,a))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,c,a)):t=this._addAfter(new DE(n,i),c,a),t}_verifyReinsertion(t,n,i,a){let c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==c?t=this._reinsertAfter(c,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const a=t._prevRemoved,c=t._nextRemoved;return null===a?this._removalsHead=c:a._nextRemoved=c,null===c?this._removalsTail=a:c._prevRemoved=a,this._insertAfter(t,n,i),this._addToMoves(t,i),t}_moveAfter(t,n,i){return this._unlink(t),this._insertAfter(t,n,i),this._addToMoves(t,i),t}_addAfter(t,n,i){return this._insertAfter(t,n,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,i){const a=null===n?this._itHead:n._next;return t._next=a,t._prev=n,null===a?this._itTail=t:a._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new Rg),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,i=t._next;return null===n?this._itHead=i:n._next=i,null===i?this._itTail=n:i._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Rg),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class DE{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class CE{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===n||n<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const n=t._prevDup,i=t._nextDup;return null===n?this._head=i:n._nextDup=i,null===i?this._tail=n:i._prevDup=n,null===this._head}}class Rg{constructor(){this.map=new Map}put(t){const n=t.trackById;let i=this.map.get(n);i||(i=new CE,this.map.set(n,i)),i.add(t)}get(t,n){const a=this.map.get(t);return a?a.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Og(e,t,n){const i=e.previousIndex;if(null===i)return i;let a=0;return n&&i<n.length&&(a=n[i]),i+t+a}class Ng{constructor(){}supports(t){return t instanceof Map||Il(t)}create(){return new AE}}class AE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Il(t)))throw new be(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,a)=>{if(n&&n.key===a)this._maybeAddToChanges(n,i),this._appendAfter=n,n=n._next;else{const c=this._getOrCreateRecordForKey(a,i);n=this._insertBeforeOrAppend(n,c)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const i=t._prev;return n._next=t,n._prev=i,t._prev=n,i&&(i._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const a=this._records.get(t);this._maybeAddToChanges(a,n);const c=a._prev,g=a._next;return c&&(c._next=g),g&&(g._prev=c),a._next=null,a._prev=null,a}const i=new xE(t);return this._records.set(t,i),i.currentValue=n,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(i=>n(t[i],i))}}class xE{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function kg(){return new Ac([new Pg])}let Ac=(()=>{class e{constructor(n){this.factories=n}static create(n,i){if(null!=i){const a=i.factories.slice();n=n.concat(a)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||kg()),deps:[[e,new ua,new aa]]}}find(n){const i=this.factories.find(a=>a.supports(n));if(null!=i)return i;throw new be(901,!1)}}return e.\u0275prov=Jn({token:e,providedIn:"root",factory:kg}),e})();function Lg(){return new xc([new Ng])}let xc=(()=>{class e{constructor(n){this.factories=n}static create(n,i){if(i){const a=i.factories.slice();n=n.concat(a)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||Lg()),deps:[[e,new ua,new aa]]}}find(n){const i=this.factories.find(a=>a.supports(n));if(i)return i;throw new be(901,!1)}}return e.\u0275prov=Jn({token:e,providedIn:"root",factory:Lg}),e})();const FE=wg(null,"core",[]);let ME=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(Fe(Eu))},e.\u0275mod=kn({type:e}),e.\u0275inj=dt({}),e})();function PE(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}},433:(sn,ot,O)=>{"use strict";O.d(ot,{Wl:()=>Xt,Fj:()=>be,CE:()=>ls,qu:()=>Ki,NI:()=>Ln,u:()=>Cs,cw:()=>R,sg:()=>qi,x0:()=>ji,u5:()=>_s,Cf:()=>$t,JU:()=>Ze,JJ:()=>Zt,JL:()=>Kt,F:()=>vr,On:()=>ps,_:()=>Gr,UX:()=>Fi,Q7:()=>si,kI:()=>En,_Y:()=>gs});var u=O(1571),ee=O(6895),we=O(457),Ue=O(9751),ve=O(4742),Je=O(8421),Ge=O(3269),Xe=O(5403),Ie=O(3268),ge=O(1810),We=O(4004);let Tt=(()=>{class H{constructor(F,X){this._renderer=F,this._elementRef=X,this.onChange=mt=>{},this.onTouched=()=>{}}setProperty(F,X){this._renderer.setProperty(this._elementRef.nativeElement,F,X)}registerOnTouched(F){this.onTouched=F}registerOnChange(F){this.onChange=F}setDisabledState(F){this.setProperty("disabled",F)}}return H.\u0275fac=function(F){return new(F||H)(u.Y36(u.Qsj),u.Y36(u.SBq))},H.\u0275dir=u.lG2({type:H}),H})(),ue=(()=>{class H extends Tt{}return H.\u0275fac=function(){let N;return function(X){return(N||(N=u.n5z(H)))(X||H)}}(),H.\u0275dir=u.lG2({type:H,features:[u.qOj]}),H})();const Ze=new u.OlP("NgValueAccessor"),bt={provide:Ze,useExisting:(0,u.Gpc)(()=>Xt),multi:!0};let Xt=(()=>{class H extends ue{writeValue(F){this.setProperty("checked",F)}}return H.\u0275fac=function(){let N;return function(X){return(N||(N=u.n5z(H)))(X||H)}}(),H.\u0275dir=u.lG2({type:H,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(F,X){1&F&&u.NdJ("change",function(nt){return X.onChange(nt.target.checked)})("blur",function(){return X.onTouched()})},features:[u._Bn([bt]),u.qOj]}),H})();const St={provide:Ze,useExisting:(0,u.Gpc)(()=>be),multi:!0},wt=new u.OlP("CompositionEventMode");let be=(()=>{class H extends Tt{constructor(F,X,mt){super(F,X),this._compositionMode=mt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function tn(){const H=(0,ee.q)()?(0,ee.q)().getUserAgent():"";return/android (\d+)/.test(H.toLowerCase())}())}writeValue(F){this.setProperty("value",F??"")}_handleInput(F){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(F)}_compositionStart(){this._composing=!0}_compositionEnd(F){this._composing=!1,this._compositionMode&&this.onChange(F)}}return H.\u0275fac=function(F){return new(F||H)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(wt,8))},H.\u0275dir=u.lG2({type:H,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(F,X){1&F&&u.NdJ("input",function(nt){return X._handleInput(nt.target.value)})("blur",function(){return X.onTouched()})("compositionstart",function(){return X._compositionStart()})("compositionend",function(nt){return X._compositionEnd(nt.target.value)})},features:[u._Bn([St]),u.qOj]}),H})();const De=!1;function et(H){return null==H||("string"==typeof H||Array.isArray(H))&&0===H.length}function _t(H){return null!=H&&"number"==typeof H.length}const $t=new u.OlP("NgValidators"),Ot=new u.OlP("NgAsyncValidators"),Wt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class En{static min(N){return function Jt(H){return N=>{if(et(N.value)||et(H))return null;const F=parseFloat(N.value);return!isNaN(F)&&F<H?{min:{min:H,actual:N.value}}:null}}(N)}static max(N){return function Pn(H){return N=>{if(et(N.value)||et(H))return null;const F=parseFloat(N.value);return!isNaN(F)&&F>H?{max:{max:H,actual:N.value}}:null}}(N)}static required(N){return dn(N)}static requiredTrue(N){return function ht(H){return!0===H.value?null:{required:!0}}(N)}static email(N){return function pt(H){return et(H.value)||Wt.test(H.value)?null:{email:!0}}(N)}static minLength(N){return function xt(H){return N=>et(N.value)||!_t(N.value)?null:N.value.length<H?{minlength:{requiredLength:H,actualLength:N.value.length}}:null}(N)}static maxLength(N){return function rt(H){return N=>_t(N.value)&&N.value.length>H?{maxlength:{requiredLength:H,actualLength:N.value.length}}:null}(N)}static pattern(N){return function Ke(H){if(!H)return Be;let N,F;return"string"==typeof H?(F="","^"!==H.charAt(0)&&(F+="^"),F+=H,"$"!==H.charAt(H.length-1)&&(F+="$"),N=new RegExp(F)):(F=H.toString(),N=H),X=>{if(et(X.value))return null;const mt=X.value;return N.test(mt)?null:{pattern:{requiredPattern:F,actualValue:mt}}}}(N)}static nullValidator(N){return null}static compose(N){return Bn(N)}static composeAsync(N){return Dr(N)}}function dn(H){return et(H.value)?{required:!0}:null}function Be(H){return null}function vt(H){return null!=H}function an(H){const N=(0,u.QGY)(H)?(0,we.D)(H):H;if(De&&!(0,u.CqO)(N)){let F="Expected async validator to return Promise or Observable.";throw"object"==typeof H&&(F+=" Are you using a synchronous validator where an async validator is expected?"),new u.vHH(-1101,F)}return N}function Fn(H){let N={};return H.forEach(F=>{N=null!=F?{...N,...F}:N}),0===Object.keys(N).length?null:N}function pn(H,N){return N.map(F=>F(H))}function qt(H){return H.map(N=>function Bt(H){return!H.validate}(N)?N:F=>N.validate(F))}function Bn(H){if(!H)return null;const N=H.filter(vt);return 0==N.length?null:function(F){return Fn(pn(F,N))}}function mr(H){return null!=H?Bn(qt(H)):null}function Dr(H){if(!H)return null;const N=H.filter(vt);return 0==N.length?null:function(F){return function xe(...H){const N=(0,Ge.jO)(H),{args:F,keys:X}=(0,ve.D)(H),mt=new Ue.y(nt=>{const{length:In}=F;if(!In)return void nt.complete();const ai=new Array(In);let Lr=In,wr=In;for(let ds=0;ds<In;ds++){let Qi=!1;(0,Je.Xf)(F[ds]).subscribe((0,Xe.x)(nt,ui=>{Qi||(Qi=!0,wr--),ai[ds]=ui},()=>Lr--,void 0,()=>{(!Lr||!Qi)&&(wr||nt.next(X?(0,ge.n)(X,ai):ai),nt.complete())}))}});return N?mt.pipe((0,Ie.Z)(N)):mt}(pn(F,N).map(an)).pipe((0,We.U)(Fn))}}function Jn(H){return null!=H?Dr(qt(H)):null}function ut(H,N){return null===H?[N]:Array.isArray(H)?[...H,N]:[H,N]}function dt(H){return H._rawValidators}function Ve(H){return H._rawAsyncValidators}function Lt(H){return H?Array.isArray(H)?H:[H]:[]}function un(H,N){return Array.isArray(H)?H.includes(N):H===N}function yn(H,N){const F=Lt(N);return Lt(H).forEach(mt=>{un(F,mt)||F.push(mt)}),F}function On(H,N){return Lt(N).filter(F=>!un(H,F))}class _r{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(N){this._rawValidators=N||[],this._composedValidatorFn=mr(this._rawValidators)}_setAsyncValidators(N){this._rawAsyncValidators=N||[],this._composedAsyncValidatorFn=Jn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(N){this._onDestroyCallbacks.push(N)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(N=>N()),this._onDestroyCallbacks=[]}reset(N){this.control&&this.control.reset(N)}hasError(N,F){return!!this.control&&this.control.hasError(N,F)}getError(N,F){return this.control?this.control.getError(N,F):null}}class oe extends _r{get formDirective(){return null}get path(){return null}}class st extends _r{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class gt{constructor(N){this._cd=N}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Zt=(()=>{class H extends gt{constructor(F){super(F)}}return H.\u0275fac=function(F){return new(F||H)(u.Y36(st,2))},H.\u0275dir=u.lG2({type:H,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(F,X){2&F&&u.ekj("ng-untouched",X.isUntouched)("ng-touched",X.isTouched)("ng-pristine",X.isPristine)("ng-dirty",X.isDirty)("ng-valid",X.isValid)("ng-invalid",X.isInvalid)("ng-pending",X.isPending)},features:[u.qOj]}),H})(),Kt=(()=>{class H extends gt{constructor(F){super(F)}}return H.\u0275fac=function(F){return new(F||H)(u.Y36(oe,10))},H.\u0275dir=u.lG2({type:H,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(F,X){2&F&&u.ekj("ng-untouched",X.isUntouched)("ng-touched",X.isTouched)("ng-pristine",X.isPristine)("ng-dirty",X.isDirty)("ng-valid",X.isValid)("ng-invalid",X.isInvalid)("ng-pending",X.isPending)("ng-submitted",X.isSubmitted)},features:[u.qOj]}),H})();function Kr(H,N){return H?`with name: '${N}'`:`at index: ${N}`}const Fe=!1,Vt="VALID",Nt="INVALID",Tn="PENDING",Hn="DISABLED";function hr(H){return(tt(H)?H.validators:H)||null}function ar(H,N){return(tt(N)?N.asyncValidators:H)||null}function tt(H){return null!=H&&!Array.isArray(H)&&"object"==typeof H}function Oe(H,N,F){const X=H.controls;if(!(N?Object.keys(X):X).length)throw new u.vHH(1e3,Fe?function tr(H){return`\n    There are no form controls registered with this ${H?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(N):"");if(!X[F])throw new u.vHH(1001,Fe?function yt(H,N){return`Cannot find form control ${Kr(H,N)}`}(N,F):"")}function Y(H,N,F){H._forEachChild((X,mt)=>{if(void 0===F[mt])throw new u.vHH(1002,Fe?function Pe(H,N){return`Must supply a value for form control ${Kr(H,N)}`}(N,mt):"")})}class ae{constructor(N,F){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(N),this._assignAsyncValidators(F)}get validator(){return this._composedValidatorFn}set validator(N){this._rawValidators=this._composedValidatorFn=N}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(N){this._rawAsyncValidators=this._composedAsyncValidatorFn=N}get parent(){return this._parent}get valid(){return this.status===Vt}get invalid(){return this.status===Nt}get pending(){return this.status==Tn}get disabled(){return this.status===Hn}get enabled(){return this.status!==Hn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(N){this._assignValidators(N)}setAsyncValidators(N){this._assignAsyncValidators(N)}addValidators(N){this.setValidators(yn(N,this._rawValidators))}addAsyncValidators(N){this.setAsyncValidators(yn(N,this._rawAsyncValidators))}removeValidators(N){this.setValidators(On(N,this._rawValidators))}removeAsyncValidators(N){this.setAsyncValidators(On(N,this._rawAsyncValidators))}hasValidator(N){return un(this._rawValidators,N)}hasAsyncValidator(N){return un(this._rawAsyncValidators,N)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(N={}){this.touched=!0,this._parent&&!N.onlySelf&&this._parent.markAsTouched(N)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(N=>N.markAllAsTouched())}markAsUntouched(N={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(F=>{F.markAsUntouched({onlySelf:!0})}),this._parent&&!N.onlySelf&&this._parent._updateTouched(N)}markAsDirty(N={}){this.pristine=!1,this._parent&&!N.onlySelf&&this._parent.markAsDirty(N)}markAsPristine(N={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(F=>{F.markAsPristine({onlySelf:!0})}),this._parent&&!N.onlySelf&&this._parent._updatePristine(N)}markAsPending(N={}){this.status=Tn,!1!==N.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!N.onlySelf&&this._parent.markAsPending(N)}disable(N={}){const F=this._parentMarkedDirty(N.onlySelf);this.status=Hn,this.errors=null,this._forEachChild(X=>{X.disable({...N,onlySelf:!0})}),this._updateValue(),!1!==N.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...N,skipPristineCheck:F}),this._onDisabledChange.forEach(X=>X(!0))}enable(N={}){const F=this._parentMarkedDirty(N.onlySelf);this.status=Vt,this._forEachChild(X=>{X.enable({...N,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:N.emitEvent}),this._updateAncestors({...N,skipPristineCheck:F}),this._onDisabledChange.forEach(X=>X(!1))}_updateAncestors(N){this._parent&&!N.onlySelf&&(this._parent.updateValueAndValidity(N),N.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(N){this._parent=N}getRawValue(){return this.value}updateValueAndValidity(N={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Vt||this.status===Tn)&&this._runAsyncValidator(N.emitEvent)),!1!==N.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!N.onlySelf&&this._parent.updateValueAndValidity(N)}_updateTreeValidity(N={emitEvent:!0}){this._forEachChild(F=>F._updateTreeValidity(N)),this.updateValueAndValidity({onlySelf:!0,emitEvent:N.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Hn:Vt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(N){if(this.asyncValidator){this.status=Tn,this._hasOwnPendingAsyncValidator=!0;const F=an(this.asyncValidator(this));this._asyncValidationSubscription=F.subscribe(X=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(X,{emitEvent:N})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(N,F={}){this.errors=N,this._updateControlsErrors(!1!==F.emitEvent)}get(N){let F=N;return null==F||(Array.isArray(F)||(F=F.split(".")),0===F.length)?null:F.reduce((X,mt)=>X&&X._find(mt),this)}getError(N,F){const X=F?this.get(F):this;return X&&X.errors?X.errors[N]:null}hasError(N,F){return!!this.getError(N,F)}get root(){let N=this;for(;N._parent;)N=N._parent;return N}_updateControlsErrors(N){this.status=this._calculateStatus(),N&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(N)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?Hn:this.errors?Nt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Tn)?Tn:this._anyControlsHaveStatus(Nt)?Nt:Vt}_anyControlsHaveStatus(N){return this._anyControls(F=>F.status===N)}_anyControlsDirty(){return this._anyControls(N=>N.dirty)}_anyControlsTouched(){return this._anyControls(N=>N.touched)}_updatePristine(N={}){this.pristine=!this._anyControlsDirty(),this._parent&&!N.onlySelf&&this._parent._updatePristine(N)}_updateTouched(N={}){this.touched=this._anyControlsTouched(),this._parent&&!N.onlySelf&&this._parent._updateTouched(N)}_registerOnCollectionChange(N){this._onCollectionChange=N}_setUpdateStrategy(N){tt(N)&&null!=N.updateOn&&(this._updateOn=N.updateOn)}_parentMarkedDirty(N){return!N&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(N){return null}_assignValidators(N){this._rawValidators=Array.isArray(N)?N.slice():N,this._composedValidatorFn=function Un(H){return Array.isArray(H)?mr(H):H||null}(this._rawValidators)}_assignAsyncValidators(N){this._rawAsyncValidators=Array.isArray(N)?N.slice():N,this._composedAsyncValidatorFn=function Wr(H){return Array.isArray(H)?Jn(H):H||null}(this._rawAsyncValidators)}}class R extends ae{constructor(N,F,X){super(hr(F),ar(X,F)),this.controls=N,this._initObservables(),this._setUpdateStrategy(F),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(N,F){return this.controls[N]?this.controls[N]:(this.controls[N]=F,F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange),F)}addControl(N,F,X={}){this.registerControl(N,F),this.updateValueAndValidity({emitEvent:X.emitEvent}),this._onCollectionChange()}removeControl(N,F={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),delete this.controls[N],this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}setControl(N,F,X={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),delete this.controls[N],F&&this.registerControl(N,F),this.updateValueAndValidity({emitEvent:X.emitEvent}),this._onCollectionChange()}contains(N){return this.controls.hasOwnProperty(N)&&this.controls[N].enabled}setValue(N,F={}){Y(this,!0,N),Object.keys(N).forEach(X=>{Oe(this,!0,X),this.controls[X].setValue(N[X],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F)}patchValue(N,F={}){null!=N&&(Object.keys(N).forEach(X=>{const mt=this.controls[X];mt&&mt.patchValue(N[X],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F))}reset(N={},F={}){this._forEachChild((X,mt)=>{X.reset(N[mt],{onlySelf:!0,emitEvent:F.emitEvent})}),this._updatePristine(F),this._updateTouched(F),this.updateValueAndValidity(F)}getRawValue(){return this._reduceChildren({},(N,F,X)=>(N[X]=F.getRawValue(),N))}_syncPendingControls(){let N=this._reduceChildren(!1,(F,X)=>!!X._syncPendingControls()||F);return N&&this.updateValueAndValidity({onlySelf:!0}),N}_forEachChild(N){Object.keys(this.controls).forEach(F=>{const X=this.controls[F];X&&N(X,F)})}_setUpControls(){this._forEachChild(N=>{N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(N){for(const[F,X]of Object.entries(this.controls))if(this.contains(F)&&N(X))return!0;return!1}_reduceValue(){return this._reduceChildren({},(F,X,mt)=>((X.enabled||this.disabled)&&(F[mt]=X.value),F))}_reduceChildren(N,F){let X=N;return this._forEachChild((mt,nt)=>{X=F(X,mt,nt)}),X}_allControlsDisabled(){for(const N of Object.keys(this.controls))if(this.controls[N].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(N){return this.controls.hasOwnProperty(N)?this.controls[N]:null}}class ke extends R{}const Ye=new u.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Pt}),Pt="always";function Qt(H,N){return[...N.path,H]}function cn(H,N,F=Pt){kn(H,N),N.valueAccessor.writeValue(H.value),(H.disabled||"always"===F)&&N.valueAccessor.setDisabledState?.(H.disabled),function Ur(H,N){N.valueAccessor.registerOnChange(F=>{H._pendingValue=F,H._pendingChange=!0,H._pendingDirty=!0,"change"===H.updateOn&&Qn(H,N)})}(H,N),function _e(H,N){const F=(X,mt)=>{N.valueAccessor.writeValue(X),mt&&N.viewToModelUpdate(X)};H.registerOnChange(F),N._registerOnDestroy(()=>{H._unregisterOnChange(F)})}(H,N),function ni(H,N){N.valueAccessor.registerOnTouched(()=>{H._pendingTouched=!0,"blur"===H.updateOn&&H._pendingChange&&Qn(H,N),"submit"!==H.updateOn&&H.markAsTouched()})}(H,N),function Cn(H,N){if(N.valueAccessor.setDisabledState){const F=X=>{N.valueAccessor.setDisabledState(X)};H.registerOnDisabledChange(F),N._registerOnDestroy(()=>{H._unregisterOnDisabledChange(F)})}}(H,N)}function jt(H,N,F=!0){const X=()=>{};N.valueAccessor&&(N.valueAccessor.registerOnChange(X),N.valueAccessor.registerOnTouched(X)),fr(H,N),H&&(N._invokeOnDestroyCallbacks(),H._registerOnCollectionChange(()=>{}))}function hn(H,N){H.forEach(F=>{F.registerOnValidatorChange&&F.registerOnValidatorChange(N)})}function kn(H,N){const F=dt(H);null!==N.validator?H.setValidators(ut(F,N.validator)):"function"==typeof F&&H.setValidators([F]);const X=Ve(H);null!==N.asyncValidator?H.setAsyncValidators(ut(X,N.asyncValidator)):"function"==typeof X&&H.setAsyncValidators([X]);const mt=()=>H.updateValueAndValidity();hn(N._rawValidators,mt),hn(N._rawAsyncValidators,mt)}function fr(H,N){let F=!1;if(null!==H){if(null!==N.validator){const mt=dt(H);if(Array.isArray(mt)&&mt.length>0){const nt=mt.filter(In=>In!==N.validator);nt.length!==mt.length&&(F=!0,H.setValidators(nt))}}if(null!==N.asyncValidator){const mt=Ve(H);if(Array.isArray(mt)&&mt.length>0){const nt=mt.filter(In=>In!==N.asyncValidator);nt.length!==mt.length&&(F=!0,H.setAsyncValidators(nt))}}}const X=()=>{};return hn(N._rawValidators,X),hn(N._rawAsyncValidators,X),F}function Qn(H,N){H._pendingDirty&&H.markAsDirty(),H.setValue(H._pendingValue,{emitModelToViewChange:!1}),N.viewToModelUpdate(H._pendingValue),H._pendingChange=!1}function Ee(H,N){kn(H,N)}function ur(H,N){if(!H.hasOwnProperty("model"))return!1;const F=H.model;return!!F.isFirstChange()||!Object.is(N,F.currentValue)}function Sn(H,N){H._syncPendingControls(),N.forEach(F=>{const X=F.control;"submit"===X.updateOn&&X._pendingChange&&(F.viewToModelUpdate(X._pendingValue),X._pendingChange=!1)})}function Xn(H,N){if(!N)return null;let F,X,mt;return Array.isArray(N),N.forEach(nt=>{nt.constructor===be?F=nt:function zt(H){return Object.getPrototypeOf(H.constructor)===ue}(nt)?X=nt:mt=nt}),mt||X||F||null}const zr={provide:oe,useExisting:(0,u.Gpc)(()=>vr)},gi=(()=>Promise.resolve())();let vr=(()=>{class H extends oe{constructor(F,X,mt){super(),this.callSetDisabledState=mt,this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new R({},mr(F),Jn(X))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(F){gi.then(()=>{const X=this._findContainer(F.path);F.control=X.registerControl(F.name,F.control),cn(F.control,F,this.callSetDisabledState),F.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(F)})}getControl(F){return this.form.get(F.path)}removeControl(F){gi.then(()=>{const X=this._findContainer(F.path);X&&X.removeControl(F.name),this._directives.delete(F)})}addFormGroup(F){gi.then(()=>{const X=this._findContainer(F.path),mt=new R({});Ee(mt,F),X.registerControl(F.name,mt),mt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(F){gi.then(()=>{const X=this._findContainer(F.path);X&&X.removeControl(F.name)})}getFormGroup(F){return this.form.get(F.path)}updateModel(F,X){gi.then(()=>{this.form.get(F.path).setValue(X)})}setValue(F){this.control.setValue(F)}onSubmit(F){return this.submitted=!0,Sn(this.form,this._directives),this.ngSubmit.emit(F),"dialog"===F?.target?.method}onReset(){this.resetForm()}resetForm(F){this.form.reset(F),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(F){return F.pop(),F.length?this.form.get(F):this.form}}return H.\u0275fac=function(F){return new(F||H)(u.Y36($t,10),u.Y36(Ot,10),u.Y36(Ye,8))},H.\u0275dir=u.lG2({type:H,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(F,X){1&F&&u.NdJ("submit",function(nt){return X.onSubmit(nt)})("reset",function(){return X.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([zr]),u.qOj]}),H})();function Ei(H,N){const F=H.indexOf(N);F>-1&&H.splice(F,1)}function Bi(H){return"object"==typeof H&&null!==H&&2===Object.keys(H).length&&"value"in H&&"disabled"in H}const Ln=class extends ae{constructor(N=null,F,X){super(hr(F),ar(X,F)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(N),this._setUpdateStrategy(F),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),tt(F)&&(F.nonNullable||F.initialValueIsDefault)&&(this.defaultValue=Bi(N)?N.value:N)}setValue(N,F={}){this.value=this._pendingValue=N,this._onChange.length&&!1!==F.emitModelToViewChange&&this._onChange.forEach(X=>X(this.value,!1!==F.emitViewToModelChange)),this.updateValueAndValidity(F)}patchValue(N,F={}){this.setValue(N,F)}reset(N=this.defaultValue,F={}){this._applyFormState(N),this.markAsPristine(F),this.markAsUntouched(F),this.setValue(this.value,F),this._pendingChange=!1}_updateValue(){}_anyControls(N){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(N){this._onChange.push(N)}_unregisterOnChange(N){Ei(this._onChange,N)}registerOnDisabledChange(N){this._onDisabledChange.push(N)}_unregisterOnDisabledChange(N){Ei(this._onDisabledChange,N)}_forEachChild(N){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(N){Bi(N)?(this.value=this._pendingValue=N.value,N.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=N}};let Xi=(()=>{class H extends oe{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Qt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return H.\u0275fac=function(){let N;return function(X){return(N||(N=u.n5z(H)))(X||H)}}(),H.\u0275dir=u.lG2({type:H,features:[u.qOj]}),H})();const es={provide:st,useExisting:(0,u.Gpc)(()=>ps)},Ar=(()=>Promise.resolve())();let ps=(()=>{class H extends st{constructor(F,X,mt,nt,In,ai){super(),this._changeDetectorRef=In,this.callSetDisabledState=ai,this.control=new Ln,this._registered=!1,this.update=new u.vpe,this._parent=F,this._setValidators(X),this._setAsyncValidators(mt),this.valueAccessor=Xn(0,nt)}ngOnChanges(F){if(this._checkForErrors(),!this._registered||"name"in F){if(this._registered&&(this._checkName(),this.formDirective)){const X=F.name.previousValue;this.formDirective.removeControl({name:X,path:this._getPath(X)})}this._setUpControl()}"isDisabled"in F&&this._updateDisabled(F),ur(F,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(F){this.viewModel=F,this.update.emit(F)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){cn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(F){Ar.then(()=>{this.control.setValue(F,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(F){const X=F.isDisabled.currentValue,mt=0!==X&&(0,u.D6c)(X);Ar.then(()=>{mt&&!this.control.disabled?this.control.disable():!mt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(F){return this._parent?Qt(F,this._parent):[F]}}return H.\u0275fac=function(F){return new(F||H)(u.Y36(oe,9),u.Y36($t,10),u.Y36(Ot,10),u.Y36(Ze,10),u.Y36(u.sBO,8),u.Y36(Ye,8))},H.\u0275dir=u.lG2({type:H,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([es]),u.qOj,u.TTD]}),H})(),gs=(()=>{class H{}return H.\u0275fac=function(F){return new(F||H)},H.\u0275dir=u.lG2({type:H,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),H})();const ms={provide:Ze,useExisting:(0,u.Gpc)(()=>Gr),multi:!0};let Hr=(()=>{class H{}return H.\u0275fac=function(F){return new(F||H)},H.\u0275mod=u.oAB({type:H}),H.\u0275inj=u.cJS({}),H})(),Ds=(()=>{class H{constructor(){this._accessors=[]}add(F,X){this._accessors.push([F,X])}remove(F){for(let X=this._accessors.length-1;X>=0;--X)if(this._accessors[X][1]===F)return void this._accessors.splice(X,1)}select(F){this._accessors.forEach(X=>{this._isSameGroup(X,F)&&X[1]!==F&&X[1].fireUncheck(F.value)})}_isSameGroup(F,X){return!!F[0].control&&F[0]._parent===X._control._parent&&F[1].name===X.name}}return H.\u0275fac=function(F){return new(F||H)},H.\u0275prov=u.Yz7({token:H,factory:H.\u0275fac,providedIn:Hr}),H})(),Gr=(()=>{class H extends ue{constructor(F,X,mt,nt){super(F,X),this._registry=mt,this._injector=nt,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,u.f3M)(Ye,{optional:!0})??Pt}ngOnInit(){this._control=this._injector.get(st),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(F){this._state=F===this.value,this.setProperty("checked",this._state)}registerOnChange(F){this._fn=F,this.onChange=()=>{F(this.value),this._registry.select(this)}}setDisabledState(F){(this.setDisabledStateFired||F||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",F),this.setDisabledStateFired=!0}fireUncheck(F){this.writeValue(F)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return H.\u0275fac=function(F){return new(F||H)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(Ds),u.Y36(u.zs3))},H.\u0275dir=u.lG2({type:H,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(F,X){1&F&&u.NdJ("change",function(){return X.onChange()})("blur",function(){return X.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[u._Bn([ms]),u.qOj]}),H})();const Vi=new u.OlP("NgModelWithFormControlWarning"),Vs={provide:oe,useExisting:(0,u.Gpc)(()=>qi)};let qi=(()=>{class H extends oe{constructor(F,X,mt){super(),this.callSetDisabledState=mt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(F),this._setAsyncValidators(X)}ngOnChanges(F){this._checkFormPresent(),F.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(fr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(F){const X=this.form.get(F.path);return cn(X,F,this.callSetDisabledState),X.updateValueAndValidity({emitEvent:!1}),this.directives.push(F),X}getControl(F){return this.form.get(F.path)}removeControl(F){jt(F.control||null,F,!1),function Sr(H,N){const F=H.indexOf(N);F>-1&&H.splice(F,1)}(this.directives,F)}addFormGroup(F){this._setUpFormContainer(F)}removeFormGroup(F){this._cleanUpFormContainer(F)}getFormGroup(F){return this.form.get(F.path)}addFormArray(F){this._setUpFormContainer(F)}removeFormArray(F){this._cleanUpFormContainer(F)}getFormArray(F){return this.form.get(F.path)}updateModel(F,X){this.form.get(F.path).setValue(X)}onSubmit(F){return this.submitted=!0,Sn(this.form,this.directives),this.ngSubmit.emit(F),"dialog"===F?.target?.method}onReset(){this.resetForm()}resetForm(F){this.form.reset(F),this.submitted=!1}_updateDomValue(){this.directives.forEach(F=>{const X=F.control,mt=this.form.get(F.path);X!==mt&&(jt(X||null,F),(H=>H instanceof Ln)(mt)&&(cn(mt,F,this.callSetDisabledState),F.control=mt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(F){const X=this.form.get(F.path);Ee(X,F),X.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(F){if(this.form){const X=this.form.get(F.path);X&&function L(H,N){return fr(H,N)}(X,F)&&X.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){kn(this.form,this),this._oldForm&&fr(this._oldForm,this)}_checkFormPresent(){}}return H.\u0275fac=function(F){return new(F||H)(u.Y36($t,10),u.Y36(Ot,10),u.Y36(Ye,8))},H.\u0275dir=u.lG2({type:H,selectors:[["","formGroup",""]],hostBindings:function(F,X){1&F&&u.NdJ("submit",function(nt){return X.onSubmit(nt)})("reset",function(){return X.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([Vs]),u.qOj,u.TTD]}),H})();const js={provide:oe,useExisting:(0,u.Gpc)(()=>ji)};let ji=(()=>{class H extends Xi{constructor(F,X,mt){super(),this._parent=F,this._setValidators(X),this._setAsyncValidators(mt)}_checkParentType(){Ui(this._parent)}}return H.\u0275fac=function(F){return new(F||H)(u.Y36(oe,13),u.Y36($t,10),u.Y36(Ot,10))},H.\u0275dir=u.lG2({type:H,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[u._Bn([js]),u.qOj]}),H})();const Us={provide:oe,useExisting:(0,u.Gpc)(()=>ls)};let ls=(()=>{class H extends oe{constructor(F,X,mt){super(),this._parent=F,this._setValidators(X),this._setAsyncValidators(mt)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Qt(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Ui(this._parent)}}return H.\u0275fac=function(F){return new(F||H)(u.Y36(oe,13),u.Y36($t,10),u.Y36(Ot,10))},H.\u0275dir=u.lG2({type:H,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[u._Bn([Us]),u.qOj]}),H})();function Ui(H){return!(H instanceof ji||H instanceof qi||H instanceof ls)}const yo={provide:st,useExisting:(0,u.Gpc)(()=>Cs)};let Cs=(()=>{class H extends st{set isDisabled(F){}constructor(F,X,mt,nt,In){super(),this._ngModelWarningConfig=In,this._added=!1,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=F,this._setValidators(X),this._setAsyncValidators(mt),this.valueAccessor=Xn(0,nt)}ngOnChanges(F){this._added||this._setUpControl(),ur(F,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(F){this.viewModel=F,this.update.emit(F)}get path(){return Qt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return H._ngModelWarningSentOnce=!1,H.\u0275fac=function(F){return new(F||H)(u.Y36(oe,13),u.Y36($t,10),u.Y36(Ot,10),u.Y36(Ze,10),u.Y36(Vi,8))},H.\u0275dir=u.lG2({type:H,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([yo]),u.qOj,u.TTD]}),H})(),rs=(()=>{class H{constructor(){this._validator=Be}ngOnChanges(F){if(this.inputName in F){const X=this.normalizeInput(F[this.inputName].currentValue);this._enabled=this.enabled(X),this._validator=this._enabled?this.createValidator(X):Be,this._onChange&&this._onChange()}}validate(F){return this._validator(F)}registerOnValidatorChange(F){this._onChange=F}enabled(F){return null!=F}}return H.\u0275fac=function(F){return new(F||H)},H.\u0275dir=u.lG2({type:H,features:[u.TTD]}),H})();const Ks={provide:$t,useExisting:(0,u.Gpc)(()=>si),multi:!0};let si=(()=>{class H extends rs{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=u.D6c,this.createValidator=F=>dn}enabled(F){return F}}return H.\u0275fac=function(){let N;return function(X){return(N||(N=u.n5z(H)))(X||H)}}(),H.\u0275dir=u.lG2({type:H,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(F,X){2&F&&u.uIk("required",X._enabled?"":null)},inputs:{required:"required"},features:[u._Bn([Ks]),u.qOj]}),H})(),Qr=(()=>{class H{}return H.\u0275fac=function(F){return new(F||H)},H.\u0275mod=u.oAB({type:H}),H.\u0275inj=u.cJS({imports:[Hr]}),H})();class Xr extends ae{constructor(N,F,X){super(hr(F),ar(X,F)),this.controls=N,this._initObservables(),this._setUpdateStrategy(F),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(N){return this.controls[this._adjustIndex(N)]}push(N,F={}){this.controls.push(N),this._registerControl(N),this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}insert(N,F,X={}){this.controls.splice(N,0,F),this._registerControl(F),this.updateValueAndValidity({emitEvent:X.emitEvent})}removeAt(N,F={}){let X=this._adjustIndex(N);X<0&&(X=0),this.controls[X]&&this.controls[X]._registerOnCollectionChange(()=>{}),this.controls.splice(X,1),this.updateValueAndValidity({emitEvent:F.emitEvent})}setControl(N,F,X={}){let mt=this._adjustIndex(N);mt<0&&(mt=0),this.controls[mt]&&this.controls[mt]._registerOnCollectionChange(()=>{}),this.controls.splice(mt,1),F&&(this.controls.splice(mt,0,F),this._registerControl(F)),this.updateValueAndValidity({emitEvent:X.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(N,F={}){Y(this,!1,N),N.forEach((X,mt)=>{Oe(this,!1,mt),this.at(mt).setValue(X,{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F)}patchValue(N,F={}){null!=N&&(N.forEach((X,mt)=>{this.at(mt)&&this.at(mt).patchValue(X,{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F))}reset(N=[],F={}){this._forEachChild((X,mt)=>{X.reset(N[mt],{onlySelf:!0,emitEvent:F.emitEvent})}),this._updatePristine(F),this._updateTouched(F),this.updateValueAndValidity(F)}getRawValue(){return this.controls.map(N=>N.getRawValue())}clear(N={}){this.controls.length<1||(this._forEachChild(F=>F._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:N.emitEvent}))}_adjustIndex(N){return N<0?N+this.length:N}_syncPendingControls(){let N=this.controls.reduce((F,X)=>!!X._syncPendingControls()||F,!1);return N&&this.updateValueAndValidity({onlySelf:!0}),N}_forEachChild(N){this.controls.forEach((F,X)=>{N(F,X)})}_updateValue(){this.value=this.controls.filter(N=>N.enabled||this.disabled).map(N=>N.value)}_anyControls(N){return this.controls.some(F=>F.enabled&&N(F))}_setUpControls(){this._forEachChild(N=>this._registerControl(N))}_allControlsDisabled(){for(const N of this.controls)if(N.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(N){N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange)}_find(N){return this.at(N)??null}}function $i(H){return!!H&&(void 0!==H.asyncValidators||void 0!==H.validators||void 0!==H.updateOn)}let Ki=(()=>{class H{constructor(){this.useNonNullable=!1}get nonNullable(){const F=new H;return F.useNonNullable=!0,F}group(F,X=null){const mt=this._reduceControls(F);let nt={};return $i(X)?nt=X:null!==X&&(nt.validators=X.validator,nt.asyncValidators=X.asyncValidator),new R(mt,nt)}record(F,X=null){const mt=this._reduceControls(F);return new ke(mt,X)}control(F,X,mt){let nt={};return this.useNonNullable?($i(X)?nt=X:(nt.validators=X,nt.asyncValidators=mt),new Ln(F,{...nt,nonNullable:!0})):new Ln(F,X,mt)}array(F,X,mt){const nt=F.map(In=>this._createControl(In));return new Xr(nt,X,mt)}_reduceControls(F){const X={};return Object.keys(F).forEach(mt=>{X[mt]=this._createControl(F[mt])}),X}_createControl(F){return F instanceof Ln||F instanceof ae?F:Array.isArray(F)?this.control(F[0],F.length>1?F[1]:null,F.length>2?F[2]:null):this.control(F)}}return H.\u0275fac=function(F){return new(F||H)},H.\u0275prov=u.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})(),_s=(()=>{class H{static withConfig(F){return{ngModule:H,providers:[{provide:Ye,useValue:F.callSetDisabledState??Pt}]}}}return H.\u0275fac=function(F){return new(F||H)},H.\u0275mod=u.oAB({type:H}),H.\u0275inj=u.cJS({imports:[Qr]}),H})(),Fi=(()=>{class H{static withConfig(F){return{ngModule:H,providers:[{provide:Vi,useValue:F.warnOnNgModelWithFormControl??"always"},{provide:Ye,useValue:F.callSetDisabledState??Pt}]}}}return H.\u0275fac=function(F){return new(F||H)},H.\u0275mod=u.oAB({type:H}),H.\u0275inj=u.cJS({imports:[Qr]}),H})()},1481:(sn,ot,O)=>{"use strict";O.d(ot,{Dx:()=>Kt,b2:()=>st,q6:()=>yn,se:()=>dn});var u=O(6895),ee=O(1571);class we extends u.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ue extends we{static makeCurrent(){(0,u.HT)(new Ue)}onAndCancel(Oe,Y,ae){return Oe.addEventListener(Y,ae,!1),()=>{Oe.removeEventListener(Y,ae,!1)}}dispatchEvent(Oe,Y){Oe.dispatchEvent(Y)}remove(Oe){Oe.parentNode&&Oe.parentNode.removeChild(Oe)}createElement(Oe,Y){return(Y=Y||this.getDefaultDocument()).createElement(Oe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Oe){return Oe.nodeType===Node.ELEMENT_NODE}isShadowRoot(Oe){return Oe instanceof DocumentFragment}getGlobalEventTarget(Oe,Y){return"window"===Y?window:"document"===Y?Oe:"body"===Y?Oe.body:null}getBaseHref(Oe){const Y=function Je(){return ve=ve||document.querySelector("base"),ve?ve.getAttribute("href"):null}();return null==Y?null:function Xe(tt){Ge=Ge||document.createElement("a"),Ge.setAttribute("href",tt);const Oe=Ge.pathname;return"/"===Oe.charAt(0)?Oe:`/${Oe}`}(Y)}resetBaseElement(){ve=null}getUserAgent(){return window.navigator.userAgent}getCookie(Oe){return(0,u.Mx)(document.cookie,Oe)}}let Ge,ve=null;const Ie=new ee.OlP("TRANSITION_ID"),xe=[{provide:ee.ip1,useFactory:function ge(tt,Oe,Y){return()=>{Y.get(ee.CZH).donePromise.then(()=>{const ae=(0,u.q)(),R=Oe.querySelectorAll(`style[ng-transition="${tt}"]`);for(let te=0;te<R.length;te++)ae.remove(R[te])})}},deps:[Ie,u.K0,ee.zs3],multi:!0}];let Tt=(()=>{class tt{build(){return new XMLHttpRequest}}return tt.\u0275fac=function(Y){return new(Y||tt)},tt.\u0275prov=ee.Yz7({token:tt,factory:tt.\u0275fac}),tt})();const ue=new ee.OlP("EventManagerPlugins");let Ze=(()=>{class tt{constructor(Y,ae){this._zone=ae,this._eventNameToPlugin=new Map,Y.forEach(R=>{R.manager=this}),this._plugins=Y.slice().reverse()}addEventListener(Y,ae,R){return this._findPluginFor(ae).addEventListener(Y,ae,R)}addGlobalEventListener(Y,ae,R){return this._findPluginFor(ae).addGlobalEventListener(Y,ae,R)}getZone(){return this._zone}_findPluginFor(Y){const ae=this._eventNameToPlugin.get(Y);if(ae)return ae;const R=this._plugins;for(let te=0;te<R.length;te++){const Ae=R[te];if(Ae.supports(Y))return this._eventNameToPlugin.set(Y,Ae),Ae}throw new Error(`No event manager plugin found for event ${Y}`)}}return tt.\u0275fac=function(Y){return new(Y||tt)(ee.LFG(ue),ee.LFG(ee.R0b))},tt.\u0275prov=ee.Yz7({token:tt,factory:tt.\u0275fac}),tt})();class bt{constructor(Oe){this._doc=Oe}addGlobalEventListener(Oe,Y,ae){const R=(0,u.q)().getGlobalEventTarget(this._doc,Oe);if(!R)throw new Error(`Unsupported event target ${R} for event ${Y}`);return this.addEventListener(R,Y,ae)}}let Xt=(()=>{class tt{constructor(){this.usageCount=new Map}addStyles(Y){for(const ae of Y)1===this.changeUsageCount(ae,1)&&this.onStyleAdded(ae)}removeStyles(Y){for(const ae of Y)0===this.changeUsageCount(ae,-1)&&this.onStyleRemoved(ae)}onStyleRemoved(Y){}onStyleAdded(Y){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(Y,ae){const R=this.usageCount;let te=R.get(Y)??0;return te+=ae,te>0?R.set(Y,te):R.delete(Y),te}ngOnDestroy(){for(const Y of this.getAllStyles())this.onStyleRemoved(Y);this.usageCount.clear()}}return tt.\u0275fac=function(Y){return new(Y||tt)},tt.\u0275prov=ee.Yz7({token:tt,factory:tt.\u0275fac}),tt})(),St=(()=>{class tt extends Xt{constructor(Y){super(),this.doc=Y,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(Y){for(const ae of this.hostNodes)this.addStyleToHost(ae,Y)}onStyleRemoved(Y){const ae=this.styleRef;ae.get(Y)?.forEach(te=>te.remove()),ae.delete(Y)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(Y){this.hostNodes.add(Y);for(const ae of this.getAllStyles())this.addStyleToHost(Y,ae)}removeHost(Y){this.hostNodes.delete(Y)}addStyleToHost(Y,ae){const R=this.doc.createElement("style");R.textContent=ae,Y.appendChild(R);const te=this.styleRef.get(ae);te?te.push(R):this.styleRef.set(ae,[R])}resetHostNodes(){const Y=this.hostNodes;Y.clear(),Y.add(this.doc.head)}}return tt.\u0275fac=function(Y){return new(Y||tt)(ee.LFG(u.K0))},tt.\u0275prov=ee.Yz7({token:tt,factory:tt.\u0275fac}),tt})();const tn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},wt=/%COMP%/g,Ot=new ee.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Jt(tt,Oe){return Oe.flat(100).map(Y=>Y.replace(wt,tt))}function Pn(tt){return Oe=>{if("__ngUnwrap__"===Oe)return tt;!1===tt(Oe)&&(Oe.preventDefault(),Oe.returnValue=!1)}}let dn=(()=>{class tt{constructor(Y,ae,R,te){this.eventManager=Y,this.sharedStylesHost=ae,this.appId=R,this.removeStylesOnCompDestory=te,this.rendererByCompId=new Map,this.defaultRenderer=new ht(Y)}createRenderer(Y,ae){if(!Y||!ae)return this.defaultRenderer;const R=this.getOrCreateRenderer(Y,ae);return R instanceof vt?R.applyToHost(Y):R instanceof Be&&R.applyStyles(),R}getOrCreateRenderer(Y,ae){const R=this.rendererByCompId;let te=R.get(ae.id);if(!te){const Ae=this.eventManager,ke=this.sharedStylesHost,ze=this.removeStylesOnCompDestory;switch(ae.encapsulation){case ee.ifc.Emulated:te=new vt(Ae,ke,ae,this.appId,ze);break;case ee.ifc.ShadowDom:return new Ke(Ae,ke,Y,ae);default:te=new Be(Ae,ke,ae,ze)}te.onDestroy=()=>R.delete(ae.id),R.set(ae.id,te)}return te}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return tt.\u0275fac=function(Y){return new(Y||tt)(ee.LFG(Ze),ee.LFG(St),ee.LFG(ee.AFp),ee.LFG(Ot))},tt.\u0275prov=ee.Yz7({token:tt,factory:tt.\u0275fac}),tt})();class ht{constructor(Oe){this.eventManager=Oe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Oe,Y){return Y?document.createElementNS(tn[Y]||Y,Oe):document.createElement(Oe)}createComment(Oe){return document.createComment(Oe)}createText(Oe){return document.createTextNode(Oe)}appendChild(Oe,Y){(rt(Oe)?Oe.content:Oe).appendChild(Y)}insertBefore(Oe,Y,ae){Oe&&(rt(Oe)?Oe.content:Oe).insertBefore(Y,ae)}removeChild(Oe,Y){Oe&&Oe.removeChild(Y)}selectRootElement(Oe,Y){let ae="string"==typeof Oe?document.querySelector(Oe):Oe;if(!ae)throw new Error(`The selector "${Oe}" did not match any elements`);return Y||(ae.textContent=""),ae}parentNode(Oe){return Oe.parentNode}nextSibling(Oe){return Oe.nextSibling}setAttribute(Oe,Y,ae,R){if(R){Y=R+":"+Y;const te=tn[R];te?Oe.setAttributeNS(te,Y,ae):Oe.setAttribute(Y,ae)}else Oe.setAttribute(Y,ae)}removeAttribute(Oe,Y,ae){if(ae){const R=tn[ae];R?Oe.removeAttributeNS(R,Y):Oe.removeAttribute(`${ae}:${Y}`)}else Oe.removeAttribute(Y)}addClass(Oe,Y){Oe.classList.add(Y)}removeClass(Oe,Y){Oe.classList.remove(Y)}setStyle(Oe,Y,ae,R){R&(ee.JOm.DashCase|ee.JOm.Important)?Oe.style.setProperty(Y,ae,R&ee.JOm.Important?"important":""):Oe.style[Y]=ae}removeStyle(Oe,Y,ae){ae&ee.JOm.DashCase?Oe.style.removeProperty(Y):Oe.style[Y]=""}setProperty(Oe,Y,ae){Oe[Y]=ae}setValue(Oe,Y){Oe.nodeValue=Y}listen(Oe,Y,ae){return"string"==typeof Oe?this.eventManager.addGlobalEventListener(Oe,Y,Pn(ae)):this.eventManager.addEventListener(Oe,Y,Pn(ae))}}function rt(tt){return"TEMPLATE"===tt.tagName&&void 0!==tt.content}class Ke extends ht{constructor(Oe,Y,ae,R){super(Oe),this.sharedStylesHost=Y,this.hostEl=ae,this.shadowRoot=ae.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const te=Jt(R.id,R.styles);for(const Ae of te){const ke=document.createElement("style");ke.textContent=Ae,this.shadowRoot.appendChild(ke)}}nodeOrShadowRoot(Oe){return Oe===this.hostEl?this.shadowRoot:Oe}appendChild(Oe,Y){return super.appendChild(this.nodeOrShadowRoot(Oe),Y)}insertBefore(Oe,Y,ae){return super.insertBefore(this.nodeOrShadowRoot(Oe),Y,ae)}removeChild(Oe,Y){return super.removeChild(this.nodeOrShadowRoot(Oe),Y)}parentNode(Oe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Oe)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Be extends ht{constructor(Oe,Y,ae,R,te=ae.id){super(Oe),this.sharedStylesHost=Y,this.removeStylesOnCompDestory=R,this.rendererUsageCount=0,this.styles=Jt(te,ae.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class vt extends Be{constructor(Oe,Y,ae,R,te){const Ae=R+"-"+ae.id;super(Oe,Y,ae,te,Ae),this.contentAttr=function Wt(tt){return"_ngcontent-%COMP%".replace(wt,tt)}(Ae),this.hostAttr=function En(tt){return"_nghost-%COMP%".replace(wt,tt)}(Ae)}applyToHost(Oe){this.applyStyles(),this.setAttribute(Oe,this.hostAttr,"")}createElement(Oe,Y){const ae=super.createElement(Oe,Y);return super.setAttribute(ae,this.contentAttr,""),ae}}let an=(()=>{class tt extends bt{constructor(Y){super(Y)}supports(Y){return!0}addEventListener(Y,ae,R){return Y.addEventListener(ae,R,!1),()=>this.removeEventListener(Y,ae,R)}removeEventListener(Y,ae,R){return Y.removeEventListener(ae,R)}}return tt.\u0275fac=function(Y){return new(Y||tt)(ee.LFG(u.K0))},tt.\u0275prov=ee.Yz7({token:tt,factory:tt.\u0275fac}),tt})();const Fn=["alt","control","meta","shift"],pn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Bt={alt:tt=>tt.altKey,control:tt=>tt.ctrlKey,meta:tt=>tt.metaKey,shift:tt=>tt.shiftKey};let qt=(()=>{class tt extends bt{constructor(Y){super(Y)}supports(Y){return null!=tt.parseEventName(Y)}addEventListener(Y,ae,R){const te=tt.parseEventName(ae),Ae=tt.eventCallback(te.fullKey,R,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,u.q)().onAndCancel(Y,te.domEventName,Ae))}static parseEventName(Y){const ae=Y.toLowerCase().split("."),R=ae.shift();if(0===ae.length||"keydown"!==R&&"keyup"!==R)return null;const te=tt._normalizeKey(ae.pop());let Ae="",ke=ae.indexOf("code");if(ke>-1&&(ae.splice(ke,1),Ae="code."),Fn.forEach(Ye=>{const Pt=ae.indexOf(Ye);Pt>-1&&(ae.splice(Pt,1),Ae+=Ye+".")}),Ae+=te,0!=ae.length||0===te.length)return null;const ze={};return ze.domEventName=R,ze.fullKey=Ae,ze}static matchEventFullKeyCode(Y,ae){let R=pn[Y.key]||Y.key,te="";return ae.indexOf("code.")>-1&&(R=Y.code,te="code."),!(null==R||!R)&&(R=R.toLowerCase()," "===R?R="space":"."===R&&(R="dot"),Fn.forEach(Ae=>{Ae!==R&&(0,Bt[Ae])(Y)&&(te+=Ae+".")}),te+=R,te===ae)}static eventCallback(Y,ae,R){return te=>{tt.matchEventFullKeyCode(te,Y)&&R.runGuarded(()=>ae(te))}}static _normalizeKey(Y){return"esc"===Y?"escape":Y}}return tt.\u0275fac=function(Y){return new(Y||tt)(ee.LFG(u.K0))},tt.\u0275prov=ee.Yz7({token:tt,factory:tt.\u0275fac}),tt})();const yn=(0,ee.eFA)(ee._c5,"browser",[{provide:ee.Lbi,useValue:u.bD},{provide:ee.g9A,useValue:function dt(){Ue.makeCurrent()},multi:!0},{provide:u.K0,useFactory:function Lt(){return(0,ee.RDi)(document),document},deps:[]}]),On=new ee.OlP(""),_r=[{provide:ee.rWj,useClass:class We{addToWindow(Oe){ee.dqk.getAngularTestability=(ae,R=!0)=>{const te=Oe.findTestabilityInTree(ae,R);if(null==te)throw new Error("Could not find testability for element.");return te},ee.dqk.getAllAngularTestabilities=()=>Oe.getAllTestabilities(),ee.dqk.getAllAngularRootElements=()=>Oe.getAllRootElements(),ee.dqk.frameworkStabilizers||(ee.dqk.frameworkStabilizers=[]),ee.dqk.frameworkStabilizers.push(ae=>{const R=ee.dqk.getAllAngularTestabilities();let te=R.length,Ae=!1;const ke=function(ze){Ae=Ae||ze,te--,0==te&&ae(Ae)};R.forEach(function(ze){ze.whenStable(ke)})})}findTestabilityInTree(Oe,Y,ae){return null==Y?null:Oe.getTestability(Y)??(ae?(0,u.q)().isShadowRoot(Y)?this.findTestabilityInTree(Oe,Y.host,!0):this.findTestabilityInTree(Oe,Y.parentElement,!0):null)}},deps:[]},{provide:ee.lri,useClass:ee.dDg,deps:[ee.R0b,ee.eoX,ee.rWj]},{provide:ee.dDg,useClass:ee.dDg,deps:[ee.R0b,ee.eoX,ee.rWj]}],oe=[{provide:ee.zSh,useValue:"root"},{provide:ee.qLn,useFactory:function Ve(){return new ee.qLn},deps:[]},{provide:ue,useClass:an,multi:!0,deps:[u.K0,ee.R0b,ee.Lbi]},{provide:ue,useClass:qt,multi:!0,deps:[u.K0]},{provide:dn,useClass:dn,deps:[Ze,St,ee.AFp,Ot]},{provide:ee.FYo,useExisting:dn},{provide:Xt,useExisting:St},{provide:St,useClass:St,deps:[u.K0]},{provide:Ze,useClass:Ze,deps:[ue,ee.R0b]},{provide:u.JF,useClass:Tt,deps:[]},[]];let st=(()=>{class tt{constructor(Y){}static withServerTransition(Y){return{ngModule:tt,providers:[{provide:ee.AFp,useValue:Y.appId},{provide:Ie,useExisting:ee.AFp},xe]}}}return tt.\u0275fac=function(Y){return new(Y||tt)(ee.LFG(On,12))},tt.\u0275mod=ee.oAB({type:tt}),tt.\u0275inj=ee.cJS({providers:[...oe,..._r],imports:[u.ez,ee.hGG]}),tt})(),Kt=(()=>{class tt{constructor(Y){this._doc=Y}getTitle(){return this._doc.title}setTitle(Y){this._doc.title=Y||""}}return tt.\u0275fac=function(Y){return new(Y||tt)(ee.LFG(u.K0))},tt.\u0275prov=ee.Yz7({token:tt,factory:function(Y){let ae=null;return ae=Y?new Y:function Zt(){return new Kt((0,ee.LFG)(u.K0))}(),ae},providedIn:"root"}),tt})();typeof window<"u"&&window},878:(sn,ot,O)=>{"use strict";O.d(ot,{gz:()=>Oi,F0:()=>J,rH:()=>fe,Od:()=>pe,Bz:()=>Oa,lC:()=>ns});var u=O(1571),ee=O(457),we=O(9646),Ue=O(1135),ve=O(6805),Je=O(9841),Ge=O(7272),Xe=O(9751),Ie=O(8421);function ge(y){return new Xe.y(w=>{(0,Ie.Xf)(y()).subscribe(w)})}var xe=O(9635),We=O(2843),Tt=O(515),ue=O(727),Ze=O(4482),bt=O(5403);function Xt(){return(0,Ze.e)((y,w)=>{let d=null;y._refCount++;const A=(0,bt.x)(w,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount)return void(d=null);const j=y._connection,ie=d;d=null,j&&(!ie||j===ie)&&j.unsubscribe(),w.unsubscribe()});y.subscribe(A),A.closed||(d=y.connect())})}class St extends Xe.y{constructor(w,d){super(),this.source=w,this.subjectFactory=d,this._subject=null,this._refCount=0,this._connection=null,(0,Ze.A)(w)&&(this.lift=w.lift)}_subscribe(w){return this.getSubject().subscribe(w)}getSubject(){const w=this._subject;return(!w||w.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:w}=this;this._subject=this._connection=null,w?.unsubscribe()}connect(){let w=this._connection;if(!w){w=this._connection=new ue.w0;const d=this.getSubject();w.add(this.source.subscribe((0,bt.x)(d,void 0,()=>{this._teardown(),d.complete()},A=>{this._teardown(),d.error(A)},()=>this._teardown()))),w.closed&&(this._connection=null,w=ue.w0.EMPTY)}return w}refCount(){return Xt()(this)}}var tn=O(7579),wt=O(6895),be=O(4004),De=O(3900),et=O(5698),_t=O(8675),$t=O(9300),Ot=O(5577),Wt=O(590),En=O(4351),Jt=O(8505),Pn=O(262),dn=O(5026);function ht(y){return y<=0?()=>Tt.E:(0,Ze.e)((w,d)=>{let A=[];w.subscribe((0,bt.x)(d,j=>{A.push(j),y<A.length&&A.shift()},()=>{for(const j of A)d.next(j);d.complete()},void 0,()=>{A=null}))})}var pt=O(8068),xt=O(6590),rt=O(4671);function Ke(y,w){const d=arguments.length>=2;return A=>A.pipe(y?(0,$t.h)((j,ie)=>y(j,ie,A)):rt.y,ht(1),d?(0,xt.d)(w):(0,pt.T)(()=>new ve.K))}var vt=O(9718);function an(y){return(0,Ze.e)((w,d)=>{try{w.subscribe(d)}finally{d.add(y)}})}var Fn=O(8189),pn=O(1481);const Bt="primary",qt=Symbol("RouteTitle");class Bn{constructor(w){this.params=w||{}}has(w){return Object.prototype.hasOwnProperty.call(this.params,w)}get(w){if(this.has(w)){const d=this.params[w];return Array.isArray(d)?d[0]:d}return null}getAll(w){if(this.has(w)){const d=this.params[w];return Array.isArray(d)?d:[d]}return[]}get keys(){return Object.keys(this.params)}}function mr(y){return new Bn(y)}function Dr(y,w,d){const A=d.path.split("/");if(A.length>y.length||"full"===d.pathMatch&&(w.hasChildren()||A.length<y.length))return null;const j={};for(let ie=0;ie<A.length;ie++){const le=A[ie],Qe=y[ie];if(le.startsWith(":"))j[le.substring(1)]=Qe;else if(le!==Qe.path)return null}return{consumed:y.slice(0,A.length),posParams:j}}function ut(y,w){const d=y?Object.keys(y):void 0,A=w?Object.keys(w):void 0;if(!d||!A||d.length!=A.length)return!1;let j;for(let ie=0;ie<d.length;ie++)if(j=d[ie],!dt(y[j],w[j]))return!1;return!0}function dt(y,w){if(Array.isArray(y)&&Array.isArray(w)){if(y.length!==w.length)return!1;const d=[...y].sort(),A=[...w].sort();return d.every((j,ie)=>A[ie]===j)}return y===w}function Ve(y){return Array.prototype.concat.apply([],y)}function Lt(y){return y.length>0?y[y.length-1]:null}function yn(y,w){for(const d in y)y.hasOwnProperty(d)&&w(y[d],d)}function On(y){return(0,u.CqO)(y)?y:(0,u.QGY)(y)?(0,ee.D)(Promise.resolve(y)):(0,we.of)(y)}const _r=!1,oe={exact:function At(y,w,d){if(!Kn(y.segments,w.segments)||!Et(y.segments,w.segments,d)||y.numberOfChildren!==w.numberOfChildren)return!1;for(const A in w.children)if(!y.children[A]||!At(y.children[A],w.children[A],d))return!1;return!0},subset:Kt},st={exact:function Mt(y,w){return ut(y,w)},subset:function Zt(y,w){return Object.keys(w).length<=Object.keys(y).length&&Object.keys(w).every(d=>dt(y[d],w[d]))},ignored:()=>!0};function gt(y,w,d){return oe[d.paths](y.root,w.root,d.matrixParams)&&st[d.queryParams](y.queryParams,w.queryParams)&&!("exact"===d.fragment&&y.fragment!==w.fragment)}function Kt(y,w,d){return Dt(y,w,w.segments,d)}function Dt(y,w,d,A){if(y.segments.length>d.length){const j=y.segments.slice(0,d.length);return!(!Kn(j,d)||w.hasChildren()||!Et(j,d,A))}if(y.segments.length===d.length){if(!Kn(y.segments,d)||!Et(y.segments,d,A))return!1;for(const j in w.children)if(!y.children[j]||!Kt(y.children[j],w.children[j],A))return!1;return!0}{const j=d.slice(0,y.segments.length),ie=d.slice(y.segments.length);return!!(Kn(y.segments,j)&&Et(y.segments,j,A)&&y.children[Bt])&&Dt(y.children[Bt],w,ie,A)}}function Et(y,w,d){return w.every((A,j)=>st[d](y[j].parameters,A.parameters))}class wn{constructor(w=new kt([],{}),d={},A=null){this.root=w,this.queryParams=d,this.fragment=A}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mr(this.queryParams)),this._queryParamMap}toString(){return zn.serialize(this)}}class kt{constructor(w,d){this.segments=w,this.children=d,this.parent=null,yn(d,(A,j)=>A.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _i(this)}}class Wn{constructor(w,d){this.path=w,this.parameters=d}get parameterMap(){return this._parameterMap||(this._parameterMap=mr(this.parameters)),this._parameterMap}toString(){return Nt(this)}}function Kn(y,w){return y.length===w.length&&y.every((d,A)=>d.path===w[A].path)}let Zn=(()=>{class y{}return y.\u0275fac=function(d){return new(d||y)},y.\u0275prov=u.Yz7({token:y,factory:function(){return new jr},providedIn:"root"}),y})();class jr{parse(w){const d=new Y(w);return new wn(d.parseRootSegment(),d.parseQueryParams(),d.parseFragment())}serialize(w){const d=`/${ti(w.root,!0)}`,A=function Hn(y){const w=Object.keys(y).map(d=>{const A=y[d];return Array.isArray(A)?A.map(j=>`${tr(d)}=${tr(j)}`).join("&"):`${tr(d)}=${tr(A)}`}).filter(d=>!!d);return w.length?`?${w.join("&")}`:""}(w.queryParams);return`${d}${A}${"string"==typeof w.fragment?`#${function yt(y){return encodeURI(y)}(w.fragment)}`:""}`}}const zn=new jr;function _i(y){return y.segments.map(w=>Nt(w)).join("/")}function ti(y,w){if(!y.hasChildren())return _i(y);if(w){const d=y.children[Bt]?ti(y.children[Bt],!1):"",A=[];return yn(y.children,(j,ie)=>{ie!==Bt&&A.push(`${ie}:${ti(j,!1)}`)}),A.length>0?`${d}(${A.join("//")})`:d}{const d=function Tr(y,w){let d=[];return yn(y.children,(A,j)=>{j===Bt&&(d=d.concat(w(A,j)))}),yn(y.children,(A,j)=>{j!==Bt&&(d=d.concat(w(A,j)))}),d}(y,(A,j)=>j===Bt?[ti(y.children[Bt],!1)]:[`${j}:${ti(A,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[Bt]?`${_i(y)}/${d[0]}`:`${_i(y)}/(${d.join("//")})`}}function Kr(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function tr(y){return Kr(y).replace(/%3B/gi,";")}function Pe(y){return Kr(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fe(y){return decodeURIComponent(y)}function Vt(y){return Fe(y.replace(/\+/g,"%20"))}function Nt(y){return`${Pe(y.path)}${function Tn(y){return Object.keys(y).map(w=>`;${Pe(w)}=${Pe(y[w])}`).join("")}(y.parameters)}`}const hr=/^[^\/()?;=#]+/;function Un(y){const w=y.match(hr);return w?w[0]:""}const ar=/^[^=?&#]+/,tt=/^[^&#]+/;class Y{constructor(w){this.url=w,this.remaining=w}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new kt([],{}):new kt([],this.parseChildren())}parseQueryParams(){const w={};if(this.consumeOptional("?"))do{this.parseQueryParam(w)}while(this.consumeOptional("&"));return w}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const w=[];for(this.peekStartsWith("(")||w.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),w.push(this.parseSegment());let d={};this.peekStartsWith("/(")&&(this.capture("/"),d=this.parseParens(!0));let A={};return this.peekStartsWith("(")&&(A=this.parseParens(!1)),(w.length>0||Object.keys(d).length>0)&&(A[Bt]=new kt(w,d)),A}parseSegment(){const w=Un(this.remaining);if(""===w&&this.peekStartsWith(";"))throw new u.vHH(4009,_r);return this.capture(w),new Wn(Fe(w),this.parseMatrixParams())}parseMatrixParams(){const w={};for(;this.consumeOptional(";");)this.parseParam(w);return w}parseParam(w){const d=Un(this.remaining);if(!d)return;this.capture(d);let A="";if(this.consumeOptional("=")){const j=Un(this.remaining);j&&(A=j,this.capture(A))}w[Fe(d)]=Fe(A)}parseQueryParam(w){const d=function Wr(y){const w=y.match(ar);return w?w[0]:""}(this.remaining);if(!d)return;this.capture(d);let A="";if(this.consumeOptional("=")){const le=function Oe(y){const w=y.match(tt);return w?w[0]:""}(this.remaining);le&&(A=le,this.capture(A))}const j=Vt(d),ie=Vt(A);if(w.hasOwnProperty(j)){let le=w[j];Array.isArray(le)||(le=[le],w[j]=le),le.push(ie)}else w[j]=ie}parseParens(w){const d={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const A=Un(this.remaining),j=this.remaining[A.length];if("/"!==j&&")"!==j&&";"!==j)throw new u.vHH(4010,_r);let ie;A.indexOf(":")>-1?(ie=A.slice(0,A.indexOf(":")),this.capture(ie),this.capture(":")):w&&(ie=Bt);const le=this.parseChildren();d[ie]=1===Object.keys(le).length?le[Bt]:new kt([],le),this.consumeOptional("//")}return d}peekStartsWith(w){return this.remaining.startsWith(w)}consumeOptional(w){return!!this.peekStartsWith(w)&&(this.remaining=this.remaining.substring(w.length),!0)}capture(w){if(!this.consumeOptional(w))throw new u.vHH(4011,_r)}}function ae(y){return y.segments.length>0?new kt([],{[Bt]:y}):y}function R(y){const w={};for(const A of Object.keys(y.children)){const ie=R(y.children[A]);(ie.segments.length>0||ie.hasChildren())&&(w[A]=ie)}return function te(y){if(1===y.numberOfChildren&&y.children[Bt]){const w=y.children[Bt];return new kt(y.segments.concat(w.segments),w.children)}return y}(new kt(y.segments,w))}function Ae(y){return y instanceof wn}const ke=!1;function Qt(y,w,d,A,j){if(0===d.length)return hn(w.root,w.root,w.root,A,j);const ie=function fr(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new kn(!0,0,y);let w=0,d=!1;const A=y.reduce((j,ie,le)=>{if("object"==typeof ie&&null!=ie){if(ie.outlets){const Qe={};return yn(ie.outlets,(Ht,vn)=>{Qe[vn]="string"==typeof Ht?Ht.split("/"):Ht}),[...j,{outlets:Qe}]}if(ie.segmentPath)return[...j,ie.segmentPath]}return"string"!=typeof ie?[...j,ie]:0===le?(ie.split("/").forEach((Qe,Ht)=>{0==Ht&&"."===Qe||(0==Ht&&""===Qe?d=!0:".."===Qe?w++:""!=Qe&&j.push(Qe))}),j):[...j,ie]},[]);return new kn(d,w,A)}(d);return ie.toRoot()?hn(w.root,w.root,new kt([],{}),A,j):function le(Ht){const vn=function Qn(y,w,d,A){if(y.isAbsolute)return new Ur(w.root,!0,0);if(-1===A)return new Ur(d,d===w.root,0);return function _e(y,w,d){let A=y,j=w,ie=d;for(;ie>j;){if(ie-=j,A=A.parent,!A)throw new u.vHH(4005,ke&&"Invalid number of '../'");j=A.segments.length}return new Ur(A,!1,j-ie)}(d,A+(cn(y.commands[0])?0:1),y.numberOfDoubleDots)}(ie,w,y.snapshot?._urlSegment,Ht),Dn=vn.processChildren?he(vn.segmentGroup,vn.index,ie.commands):L(vn.segmentGroup,vn.index,ie.commands);return hn(w.root,vn.segmentGroup,Dn,A,j)}(y.snapshot?._lastPathIndex)}function cn(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function jt(y){return"object"==typeof y&&null!=y&&y.outlets}function hn(y,w,d,A,j){let le,ie={};A&&yn(A,(Ht,vn)=>{ie[vn]=Array.isArray(Ht)?Ht.map(Dn=>`${Dn}`):`${Ht}`}),le=y===w?d:Cn(y,w,d);const Qe=ae(R(le));return new wn(Qe,ie,j)}function Cn(y,w,d){const A={};return yn(y.children,(j,ie)=>{A[ie]=j===w?d:Cn(j,w,d)}),new kt(y.segments,A)}class kn{constructor(w,d,A){if(this.isAbsolute=w,this.numberOfDoubleDots=d,this.commands=A,w&&A.length>0&&cn(A[0]))throw new u.vHH(4003,ke&&"Root segment cannot have matrix parameters");const j=A.find(jt);if(j&&j!==Lt(A))throw new u.vHH(4004,ke&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ur{constructor(w,d,A){this.segmentGroup=w,this.processChildren=d,this.index=A}}function L(y,w,d){if(y||(y=new kt([],{})),0===y.segments.length&&y.hasChildren())return he(y,w,d);const A=function qe(y,w,d){let A=0,j=w;const ie={match:!1,pathIndex:0,commandIndex:0};for(;j<y.segments.length;){if(A>=d.length)return ie;const le=y.segments[j],Qe=d[A];if(jt(Qe))break;const Ht=`${Qe}`,vn=A<d.length-1?d[A+1]:null;if(j>0&&void 0===Ht)break;if(Ht&&vn&&"object"==typeof vn&&void 0===vn.outlets){if(!ur(Ht,vn,le))return ie;A+=2}else{if(!ur(Ht,{},le))return ie;A++}j++}return{match:!0,pathIndex:j,commandIndex:A}}(y,w,d),j=d.slice(A.commandIndex);if(A.match&&A.pathIndex<y.segments.length){const ie=new kt(y.segments.slice(0,A.pathIndex),{});return ie.children[Bt]=new kt(y.segments.slice(A.pathIndex),y.children),he(ie,0,j)}return A.match&&0===j.length?new kt(y.segments,{}):A.match&&!y.hasChildren()?Ct(y,w,d):A.match?he(y,0,j):Ct(y,w,d)}function he(y,w,d){if(0===d.length)return new kt(y.segments,{});{const A=function Ee(y){return jt(y[0])?y[0].outlets:{[Bt]:y}}(d),j={};return!A[Bt]&&y.children[Bt]&&1===y.numberOfChildren&&0===y.children[Bt].segments.length?he(y.children[Bt],w,d):(yn(A,(ie,le)=>{"string"==typeof ie&&(ie=[ie]),null!==ie&&(j[le]=L(y.children[le],w,ie))}),yn(y.children,(ie,le)=>{void 0===A[le]&&(j[le]=ie)}),new kt(y.segments,j))}}function Ct(y,w,d){const A=y.segments.slice(0,w);let j=0;for(;j<d.length;){const ie=d[j];if(jt(ie)){const Ht=nn(ie.outlets);return new kt(A,Ht)}if(0===j&&cn(d[0])){A.push(new Wn(y.segments[w].path,rr(d[0]))),j++;continue}const le=jt(ie)?ie.outlets[Bt]:`${ie}`,Qe=j<d.length-1?d[j+1]:null;le&&Qe&&cn(Qe)?(A.push(new Wn(le,rr(Qe))),j+=2):(A.push(new Wn(le,{})),j++)}return new kt(A,{})}function nn(y){const w={};return yn(y,(d,A)=>{"string"==typeof d&&(d=[d]),null!==d&&(w[A]=Ct(new kt([],{}),0,d))}),w}function rr(y){const w={};return yn(y,(d,A)=>w[A]=`${d}`),w}function ur(y,w,d){return y==d.path&&ut(w,d.parameters)}const zt="imperative";class Sn{constructor(w,d){this.id=w,this.url=d}}class Xn extends Sn{constructor(w,d,A="imperative",j=null){super(w,d),this.type=0,this.navigationTrigger=A,this.restoredState=j}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Sr extends Sn{constructor(w,d,A){super(w,d),this.urlAfterRedirects=A,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class br extends Sn{constructor(w,d,A,j){super(w,d),this.reason=A,this.code=j,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class zr extends Sn{constructor(w,d,A,j){super(w,d),this.reason=A,this.code=j,this.type=16}}class gi extends Sn{constructor(w,d,A,j){super(w,d),this.error=A,this.target=j,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class vr extends Sn{constructor(w,d,A,j){super(w,d),this.urlAfterRedirects=A,this.state=j,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ei extends Sn{constructor(w,d,A,j){super(w,d),this.urlAfterRedirects=A,this.state=j,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bi extends Sn{constructor(w,d,A,j,ie){super(w,d),this.urlAfterRedirects=A,this.state=j,this.shouldActivate=ie,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ln extends Sn{constructor(w,d,A,j){super(w,d),this.urlAfterRedirects=A,this.state=j,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ws extends Sn{constructor(w,d,A,j){super(w,d),this.urlAfterRedirects=A,this.state=j,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hi{constructor(w){this.route=w,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Xi{constructor(w){this.route=w,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Jr{constructor(w){this.snapshot=w,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pr{constructor(w){this.snapshot=w,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class us{constructor(w){this.snapshot=w,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zr{constructor(w){this.snapshot=w,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Or{constructor(w,d,A){this.routerEvent=w,this.position=d,this.anchor=A,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Ar=(()=>{class y{createUrlTree(d,A,j,ie,le,Qe){return Qt(d||A.root,j,ie,le,Qe)}}return y.\u0275fac=function(d){return new(d||y)},y.\u0275prov=u.Yz7({token:y,factory:y.\u0275fac}),y})(),gs=(()=>{class y{}return y.\u0275fac=function(d){return new(d||y)},y.\u0275prov=u.Yz7({token:y,factory:function(w){return Ar.\u0275fac(w)},providedIn:"root"}),y})();class Ri{constructor(w){this._root=w}get root(){return this._root.value}parent(w){const d=this.pathFromRoot(w);return d.length>1?d[d.length-2]:null}children(w){const d=Nr(w,this._root);return d?d.children.map(A=>A.value):[]}firstChild(w){const d=Nr(w,this._root);return d&&d.children.length>0?d.children[0].value:null}siblings(w){const d=ms(w,this._root);return d.length<2?[]:d[d.length-2].children.map(j=>j.value).filter(j=>j!==w)}pathFromRoot(w){return ms(w,this._root).map(d=>d.value)}}function Nr(y,w){if(y===w.value)return w;for(const d of w.children){const A=Nr(y,d);if(A)return A}return null}function ms(y,w){if(y===w.value)return[w];for(const d of w.children){const A=ms(y,d);if(A.length)return A.unshift(w),A}return[]}class wi{constructor(w,d){this.value=w,this.children=d}toString(){return`TreeNode(${this.value})`}}function Hr(y){const w={};return y&&y.children.forEach(d=>w[d.value.outlet]=d),w}class Ds extends Ri{constructor(w,d){super(w),this.snapshot=d,qi(this,w)}toString(){return this.snapshot.toString()}}function Gr(y,w){const d=function mn(y,w){const le=new ri([],{},{},"",{},Bt,w,null,y.root,-1,{});return new Vs("",new wi(le,[]))}(y,w),A=new Ue.X([new Wn("",{})]),j=new Ue.X({}),ie=new Ue.X({}),le=new Ue.X({}),Qe=new Ue.X(""),Ht=new Oi(A,j,le,Qe,ie,Bt,w,d.root);return Ht.snapshot=d.root,new Ds(new wi(Ht,[]),d)}class Oi{constructor(w,d,A,j,ie,le,Qe,Ht){this.url=w,this.params=d,this.queryParams=A,this.fragment=j,this.data=ie,this.outlet=le,this.component=Qe,this.title=this.data?.pipe((0,be.U)(vn=>vn[qt]))??(0,we.of)(void 0),this._futureSnapshot=Ht}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,be.U)(w=>mr(w)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,be.U)(w=>mr(w)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Vi(y,w="emptyOnly"){const d=y.pathFromRoot;let A=0;if("always"!==w)for(A=d.length-1;A>=1;){const j=d[A],ie=d[A-1];if(j.routeConfig&&""===j.routeConfig.path)A--;else{if(ie.component)break;A--}}return function vs(y){return y.reduce((w,d)=>({params:{...w.params,...d.params},data:{...w.data,...d.data},resolve:{...d.data,...w.resolve,...d.routeConfig?.data,...d._resolvedData}}),{params:{},data:{},resolve:{}})}(d.slice(A))}class ri{get title(){return this.data?.[qt]}constructor(w,d,A,j,ie,le,Qe,Ht,vn,Dn,ir){this.url=w,this.params=d,this.queryParams=A,this.fragment=j,this.data=ie,this.outlet=le,this.component=Qe,this.routeConfig=Ht,this._urlSegment=vn,this._lastPathIndex=Dn,this._resolve=ir}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=mr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(A=>A.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Vs extends Ri{constructor(w,d){super(d),this.url=w,qi(this,d)}toString(){return js(this._root)}}function qi(y,w){w.value._routerState=y,w.children.forEach(d=>qi(y,d))}function js(y){const w=y.children.length>0?` { ${y.children.map(js).join(", ")} } `:"";return`${y.value}${w}`}function ji(y){if(y.snapshot){const w=y.snapshot,d=y._futureSnapshot;y.snapshot=d,ut(w.queryParams,d.queryParams)||y.queryParams.next(d.queryParams),w.fragment!==d.fragment&&y.fragment.next(d.fragment),ut(w.params,d.params)||y.params.next(d.params),function Jn(y,w){if(y.length!==w.length)return!1;for(let d=0;d<y.length;++d)if(!ut(y[d],w[d]))return!1;return!0}(w.url,d.url)||y.url.next(d.url),ut(w.data,d.data)||y.data.next(d.data)}else y.snapshot=y._futureSnapshot,y.data.next(y._futureSnapshot.data)}function Us(y,w){const d=ut(y.params,w.params)&&function Er(y,w){return Kn(y,w)&&y.every((d,A)=>ut(d.parameters,w[A].parameters))}(y.url,w.url);return d&&!(!y.parent!=!w.parent)&&(!y.parent||Us(y.parent,w.parent))}function Ui(y,w,d){if(d&&y.shouldReuseRoute(w.value,d.value.snapshot)){const A=d.value;A._futureSnapshot=w.value;const j=function yo(y,w,d){return w.children.map(A=>{for(const j of d.children)if(y.shouldReuseRoute(A.value,j.value.snapshot))return Ui(y,A,j);return Ui(y,A)})}(y,w,d);return new wi(A,j)}{if(y.shouldAttach(w.value)){const ie=y.retrieve(w.value);if(null!==ie){const le=ie.route;return le.value._futureSnapshot=w.value,le.children=w.children.map(Qe=>Ui(y,Qe)),le}}const A=function Cs(y){return new Oi(new Ue.X(y.url),new Ue.X(y.params),new Ue.X(y.queryParams),new Ue.X(y.fragment),new Ue.X(y.data),y.outlet,y.component,y)}(w.value),j=w.children.map(ie=>Ui(y,ie));return new wi(A,j)}}const $r="ngNavigationCancelingError";function As(y,w){const{redirectTo:d,navigationBehaviorOptions:A}=Ae(w)?{redirectTo:w,navigationBehaviorOptions:void 0}:w,j=qs(!1,0,w);return j.url=d,j.navigationBehaviorOptions=A,j}function qs(y,w,d){const A=new Error("NavigationCancelingError: "+(y||""));return A[$r]=!0,A.cancellationCode=w,d&&(A.url=d),A}function xs(y){return $s(y)&&Ae(y.url)}function $s(y){return y&&y[$r]}class no{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ii,this.attachRef=null}}let ii=(()=>{class y{constructor(){this.contexts=new Map}onChildOutletCreated(d,A){const j=this.getOrCreateContext(d);j.outlet=A,this.contexts.set(d,j)}onChildOutletDestroyed(d){const A=this.getContext(d);A&&(A.outlet=null,A.attachRef=null)}onOutletDeactivated(){const d=this.contexts;return this.contexts=new Map,d}onOutletReAttached(d){this.contexts=d}getOrCreateContext(d){let A=this.getContext(d);return A||(A=new no,this.contexts.set(d,A)),A}getContext(d){return this.contexts.get(d)||null}}return y.\u0275fac=function(d){return new(d||y)},y.\u0275prov=u.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const ts=!1;let ns=(()=>{class y{constructor(){this.activated=null,this._activatedRoute=null,this.name=Bt,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.parentContexts=(0,u.f3M)(ii),this.location=(0,u.f3M)(u.s_b),this.changeDetector=(0,u.f3M)(u.sBO),this.environmentInjector=(0,u.f3M)(u.lqb)}ngOnChanges(d){if(d.name){const{firstChange:A,previousValue:j}=d.name;if(A)return;this.isTrackedInParentContexts(j)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(j)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(d){return this.parentContexts.getContext(d)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const d=this.parentContexts.getContext(this.name);d?.route&&(d.attachRef?this.attach(d.attachRef,d.route):this.activateWith(d.route,d.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,ts);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,ts);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,ts);this.location.detach();const d=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(d.instance),d}attach(d,A){this.activated=d,this._activatedRoute=A,this.location.insert(d.hostView),this.attachEvents.emit(d.instance)}deactivate(){if(this.activated){const d=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(d)}}activateWith(d,A){if(this.isActivated)throw new u.vHH(4013,ts);this._activatedRoute=d;const j=this.location,le=d.snapshot.component,Qe=this.parentContexts.getOrCreateContext(this.name).children,Ht=new lr(d,Qe,j.injector);if(A&&function ro(y){return!!y.resolveComponentFactory}(A)){const vn=A.resolveComponentFactory(le);this.activated=j.createComponent(vn,j.length,Ht)}else this.activated=j.createComponent(le,{index:j.length,injector:Ht,environmentInjector:A??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return y.\u0275fac=function(d){return new(d||y)},y.\u0275dir=u.lG2({type:y,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[u.TTD]}),y})();class lr{constructor(w,d,A){this.route=w,this.childContexts=d,this.parent=A}get(w,d){return w===Oi?this.route:w===ii?this.childContexts:this.parent.get(w,d)}}let Ts=(()=>{class y{}return y.\u0275fac=function(d){return new(d||y)},y.\u0275cmp=u.Xpm({type:y,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(d,A){1&d&&u._UZ(0,"router-outlet")},dependencies:[ns],encapsulation:2}),y})();function Si(y,w){return y.providers&&!y._injector&&(y._injector=(0,u.MMx)(y.providers,w,`Route: ${y.path}`)),y._injector??w}function Ai(y){const w=y.children&&y.children.map(Ai),d=w?{...y,children:w}:{...y};return!d.component&&!d.loadComponent&&(w||d.loadChildren)&&d.outlet&&d.outlet!==Bt&&(d.component=Ts),d}function oi(y){return y.outlet||Bt}function di(y,w){const d=y.filter(A=>oi(A)===w);return d.push(...y.filter(A=>oi(A)!==w)),d}function Ti(y){if(!y)return null;if(y.routeConfig?._injector)return y.routeConfig._injector;for(let w=y.parent;w;w=w.parent){const d=w.routeConfig;if(d?._loadedInjector)return d._loadedInjector;if(d?._injector)return d._injector}return null}class qr{constructor(w,d,A,j){this.routeReuseStrategy=w,this.futureState=d,this.currState=A,this.forwardEvent=j}activate(w){const d=this.futureState._root,A=this.currState?this.currState._root:null;this.deactivateChildRoutes(d,A,w),ji(this.futureState.root),this.activateChildRoutes(d,A,w)}deactivateChildRoutes(w,d,A){const j=Hr(d);w.children.forEach(ie=>{const le=ie.value.outlet;this.deactivateRoutes(ie,j[le],A),delete j[le]}),yn(j,(ie,le)=>{this.deactivateRouteAndItsChildren(ie,A)})}deactivateRoutes(w,d,A){const j=w.value,ie=d?d.value:null;if(j===ie)if(j.component){const le=A.getContext(j.outlet);le&&this.deactivateChildRoutes(w,d,le.children)}else this.deactivateChildRoutes(w,d,A);else ie&&this.deactivateRouteAndItsChildren(d,A)}deactivateRouteAndItsChildren(w,d){w.value.component&&this.routeReuseStrategy.shouldDetach(w.value.snapshot)?this.detachAndStoreRouteSubtree(w,d):this.deactivateRouteAndOutlet(w,d)}detachAndStoreRouteSubtree(w,d){const A=d.getContext(w.value.outlet),j=A&&w.value.component?A.children:d,ie=Hr(w);for(const le of Object.keys(ie))this.deactivateRouteAndItsChildren(ie[le],j);if(A&&A.outlet){const le=A.outlet.detach(),Qe=A.children.onOutletDeactivated();this.routeReuseStrategy.store(w.value.snapshot,{componentRef:le,route:w,contexts:Qe})}}deactivateRouteAndOutlet(w,d){const A=d.getContext(w.value.outlet),j=A&&w.value.component?A.children:d,ie=Hr(w);for(const le of Object.keys(ie))this.deactivateRouteAndItsChildren(ie[le],j);A&&A.outlet&&(A.outlet.deactivate(),A.children.onOutletDeactivated(),A.attachRef=null,A.resolver=null,A.route=null)}activateChildRoutes(w,d,A){const j=Hr(d);w.children.forEach(ie=>{this.activateRoutes(ie,j[ie.value.outlet],A),this.forwardEvent(new Zr(ie.value.snapshot))}),w.children.length&&this.forwardEvent(new pr(w.value.snapshot))}activateRoutes(w,d,A){const j=w.value,ie=d?d.value:null;if(ji(j),j===ie)if(j.component){const le=A.getOrCreateContext(j.outlet);this.activateChildRoutes(w,d,le.children)}else this.activateChildRoutes(w,d,A);else if(j.component){const le=A.getOrCreateContext(j.outlet);if(this.routeReuseStrategy.shouldAttach(j.snapshot)){const Qe=this.routeReuseStrategy.retrieve(j.snapshot);this.routeReuseStrategy.store(j.snapshot,null),le.children.onOutletReAttached(Qe.contexts),le.attachRef=Qe.componentRef,le.route=Qe.route.value,le.outlet&&le.outlet.attach(Qe.componentRef,Qe.route.value),ji(Qe.route.value),this.activateChildRoutes(w,null,le.children)}else{const Qe=Ti(j.snapshot),Ht=Qe?.get(u._Vd)??null;le.attachRef=null,le.route=j,le.resolver=Ht,le.injector=Qe,le.outlet&&le.outlet.activateWith(j,le.injector),this.activateChildRoutes(w,null,le.children)}}else this.activateChildRoutes(w,null,A)}}class is{constructor(w){this.path=w,this.route=this.path[this.path.length-1]}}class Ut{constructor(w,d){this.component=w,this.route=d}}function h(y,w,d){const A=y._root;return Ii(A,w?w._root:null,d,[A.value])}function Ji(y,w){const d=Symbol(),A=w.get(y,d);return A===d?"function"!=typeof y||(0,u.Z0I)(y)?w.get(y):y:A}function Ii(y,w,d,A,j={canDeactivateChecks:[],canActivateChecks:[]}){const ie=Hr(w);return y.children.forEach(le=>{(function Qr(y,w,d,A,j={canDeactivateChecks:[],canActivateChecks:[]}){const ie=y.value,le=w?w.value:null,Qe=d?d.getContext(y.value.outlet):null;if(le&&ie.routeConfig===le.routeConfig){const Ht=function Xr(y,w,d){if("function"==typeof d)return d(y,w);switch(d){case"pathParamsChange":return!Kn(y.url,w.url);case"pathParamsOrQueryParamsChange":return!Kn(y.url,w.url)||!ut(y.queryParams,w.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Us(y,w)||!ut(y.queryParams,w.queryParams);default:return!Us(y,w)}}(le,ie,ie.routeConfig.runGuardsAndResolvers);Ht?j.canActivateChecks.push(new is(A)):(ie.data=le.data,ie._resolvedData=le._resolvedData),Ii(y,w,ie.component?Qe?Qe.children:null:d,A,j),Ht&&Qe&&Qe.outlet&&Qe.outlet.isActivated&&j.canDeactivateChecks.push(new Ut(Qe.outlet.component,le))}else le&&Zi(w,Qe,j),j.canActivateChecks.push(new is(A)),Ii(y,null,ie.component?Qe?Qe.children:null:d,A,j)})(le,ie[le.value.outlet],d,A.concat([le.value]),j),delete ie[le.value.outlet]}),yn(ie,(le,Qe)=>Zi(le,d.getContext(Qe),j)),j}function Zi(y,w,d){const A=Hr(y),j=y.value;yn(A,(ie,le)=>{Zi(ie,j.component?w?w.children.getContext(le):null:w,d)}),d.canDeactivateChecks.push(new Ut(j.component&&w&&w.outlet&&w.outlet.isActivated?w.outlet.component:null,j))}function ys(y){return"function"==typeof y}function N(y){return y instanceof ve.K||"EmptyError"===y?.name}const F=Symbol("INITIAL_VALUE");function X(){return(0,De.w)(y=>(0,Je.a)(y.map(w=>w.pipe((0,et.q)(1),(0,_t.O)(F)))).pipe((0,be.U)(w=>{for(const d of w)if(!0!==d){if(d===F)return F;if(!1===d||d instanceof wn)return d}return!0}),(0,$t.h)(w=>w!==F),(0,et.q)(1)))}function Fs(y){return(0,xe.z)((0,Jt.b)(w=>{if(Ae(w))throw As(0,w)}),(0,be.U)(w=>!0===w))}const kr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Vr(y,w,d,A,j){const ie=io(y,w,d);return ie.matched?function Ms(y,w,d,A){const j=w.canMatch;if(!j||0===j.length)return(0,we.of)(!0);const ie=j.map(le=>{const Qe=Ji(le,y);return On(function _s(y){return y&&ys(y.canMatch)}(Qe)?Qe.canMatch(w,d):y.runInContext(()=>Qe(w,d)))});return(0,we.of)(ie).pipe(X(),Fs())}(A=Si(w,A),w,d).pipe((0,be.U)(le=>!0===le?ie:{...kr})):(0,we.of)(ie)}function io(y,w,d){if(""===w.path)return"full"===w.pathMatch&&(y.hasChildren()||d.length>0)?{...kr}:{matched:!0,consumedSegments:[],remainingSegments:d,parameters:{},positionalParamSegments:{}};const j=(w.matcher||Dr)(d,y,w);if(!j)return{...kr};const ie={};yn(j.posParams,(Qe,Ht)=>{ie[Ht]=Qe.path});const le=j.consumed.length>0?{...ie,...j.consumed[j.consumed.length-1].parameters}:ie;return{matched:!0,consumedSegments:j.consumed,remainingSegments:d.slice(j.consumed.length),parameters:le,positionalParamSegments:j.posParams??{}}}function ei(y,w,d,A){if(d.length>0&&function Rs(y,w,d){return d.some(A=>Os(y,w,A)&&oi(A)!==Bt)}(y,d,A)){const ie=new kt(w,function Ps(y,w,d,A){const j={};j[Bt]=A,A._sourceSegment=y,A._segmentIndexShift=w.length;for(const ie of d)if(""===ie.path&&oi(ie)!==Bt){const le=new kt([],{});le._sourceSegment=y,le._segmentIndexShift=w.length,j[oi(ie)]=le}return j}(y,w,A,new kt(d,y.children)));return ie._sourceSegment=y,ie._segmentIndexShift=w.length,{segmentGroup:ie,slicedSegments:[]}}if(0===d.length&&function Gi(y,w,d){return d.some(A=>Os(y,w,A))}(y,d,A)){const ie=new kt(y.segments,function zi(y,w,d,A,j){const ie={};for(const le of A)if(Os(y,d,le)&&!j[oi(le)]){const Qe=new kt([],{});Qe._sourceSegment=y,Qe._segmentIndexShift=w.length,ie[oi(le)]=Qe}return{...j,...ie}}(y,w,d,A,y.children));return ie._sourceSegment=y,ie._segmentIndexShift=w.length,{segmentGroup:ie,slicedSegments:d}}const j=new kt(y.segments,y.children);return j._sourceSegment=y,j._segmentIndexShift=w.length,{segmentGroup:j,slicedSegments:d}}function Os(y,w,d){return(!(y.hasChildren()||w.length>0)||"full"!==d.pathMatch)&&""===d.path}function so(y,w,d,A){return!!(oi(y)===A||A!==Bt&&Os(w,d,y))&&("**"===y.path||io(w,y,d).matched)}function oo(y,w,d){return 0===w.length&&!y.children[d]}const Es=!1;class ss{constructor(w){this.segmentGroup=w||null}}class Ns{constructor(w){this.urlTree=w}}function ws(y){return(0,We._)(new ss(y))}function q(y){return(0,We._)(new Ns(y))}class Q{constructor(w,d,A,j,ie){this.injector=w,this.configLoader=d,this.urlSerializer=A,this.urlTree=j,this.config=ie,this.allowRedirects=!0}apply(){const w=ei(this.urlTree.root,[],[],this.config).segmentGroup,d=new kt(w.segments,w.children);return this.expandSegmentGroup(this.injector,this.config,d,Bt).pipe((0,be.U)(ie=>this.createUrlTree(R(ie),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Pn.K)(ie=>{if(ie instanceof Ns)return this.allowRedirects=!1,this.match(ie.urlTree);throw ie instanceof ss?this.noMatchError(ie):ie}))}match(w){return this.expandSegmentGroup(this.injector,this.config,w.root,Bt).pipe((0,be.U)(j=>this.createUrlTree(R(j),w.queryParams,w.fragment))).pipe((0,Pn.K)(j=>{throw j instanceof ss?this.noMatchError(j):j}))}noMatchError(w){return new u.vHH(4002,Es)}createUrlTree(w,d,A){const j=ae(w);return new wn(j,d,A)}expandSegmentGroup(w,d,A,j){return 0===A.segments.length&&A.hasChildren()?this.expandChildren(w,d,A).pipe((0,be.U)(ie=>new kt([],ie))):this.expandSegment(w,A,d,A.segments,j,!0)}expandChildren(w,d,A){const j=[];for(const ie of Object.keys(A.children))"primary"===ie?j.unshift(ie):j.push(ie);return(0,ee.D)(j).pipe((0,En.b)(ie=>{const le=A.children[ie],Qe=di(d,ie);return this.expandSegmentGroup(w,Qe,le,ie).pipe((0,be.U)(Ht=>({segment:Ht,outlet:ie})))}),(0,dn.R)((ie,le)=>(ie[le.outlet]=le.segment,ie),{}),Ke())}expandSegment(w,d,A,j,ie,le){return(0,ee.D)(A).pipe((0,En.b)(Qe=>this.expandSegmentAgainstRoute(w,d,A,Qe,j,ie,le).pipe((0,Pn.K)(vn=>{if(vn instanceof ss)return(0,we.of)(null);throw vn}))),(0,Wt.P)(Qe=>!!Qe),(0,Pn.K)((Qe,Ht)=>{if(N(Qe))return oo(d,j,ie)?(0,we.of)(new kt([],{})):ws(d);throw Qe}))}expandSegmentAgainstRoute(w,d,A,j,ie,le,Qe){return so(j,d,ie,le)?void 0===j.redirectTo?this.matchSegmentAgainstRoute(w,d,j,ie,le):Qe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(w,d,A,j,ie,le):ws(d):ws(d)}expandSegmentAgainstRouteUsingRedirect(w,d,A,j,ie,le){return"**"===j.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(w,A,j,le):this.expandRegularSegmentAgainstRouteUsingRedirect(w,d,A,j,ie,le)}expandWildCardWithParamsAgainstRouteUsingRedirect(w,d,A,j){const ie=this.applyRedirectCommands([],A.redirectTo,{});return A.redirectTo.startsWith("/")?q(ie):this.lineralizeSegments(A,ie).pipe((0,Ot.z)(le=>{const Qe=new kt(le,{});return this.expandSegment(w,Qe,d,le,j,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(w,d,A,j,ie,le){const{matched:Qe,consumedSegments:Ht,remainingSegments:vn,positionalParamSegments:Dn}=io(d,j,ie);if(!Qe)return ws(d);const ir=this.applyRedirectCommands(Ht,j.redirectTo,Dn);return j.redirectTo.startsWith("/")?q(ir):this.lineralizeSegments(j,ir).pipe((0,Ot.z)(bi=>this.expandSegment(w,d,A,bi.concat(vn),le,!1)))}matchSegmentAgainstRoute(w,d,A,j,ie){return"**"===A.path?(w=Si(A,w),A.loadChildren?(A._loadedRoutes?(0,we.of)({routes:A._loadedRoutes,injector:A._loadedInjector}):this.configLoader.loadChildren(w,A)).pipe((0,be.U)(Qe=>(A._loadedRoutes=Qe.routes,A._loadedInjector=Qe.injector,new kt(j,{})))):(0,we.of)(new kt(j,{}))):Vr(d,A,j,w).pipe((0,De.w)(({matched:le,consumedSegments:Qe,remainingSegments:Ht})=>le?this.getChildConfig(w=A._injector??w,A,j).pipe((0,Ot.z)(Dn=>{const ir=Dn.injector??w,bi=Dn.routes,{segmentGroup:hs,slicedSegments:lo}=ei(d,Qe,Ht,bi),co=new kt(hs.segments,hs.children);if(0===lo.length&&co.hasChildren())return this.expandChildren(ir,bi,co).pipe((0,be.U)(Du=>new kt(Qe,Du)));if(0===bi.length&&0===lo.length)return(0,we.of)(new kt(Qe,{}));const Bs=oi(A)===ie;return this.expandSegment(ir,co,bi,lo,Bs?Bt:ie,!0).pipe((0,be.U)(oa=>new kt(Qe.concat(oa.segments),oa.children)))})):ws(d)))}getChildConfig(w,d,A){return d.children?(0,we.of)({routes:d.children,injector:w}):d.loadChildren?void 0!==d._loadedRoutes?(0,we.of)({routes:d._loadedRoutes,injector:d._loadedInjector}):function ui(y,w,d,A){const j=w.canLoad;if(void 0===j||0===j.length)return(0,we.of)(!0);const ie=j.map(le=>{const Qe=Ji(le,y);return On(function Ki(y){return y&&ys(y.canLoad)}(Qe)?Qe.canLoad(w,d):y.runInContext(()=>Qe(w,d)))});return(0,we.of)(ie).pipe(X(),Fs())}(w,d,A).pipe((0,Ot.z)(j=>j?this.configLoader.loadChildren(w,d).pipe((0,Jt.b)(ie=>{d._loadedRoutes=ie.routes,d._loadedInjector=ie.injector})):function E(y){return(0,We._)(qs(Es,3))}())):(0,we.of)({routes:[],injector:w})}lineralizeSegments(w,d){let A=[],j=d.root;for(;;){if(A=A.concat(j.segments),0===j.numberOfChildren)return(0,we.of)(A);if(j.numberOfChildren>1||!j.children[Bt])return w.redirectTo,(0,We._)(new u.vHH(4e3,Es));j=j.children[Bt]}}applyRedirectCommands(w,d,A){return this.applyRedirectCreateUrlTree(d,this.urlSerializer.parse(d),w,A)}applyRedirectCreateUrlTree(w,d,A,j){const ie=this.createSegmentGroup(w,d.root,A,j);return new wn(ie,this.createQueryParams(d.queryParams,this.urlTree.queryParams),d.fragment)}createQueryParams(w,d){const A={};return yn(w,(j,ie)=>{if("string"==typeof j&&j.startsWith(":")){const Qe=j.substring(1);A[ie]=d[Qe]}else A[ie]=j}),A}createSegmentGroup(w,d,A,j){const ie=this.createSegments(w,d.segments,A,j);let le={};return yn(d.children,(Qe,Ht)=>{le[Ht]=this.createSegmentGroup(w,Qe,A,j)}),new kt(ie,le)}createSegments(w,d,A,j){return d.map(ie=>ie.path.startsWith(":")?this.findPosParam(w,ie,j):this.findOrReturn(ie,A))}findPosParam(w,d,A){const j=A[d.path.substring(1)];if(!j)throw new u.vHH(4001,Es);return j}findOrReturn(w,d){let A=0;for(const j of d){if(j.path===w.path)return d.splice(A),j;A++}return w}}class Ne{}class ln{constructor(w,d,A,j,ie,le,Qe){this.injector=w,this.rootComponentType=d,this.config=A,this.urlTree=j,this.url=ie,this.paramsInheritanceStrategy=le,this.urlSerializer=Qe}recognize(){const w=ei(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,w,Bt).pipe((0,be.U)(d=>{if(null===d)return null;const A=new ri([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Bt,this.rootComponentType,null,this.urlTree.root,-1,{}),j=new wi(A,d),ie=new Vs(this.url,j);return this.inheritParamsAndData(ie._root),ie}))}inheritParamsAndData(w){const d=w.value,A=Vi(d,this.paramsInheritanceStrategy);d.params=Object.freeze(A.params),d.data=Object.freeze(A.data),w.children.forEach(j=>this.inheritParamsAndData(j))}processSegmentGroup(w,d,A,j){return 0===A.segments.length&&A.hasChildren()?this.processChildren(w,d,A):this.processSegment(w,d,A,A.segments,j)}processChildren(w,d,A){return(0,ee.D)(Object.keys(A.children)).pipe((0,En.b)(j=>{const ie=A.children[j],le=di(d,j);return this.processSegmentGroup(w,le,ie,j)}),(0,dn.R)((j,ie)=>j&&ie?(j.push(...ie),j):null),function Be(y,w=!1){return(0,Ze.e)((d,A)=>{let j=0;d.subscribe((0,bt.x)(A,ie=>{const le=y(ie,j++);(le||w)&&A.next(ie),!le&&A.complete()}))})}(j=>null!==j),(0,xt.d)(null),Ke(),(0,be.U)(j=>{if(null===j)return null;const ie=Nn(j);return function en(y){y.sort((w,d)=>w.value.outlet===Bt?-1:d.value.outlet===Bt?1:w.value.outlet.localeCompare(d.value.outlet))}(ie),ie}))}processSegment(w,d,A,j,ie){return(0,ee.D)(d).pipe((0,En.b)(le=>this.processSegmentAgainstRoute(le._injector??w,le,A,j,ie)),(0,Wt.P)(le=>!!le),(0,Pn.K)(le=>{if(N(le))return oo(A,j,ie)?(0,we.of)([]):(0,we.of)(null);throw le}))}processSegmentAgainstRoute(w,d,A,j,ie){if(d.redirectTo||!so(d,A,j,ie))return(0,we.of)(null);let le;if("**"===d.path){const Qe=j.length>0?Lt(j).parameters:{},Ht=Fr(A)+j.length,vn=new ri(j,Qe,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,z(d),oi(d),d.component??d._loadedComponent??null,d,Cr(A),Ht,M(d));le=(0,we.of)({snapshot:vn,consumedSegments:[],remainingSegments:[]})}else le=Vr(A,d,j,w).pipe((0,be.U)(({matched:Qe,consumedSegments:Ht,remainingSegments:vn,parameters:Dn})=>{if(!Qe)return null;const ir=Fr(A)+Ht.length;return{snapshot:new ri(Ht,Dn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,z(d),oi(d),d.component??d._loadedComponent??null,d,Cr(A),ir,M(d)),consumedSegments:Ht,remainingSegments:vn}}));return le.pipe((0,De.w)(Qe=>{if(null===Qe)return(0,we.of)(null);const{snapshot:Ht,consumedSegments:vn,remainingSegments:Dn}=Qe;w=d._injector??w;const ir=d._loadedInjector??w,bi=function er(y){return y.children?y.children:y.loadChildren?y._loadedRoutes:[]}(d),{segmentGroup:hs,slicedSegments:lo}=ei(A,vn,Dn,bi.filter(Bs=>void 0===Bs.redirectTo));if(0===lo.length&&hs.hasChildren())return this.processChildren(ir,bi,hs).pipe((0,be.U)(Bs=>null===Bs?null:[new wi(Ht,Bs)]));if(0===bi.length&&0===lo.length)return(0,we.of)([new wi(Ht,[])]);const co=oi(d)===ie;return this.processSegment(ir,bi,hs,lo,co?Bt:ie).pipe((0,be.U)(Bs=>null===Bs?null:[new wi(Ht,Bs)]))}))}}function An(y){const w=y.value.routeConfig;return w&&""===w.path&&void 0===w.redirectTo}function Nn(y){const w=[],d=new Set;for(const A of y){if(!An(A)){w.push(A);continue}const j=w.find(ie=>A.value.routeConfig===ie.value.routeConfig);void 0!==j?(j.children.push(...A.children),d.add(j)):w.push(A)}for(const A of d){const j=Nn(A.children);w.push(new wi(A.value,j))}return w.filter(A=>!d.has(A))}function Cr(y){let w=y;for(;w._sourceSegment;)w=w._sourceSegment;return w}function Fr(y){let w=y,d=w._segmentIndexShift??0;for(;w._sourceSegment;)w=w._sourceSegment,d+=w._segmentIndexShift??0;return d-1}function z(y){return y.data||{}}function M(y){return y.resolve||{}}function sr(y){return"string"==typeof y.title||null===y.title}function gr(y){return(0,De.w)(w=>{const d=y(w);return d?(0,ee.D)(d).pipe((0,be.U)(()=>w)):(0,we.of)(w)})}const xr=new u.OlP("ROUTES");let rn=(()=>{class y{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,u.f3M)(u.Sil)}loadComponent(d){if(this.componentLoaders.get(d))return this.componentLoaders.get(d);if(d._loadedComponent)return(0,we.of)(d._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(d);const A=On(d.loadComponent()).pipe((0,be.U)(r),(0,Jt.b)(ie=>{this.onLoadEndListener&&this.onLoadEndListener(d),d._loadedComponent=ie}),an(()=>{this.componentLoaders.delete(d)})),j=new St(A,()=>new tn.x).pipe(Xt());return this.componentLoaders.set(d,j),j}loadChildren(d,A){if(this.childrenLoaders.get(A))return this.childrenLoaders.get(A);if(A._loadedRoutes)return(0,we.of)({routes:A._loadedRoutes,injector:A._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(A);const ie=this.loadModuleFactoryOrRoutes(A.loadChildren).pipe((0,be.U)(Qe=>{this.onLoadEndListener&&this.onLoadEndListener(A);let Ht,vn,Dn=!1;Array.isArray(Qe)?vn=Qe:(Ht=Qe.create(d).injector,vn=Ve(Ht.get(xr,[],u.XFs.Self|u.XFs.Optional)));return{routes:vn.map(Ai),injector:Ht}}),an(()=>{this.childrenLoaders.delete(A)})),le=new St(ie,()=>new tn.x).pipe(Xt());return this.childrenLoaders.set(A,le),le}loadModuleFactoryOrRoutes(d){return On(d()).pipe((0,be.U)(r),(0,Ot.z)(A=>A instanceof u.YKP||Array.isArray(A)?(0,we.of)(A):(0,ee.D)(this.compiler.compileModuleAsync(A))))}}return y.\u0275fac=function(d){return new(d||y)},y.\u0275prov=u.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function r(y){return function on(y){return y&&"object"==typeof y&&"default"in y}(y)?y.default:y}let o=(()=>{class y{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new tn.x,this.configLoader=(0,u.f3M)(rn),this.environmentInjector=(0,u.f3M)(u.lqb),this.urlSerializer=(0,u.f3M)(Zn),this.rootContexts=(0,u.f3M)(ii),this.navigationId=0,this.afterPreactivation=()=>(0,we.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=j=>this.events.next(new Xi(j)),this.configLoader.onLoadStartListener=j=>this.events.next(new Hi(j))}complete(){this.transitions?.complete()}handleNavigationRequest(d){const A=++this.navigationId;this.transitions?.next({...this.transitions.value,...d,id:A})}setupNavigations(d){return this.transitions=new Ue.X({id:0,targetPageId:0,currentUrlTree:d.currentUrlTree,currentRawUrl:d.currentUrlTree,extractedUrl:d.urlHandlingStrategy.extract(d.currentUrlTree),urlAfterRedirects:d.urlHandlingStrategy.extract(d.currentUrlTree),rawUrl:d.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:zt,restoredState:null,currentSnapshot:d.routerState.snapshot,targetSnapshot:null,currentRouterState:d.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,$t.h)(A=>0!==A.id),(0,be.U)(A=>({...A,extractedUrl:d.urlHandlingStrategy.extract(A.rawUrl)})),(0,De.w)(A=>{let j=!1,ie=!1;return(0,we.of)(A).pipe((0,Jt.b)(le=>{this.currentNavigation={id:le.id,initialUrl:le.rawUrl,extractedUrl:le.extractedUrl,trigger:le.source,extras:le.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,De.w)(le=>{const Qe=d.browserUrlTree.toString(),Ht=!d.navigated||le.extractedUrl.toString()!==Qe||Qe!==d.currentUrlTree.toString();if(!Ht&&"reload"!==(le.extras.onSameUrlNavigation??d.onSameUrlNavigation)){const Dn="";return this.events.next(new zr(le.id,d.serializeUrl(A.rawUrl),Dn,0)),d.rawUrlTree=le.rawUrl,le.resolve(null),Tt.E}if(d.urlHandlingStrategy.shouldProcessUrl(le.rawUrl))return l(le.source)&&(d.browserUrlTree=le.extractedUrl),(0,we.of)(le).pipe((0,De.w)(Dn=>{const ir=this.transitions?.getValue();return this.events.next(new Xn(Dn.id,this.urlSerializer.serialize(Dn.extractedUrl),Dn.source,Dn.restoredState)),ir!==this.transitions?.getValue()?Tt.E:Promise.resolve(Dn)}),function ce(y,w,d,A){return(0,De.w)(j=>function k(y,w,d,A,j){return new Q(y,w,d,A,j).apply()}(y,w,d,j.extractedUrl,A).pipe((0,be.U)(ie=>({...j,urlAfterRedirects:ie}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,d.config),(0,Jt.b)(Dn=>{this.currentNavigation={...this.currentNavigation,finalUrl:Dn.urlAfterRedirects},A.urlAfterRedirects=Dn.urlAfterRedirects}),function re(y,w,d,A,j){return(0,Ot.z)(ie=>function It(y,w,d,A,j,ie,le="emptyOnly"){return new ln(y,w,d,A,j,le,ie).recognize().pipe((0,De.w)(Qe=>null===Qe?function lt(y){return new Xe.y(w=>w.error(y))}(new Ne):(0,we.of)(Qe)))}(y,w,d,ie.urlAfterRedirects,A.serialize(ie.urlAfterRedirects),A,j).pipe((0,be.U)(le=>({...ie,targetSnapshot:le}))))}(this.environmentInjector,this.rootComponentType,d.config,this.urlSerializer,d.paramsInheritanceStrategy),(0,Jt.b)(Dn=>{if(A.targetSnapshot=Dn.targetSnapshot,"eager"===d.urlUpdateStrategy){if(!Dn.extras.skipLocationChange){const bi=d.urlHandlingStrategy.merge(Dn.urlAfterRedirects,Dn.rawUrl);d.setBrowserUrl(bi,Dn)}d.browserUrlTree=Dn.urlAfterRedirects}const ir=new vr(Dn.id,this.urlSerializer.serialize(Dn.extractedUrl),this.urlSerializer.serialize(Dn.urlAfterRedirects),Dn.targetSnapshot);this.events.next(ir)}));if(Ht&&d.urlHandlingStrategy.shouldProcessUrl(d.rawUrlTree)){const{id:Dn,extractedUrl:ir,source:bi,restoredState:hs,extras:lo}=le,co=new Xn(Dn,this.urlSerializer.serialize(ir),bi,hs);this.events.next(co);const Bs=Gr(ir,this.rootComponentType).snapshot;return A={...le,targetSnapshot:Bs,urlAfterRedirects:ir,extras:{...lo,skipLocationChange:!1,replaceUrl:!1}},(0,we.of)(A)}{const Dn="";return this.events.next(new zr(le.id,d.serializeUrl(A.extractedUrl),Dn,1)),d.rawUrlTree=le.rawUrl,le.resolve(null),Tt.E}}),(0,Jt.b)(le=>{const Qe=new Ei(le.id,this.urlSerializer.serialize(le.extractedUrl),this.urlSerializer.serialize(le.urlAfterRedirects),le.targetSnapshot);this.events.next(Qe)}),(0,be.U)(le=>A={...le,guards:h(le.targetSnapshot,le.currentSnapshot,this.rootContexts)}),function mt(y,w){return(0,Ot.z)(d=>{const{targetSnapshot:A,currentSnapshot:j,guards:{canActivateChecks:ie,canDeactivateChecks:le}}=d;return 0===le.length&&0===ie.length?(0,we.of)({...d,guardsResult:!0}):function nt(y,w,d,A){return(0,ee.D)(y).pipe((0,Ot.z)(j=>function Qi(y,w,d,A,j){const ie=w&&w.routeConfig?w.routeConfig.canDeactivate:null;if(!ie||0===ie.length)return(0,we.of)(!0);const le=ie.map(Qe=>{const Ht=Ti(w)??j,vn=Ji(Qe,Ht);return On(function Ir(y){return y&&ys(y.canDeactivate)}(vn)?vn.canDeactivate(y,w,d,A):Ht.runInContext(()=>vn(y,w,d,A))).pipe((0,Wt.P)())});return(0,we.of)(le).pipe(X())}(j.component,j.route,d,w,A)),(0,Wt.P)(j=>!0!==j,!0))}(le,A,j,y).pipe((0,Ot.z)(Qe=>Qe&&function $i(y){return"boolean"==typeof y}(Qe)?function In(y,w,d,A){return(0,ee.D)(w).pipe((0,En.b)(j=>(0,Ge.z)(function Lr(y,w){return null!==y&&w&&w(new Jr(y)),(0,we.of)(!0)}(j.route.parent,A),function ai(y,w){return null!==y&&w&&w(new us(y)),(0,we.of)(!0)}(j.route,A),function ds(y,w,d){const A=w[w.length-1],ie=w.slice(0,w.length-1).reverse().map(le=>function Js(y){const w=y.routeConfig?y.routeConfig.canActivateChild:null;return w&&0!==w.length?{node:y,guards:w}:null}(le)).filter(le=>null!==le).map(le=>ge(()=>{const Qe=le.guards.map(Ht=>{const vn=Ti(le.node)??d,Dn=Ji(Ht,vn);return On(function bn(y){return y&&ys(y.canActivateChild)}(Dn)?Dn.canActivateChild(A,y):vn.runInContext(()=>Dn(A,y))).pipe((0,Wt.P)())});return(0,we.of)(Qe).pipe(X())}));return(0,we.of)(ie).pipe(X())}(y,j.path,d),function wr(y,w,d){const A=w.routeConfig?w.routeConfig.canActivate:null;if(!A||0===A.length)return(0,we.of)(!0);const j=A.map(ie=>ge(()=>{const le=Ti(w)??d,Qe=Ji(ie,le);return On(function Ni(y){return y&&ys(y.canActivate)}(Qe)?Qe.canActivate(w,y):le.runInContext(()=>Qe(w,y))).pipe((0,Wt.P)())}));return(0,we.of)(j).pipe(X())}(y,j.route,d))),(0,Wt.P)(j=>!0!==j,!0))}(A,ie,y,w):(0,we.of)(Qe)),(0,be.U)(Qe=>({...d,guardsResult:Qe})))})}(this.environmentInjector,le=>this.events.next(le)),(0,Jt.b)(le=>{if(A.guardsResult=le.guardsResult,Ae(le.guardsResult))throw As(0,le.guardsResult);const Qe=new Bi(le.id,this.urlSerializer.serialize(le.extractedUrl),this.urlSerializer.serialize(le.urlAfterRedirects),le.targetSnapshot,!!le.guardsResult);this.events.next(Qe)}),(0,$t.h)(le=>!!le.guardsResult||(d.restoreHistory(le),this.cancelNavigationTransition(le,"",3),!1)),gr(le=>{if(le.guards.canActivateChecks.length)return(0,we.of)(le).pipe((0,Jt.b)(Qe=>{const Ht=new Ln(Qe.id,this.urlSerializer.serialize(Qe.extractedUrl),this.urlSerializer.serialize(Qe.urlAfterRedirects),Qe.targetSnapshot);this.events.next(Ht)}),(0,De.w)(Qe=>{let Ht=!1;return(0,we.of)(Qe).pipe(function ne(y,w){return(0,Ot.z)(d=>{const{targetSnapshot:A,guards:{canActivateChecks:j}}=d;if(!j.length)return(0,we.of)(d);let ie=0;return(0,ee.D)(j).pipe((0,En.b)(le=>function $e(y,w,d,A){const j=y.routeConfig,ie=y._resolve;return void 0!==j?.title&&!sr(j)&&(ie[qt]=j.title),function Ft(y,w,d,A){const j=function gn(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}(y);if(0===j.length)return(0,we.of)({});const ie={};return(0,ee.D)(j).pipe((0,Ot.z)(le=>function qn(y,w,d,A){const j=Ti(w)??A,ie=Ji(y,j);return On(ie.resolve?ie.resolve(w,d):j.runInContext(()=>ie(w,d)))}(y[le],w,d,A).pipe((0,Wt.P)(),(0,Jt.b)(Qe=>{ie[le]=Qe}))),ht(1),(0,vt.h)(ie),(0,Pn.K)(le=>N(le)?Tt.E:(0,We._)(le)))}(ie,y,w,A).pipe((0,be.U)(le=>(y._resolvedData=le,y.data=Vi(y,d).resolve,j&&sr(j)&&(y.data[qt]=j.title),null)))}(le.route,A,y,w)),(0,Jt.b)(()=>ie++),ht(1),(0,Ot.z)(le=>ie===j.length?(0,we.of)(d):Tt.E))})}(d.paramsInheritanceStrategy,this.environmentInjector),(0,Jt.b)({next:()=>Ht=!0,complete:()=>{Ht||(d.restoreHistory(Qe),this.cancelNavigationTransition(Qe,"",2))}}))}),(0,Jt.b)(Qe=>{const Ht=new Ws(Qe.id,this.urlSerializer.serialize(Qe.extractedUrl),this.urlSerializer.serialize(Qe.urlAfterRedirects),Qe.targetSnapshot);this.events.next(Ht)}))}),gr(le=>{const Qe=Ht=>{const vn=[];Ht.routeConfig?.loadComponent&&!Ht.routeConfig._loadedComponent&&vn.push(this.configLoader.loadComponent(Ht.routeConfig).pipe((0,Jt.b)(Dn=>{Ht.component=Dn}),(0,be.U)(()=>{})));for(const Dn of Ht.children)vn.push(...Qe(Dn));return vn};return(0,Je.a)(Qe(le.targetSnapshot.root)).pipe((0,xt.d)(),(0,et.q)(1))}),gr(()=>this.afterPreactivation()),(0,be.U)(le=>{const Qe=function ls(y,w,d){const A=Ui(y,w._root,d?d._root:void 0);return new Ds(A,w)}(d.routeReuseStrategy,le.targetSnapshot,le.currentRouterState);return A={...le,targetRouterState:Qe}}),(0,Jt.b)(le=>{d.currentUrlTree=le.urlAfterRedirects,d.rawUrlTree=d.urlHandlingStrategy.merge(le.urlAfterRedirects,le.rawUrl),d.routerState=le.targetRouterState,"deferred"===d.urlUpdateStrategy&&(le.extras.skipLocationChange||d.setBrowserUrl(d.rawUrlTree,le),d.browserUrlTree=le.urlAfterRedirects)}),((y,w,d)=>(0,be.U)(A=>(new qr(w,A.targetRouterState,A.currentRouterState,d).activate(y),A)))(this.rootContexts,d.routeReuseStrategy,le=>this.events.next(le)),(0,Jt.b)({next:le=>{j=!0,this.lastSuccessfulNavigation=this.currentNavigation,d.navigated=!0,this.events.next(new Sr(le.id,this.urlSerializer.serialize(le.extractedUrl),this.urlSerializer.serialize(d.currentUrlTree))),d.titleStrategy?.updateTitle(le.targetRouterState.snapshot),le.resolve(!0)},complete:()=>{j=!0}}),an(()=>{j||ie||this.cancelNavigationTransition(A,"",1),this.currentNavigation?.id===A.id&&(this.currentNavigation=null)}),(0,Pn.K)(le=>{if(ie=!0,$s(le)){xs(le)||(d.navigated=!0,d.restoreHistory(A,!0));const Qe=new br(A.id,this.urlSerializer.serialize(A.extractedUrl),le.message,le.cancellationCode);if(this.events.next(Qe),xs(le)){const Ht=d.urlHandlingStrategy.merge(le.url,d.rawUrlTree),vn={skipLocationChange:A.extras.skipLocationChange,replaceUrl:"eager"===d.urlUpdateStrategy||l(A.source)};d.scheduleNavigation(Ht,zt,null,vn,{resolve:A.resolve,reject:A.reject,promise:A.promise})}else A.resolve(!1)}else{d.restoreHistory(A,!0);const Qe=new gi(A.id,this.urlSerializer.serialize(A.extractedUrl),le,A.targetSnapshot??void 0);this.events.next(Qe);try{A.resolve(d.errorHandler(le))}catch(Ht){A.reject(Ht)}}return Tt.E}))}))}cancelNavigationTransition(d,A,j){const ie=new br(d.id,this.urlSerializer.serialize(d.extractedUrl),A,j);this.events.next(ie),d.resolve(!1)}}return y.\u0275fac=function(d){return new(d||y)},y.\u0275prov=u.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function l(y){return y!==zt}let f=(()=>{class y{buildTitle(d){let A,j=d.root;for(;void 0!==j;)A=this.getResolvedTitleForRoute(j)??A,j=j.children.find(ie=>ie.outlet===Bt);return A}getResolvedTitleForRoute(d){return d.data[qt]}}return y.\u0275fac=function(d){return new(d||y)},y.\u0275prov=u.Yz7({token:y,factory:function(){return(0,u.f3M)(p)},providedIn:"root"}),y})(),p=(()=>{class y extends f{constructor(d){super(),this.title=d}updateTitle(d){const A=this.buildTitle(d);void 0!==A&&this.title.setTitle(A)}}return y.\u0275fac=function(d){return new(d||y)(u.LFG(pn.Dx))},y.\u0275prov=u.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),m=(()=>{class y{}return y.\u0275fac=function(d){return new(d||y)},y.\u0275prov=u.Yz7({token:y,factory:function(){return(0,u.f3M)(x)},providedIn:"root"}),y})();class _{shouldDetach(w){return!1}store(w,d){}shouldAttach(w){return!1}retrieve(w){return null}shouldReuseRoute(w,d){return w.routeConfig===d.routeConfig}}let x=(()=>{class y extends _{}return y.\u0275fac=function(){let w;return function(A){return(w||(w=u.n5z(y)))(A||y)}}(),y.\u0275prov=u.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const U=new u.OlP("",{providedIn:"root",factory:()=>({})});let $=(()=>{class y{}return y.\u0275fac=function(d){return new(d||y)},y.\u0275prov=u.Yz7({token:y,factory:function(){return(0,u.f3M)(b)},providedIn:"root"}),y})(),b=(()=>{class y{shouldProcessUrl(d){return!0}extract(d){return d}merge(d,A){return d}}return y.\u0275fac=function(d){return new(d||y)},y.\u0275prov=u.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const S=!1;function V(y){throw y}function T(y,w,d){return w.parse("/")}const K={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},B={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let J=(()=>{class y{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,u.f3M)(u.c2e),this.isNgZoneEnabled=!1,this.options=(0,u.f3M)(U,{optional:!0})||{},this.errorHandler=this.options.errorHandler||V,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||T,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,u.f3M)($),this.routeReuseStrategy=(0,u.f3M)(m),this.urlCreationStrategy=(0,u.f3M)(gs),this.titleStrategy=(0,u.f3M)(f),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Ve((0,u.f3M)(xr,{optional:!0})??[]),this.navigationTransitions=(0,u.f3M)(o),this.urlSerializer=(0,u.f3M)(Zn),this.location=(0,u.f3M)(wt.Ye),this.isNgZoneEnabled=(0,u.f3M)(u.R0b)instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new wn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Gr(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(d=>{this.lastSuccessfulId=d.id,this.currentPageId=d.targetPageId},d=>{this.console.warn(`Unhandled Navigation Error: ${d}`)})}resetRootComponentType(d){this.routerState.root.component=d,this.navigationTransitions.rootComponentType=d}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const d=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),zt,d)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(d=>{const A="popstate"===d.type?"popstate":"hashchange";"popstate"===A&&setTimeout(()=>{this.navigateToSyncWithBrowser(d.url,A,d.state)},0)}))}navigateToSyncWithBrowser(d,A,j){const ie={replaceUrl:!0},le=j?.navigationId?j:null;if(j){const Ht={...j};delete Ht.navigationId,delete Ht.\u0275routerPageId,0!==Object.keys(Ht).length&&(ie.state=Ht)}const Qe=this.parseUrl(d);this.scheduleNavigation(Qe,A,le,ie)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(d){this.config=d.map(Ai),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(d,A={}){const{relativeTo:j,queryParams:ie,fragment:le,queryParamsHandling:Qe,preserveFragment:Ht}=A,vn=Ht?this.currentUrlTree.fragment:le;let Dn=null;switch(Qe){case"merge":Dn={...this.currentUrlTree.queryParams,...ie};break;case"preserve":Dn=this.currentUrlTree.queryParams;break;default:Dn=ie||null}return null!==Dn&&(Dn=this.removeEmptyProps(Dn)),this.urlCreationStrategy.createUrlTree(j,this.routerState,this.currentUrlTree,d,Dn,vn??null)}navigateByUrl(d,A={skipLocationChange:!1}){const j=Ae(d)?d:this.parseUrl(d),ie=this.urlHandlingStrategy.merge(j,this.rawUrlTree);return this.scheduleNavigation(ie,zt,null,A)}navigate(d,A={skipLocationChange:!1}){return function de(y){for(let w=0;w<y.length;w++){const d=y[w];if(null==d)throw new u.vHH(4008,S)}}(d),this.navigateByUrl(this.createUrlTree(d,A),A)}serializeUrl(d){return this.urlSerializer.serialize(d)}parseUrl(d){let A;try{A=this.urlSerializer.parse(d)}catch(j){A=this.malformedUriErrorHandler(j,this.urlSerializer,d)}return A}isActive(d,A){let j;if(j=!0===A?{...K}:!1===A?{...B}:A,Ae(d))return gt(this.currentUrlTree,d,j);const ie=this.parseUrl(d);return gt(this.currentUrlTree,ie,j)}removeEmptyProps(d){return Object.keys(d).reduce((A,j)=>{const ie=d[j];return null!=ie&&(A[j]=ie),A},{})}scheduleNavigation(d,A,j,ie,le){if(this.disposed)return Promise.resolve(!1);let Qe,Ht,vn,Dn;return le?(Qe=le.resolve,Ht=le.reject,vn=le.promise):vn=new Promise((ir,bi)=>{Qe=ir,Ht=bi}),Dn="computed"===this.canceledNavigationResolution?j&&j.\u0275routerPageId?j.\u0275routerPageId:ie.replaceUrl||ie.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:Dn,source:A,restoredState:j,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:d,extras:ie,resolve:Qe,reject:Ht,promise:vn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),vn.catch(ir=>Promise.reject(ir))}setBrowserUrl(d,A){const j=this.urlSerializer.serialize(d),ie={...A.extras.state,...this.generateNgRouterState(A.id,A.targetPageId)};this.location.isCurrentPathEqualTo(j)||A.extras.replaceUrl?this.location.replaceState(j,"",ie):this.location.go(j,"",ie)}restoreHistory(d,A=!1){if("computed"===this.canceledNavigationResolution){const j=this.currentPageId-d.targetPageId;"popstate"!==d.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===j?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===j&&(this.resetState(d),this.browserUrlTree=d.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(j)}else"replace"===this.canceledNavigationResolution&&(A&&this.resetState(d),this.resetUrlToCurrentUrlTree())}resetState(d){this.routerState=d.currentRouterState,this.currentUrlTree=d.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,d.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(d,A){return"computed"===this.canceledNavigationResolution?{navigationId:d,\u0275routerPageId:A}:{navigationId:d}}}return y.\u0275fac=function(d){return new(d||y)},y.\u0275prov=u.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),fe=(()=>{class y{constructor(d,A,j,ie,le,Qe){this.router=d,this.route=A,this.tabIndexAttribute=j,this.renderer=ie,this.el=le,this.locationStrategy=Qe,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new tn.x;const Ht=le.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Ht||"area"===Ht,this.isAnchorElement?this.subscription=d.events.subscribe(vn=>{vn instanceof Sr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(d){this._preserveFragment=(0,u.D6c)(d)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(d){this._skipLocationChange=(0,u.D6c)(d)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(d){this._replaceUrl=(0,u.D6c)(d)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(d){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",d)}ngOnChanges(d){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(d){null!=d?(this.commands=Array.isArray(d)?d:[d],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(d,A,j,ie,le){return!!(null===this.urlTree||this.isAnchorElement&&(0!==d||A||j||ie||le||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const d=null===this.href?null:(0,u.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",d)}applyAttributeValue(d,A){const j=this.renderer,ie=this.el.nativeElement;null!==A?j.setAttribute(ie,d,A):j.removeAttribute(ie,d)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return y.\u0275fac=function(d){return new(d||y)(u.Y36(J),u.Y36(Oi),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(wt.S$))},y.\u0275dir=u.lG2({type:y,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(d,A){1&d&&u.NdJ("click",function(ie){return A.onClick(ie.button,ie.ctrlKey,ie.shiftKey,ie.altKey,ie.metaKey)}),2&d&&u.uIk("target",A.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),y})(),pe=(()=>{class y{get isActive(){return this._isActive}constructor(d,A,j,ie,le){this.router=d,this.element=A,this.renderer=j,this.cdr=ie,this.link=le,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new u.vpe,this.routerEventsSubscription=d.events.subscribe(Qe=>{Qe instanceof Sr&&this.update()})}ngAfterContentInit(){(0,we.of)(this.links.changes,(0,we.of)(null)).pipe((0,Fn.J)()).subscribe(d=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const d=[...this.links.toArray(),this.link].filter(A=>!!A).map(A=>A.onChanges);this.linkInputChangesSubscription=(0,ee.D)(d).pipe((0,Fn.J)()).subscribe(A=>{this._isActive!==this.isLinkActive(this.router)(A)&&this.update()})}set routerLinkActive(d){const A=Array.isArray(d)?d:d.split(" ");this.classes=A.filter(j=>!!j)}ngOnChanges(d){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const d=this.hasActiveLinks();this._isActive!==d&&(this._isActive=d,this.cdr.markForCheck(),this.classes.forEach(A=>{d?this.renderer.addClass(this.element.nativeElement,A):this.renderer.removeClass(this.element.nativeElement,A)}),d&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(d))})}isLinkActive(d){const A=function it(y){return!!y.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return j=>!!j.urlTree&&d.isActive(j.urlTree,A)}hasActiveLinks(){const d=this.isLinkActive(this.router);return this.link&&d(this.link)||this.links.some(d)}}return y.\u0275fac=function(d){return new(d||y)(u.Y36(J),u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.sBO),u.Y36(fe,8))},y.\u0275dir=u.lG2({type:y,selectors:[["","routerLinkActive",""]],contentQueries:function(d,A,j){if(1&d&&u.Suo(j,fe,5),2&d){let ie;u.iGM(ie=u.CRH())&&(A.links=ie)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[u.TTD]}),y})();class ct{}let me=(()=>{class y{constructor(d,A,j,ie,le){this.router=d,this.injector=j,this.preloadingStrategy=ie,this.loader=le}setUpPreloading(){this.subscription=this.router.events.pipe((0,$t.h)(d=>d instanceof Sr),(0,En.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(d,A){const j=[];for(const ie of A){ie.providers&&!ie._injector&&(ie._injector=(0,u.MMx)(ie.providers,d,`Route: ${ie.path}`));const le=ie._injector??d,Qe=ie._loadedInjector??le;ie.loadChildren&&!ie._loadedRoutes&&void 0===ie.canLoad||ie.loadComponent&&!ie._loadedComponent?j.push(this.preloadConfig(le,ie)):(ie.children||ie._loadedRoutes)&&j.push(this.processRoutes(Qe,ie.children??ie._loadedRoutes))}return(0,ee.D)(j).pipe((0,Fn.J)())}preloadConfig(d,A){return this.preloadingStrategy.preload(A,()=>{let j;j=A.loadChildren&&void 0===A.canLoad?this.loader.loadChildren(d,A):(0,we.of)(null);const ie=j.pipe((0,Ot.z)(le=>null===le?(0,we.of)(void 0):(A._loadedRoutes=le.routes,A._loadedInjector=le.injector,this.processRoutes(le.injector??d,le.routes))));if(A.loadComponent&&!A._loadedComponent){const le=this.loader.loadComponent(A);return(0,ee.D)([ie,le]).pipe((0,Fn.J)())}return ie})}}return y.\u0275fac=function(d){return new(d||y)(u.LFG(J),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(ct),u.LFG(rn))},y.\u0275prov=u.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const ye=new u.OlP("");let Te=(()=>{class y{constructor(d,A,j,ie,le={}){this.urlSerializer=d,this.transitions=A,this.viewportScroller=j,this.zone=ie,this.options=le,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},le.scrollPositionRestoration=le.scrollPositionRestoration||"disabled",le.anchorScrolling=le.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(d=>{d instanceof Xn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=d.navigationTrigger,this.restoredId=d.restoredState?d.restoredState.navigationId:0):d instanceof Sr&&(this.lastId=d.id,this.scheduleScrollEvent(d,this.urlSerializer.parse(d.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(d=>{d instanceof Or&&(d.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(d.position):d.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(d.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(d,A){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Or(d,"popstate"===this.lastSource?this.store[this.restoredId]:null,A))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return y.\u0275fac=function(d){u.$Z()},y.\u0275prov=u.Yz7({token:y,factory:y.\u0275fac}),y})();var je=(()=>((je=je||{})[je.COMPLETE=0]="COMPLETE",je[je.FAILED=1]="FAILED",je[je.REDIRECTING=2]="REDIRECTING",je))();const Re=!1;function _n(y,w){return{\u0275kind:y,\u0275providers:w}}const Rn=new u.OlP("",{providedIn:"root",factory:()=>!1});function Mr(){const y=(0,u.f3M)(u.zs3);return w=>{const d=y.get(u.z2F);if(w!==d.components[0])return;const A=y.get(J),j=y.get(Pr);1===y.get(mi)&&A.initialNavigation(),y.get(fi,null,u.XFs.Optional)?.setUpPreloading(),y.get(ye,null,u.XFs.Optional)?.init(),A.resetRootComponentType(d.componentTypes[0]),j.closed||(j.next(),j.unsubscribe())}}const Pr=new u.OlP(Re?"bootstrap done indicator":"",{factory:()=>new tn.x}),mi=new u.OlP(Re?"initial navigation":"",{providedIn:"root",factory:()=>1});function hi(){let y=[];return y=Re?[{provide:u.Xts,multi:!0,useFactory:()=>{const w=(0,u.f3M)(J);return()=>w.events.subscribe(d=>{console.group?.(`Router Event: ${d.constructor.name}`),console.log(function Pi(y){if(!("type"in y))return`Unknown Router Event: ${y.constructor.name}`;switch(y.type){case 14:return`ActivationEnd(path: '${y.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${y.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${y.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${y.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state}, shouldActivate: ${y.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state})`;case 2:return`NavigationCancel(id: ${y.id}, url: '${y.url}')`;case 16:return`NavigationSkipped(id: ${y.id}, url: '${y.url}')`;case 1:return`NavigationEnd(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${y.id}, url: '${y.url}', error: ${y.error})`;case 0:return`NavigationStart(id: ${y.id}, url: '${y.url}')`;case 6:return`ResolveEnd(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state})`;case 5:return`ResolveStart(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state})`;case 10:return`RouteConfigLoadEnd(path: ${y.route.path})`;case 9:return`RouteConfigLoadStart(path: ${y.route.path})`;case 4:return`RoutesRecognized(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state})`;case 15:return`Scroll(anchor: '${y.anchor}', position: '${y.position?`${y.position[0]}, ${y.position[1]}`:null}')`}}(d)),console.log(d),console.groupEnd?.()})}}]:[],_n(1,y)}const fi=new u.OlP(Re?"router preloader":"");function Rr(y){return _n(0,[{provide:fi,useExisting:me},{provide:ct,useExisting:y}])}const yi=!1,Wi=new u.OlP(yi?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Do=[wt.Ye,{provide:Zn,useClass:jr},J,ii,{provide:Oi,useFactory:function ft(y){return y.routerState.root},deps:[J]},rn,yi?{provide:Rn,useValue:!0}:[]];function Zs(){return new u.PXZ("Router",J)}let Oa=(()=>{class y{constructor(d){}static forRoot(d,A){return{ngModule:y,providers:[Do,yi&&A?.enableTracing?hi().\u0275providers:[],{provide:xr,multi:!0,useValue:d},{provide:Wi,useFactory:uo,deps:[[J,new u.FiY,new u.tp0]]},{provide:U,useValue:A||{}},A?.useHash?{provide:wt.S$,useClass:wt.Do}:{provide:wt.S$,useClass:wt.b0},{provide:ye,useFactory:()=>{const y=(0,u.f3M)(wt.EM),w=(0,u.f3M)(u.R0b),d=(0,u.f3M)(U),A=(0,u.f3M)(o),j=(0,u.f3M)(Zn);return d.scrollOffset&&y.setOffset(d.scrollOffset),new Te(j,A,y,w,d)}},A?.preloadingStrategy?Rr(A.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:Zs},A?.initialNavigation?Yr(A):[],[{provide:Ss,useFactory:Mr},{provide:u.tb,multi:!0,useExisting:Ss}]]}}static forChild(d){return{ngModule:y,providers:[{provide:xr,multi:!0,useValue:d}]}}}return y.\u0275fac=function(d){return new(d||y)(u.LFG(Wi,8))},y.\u0275mod=u.oAB({type:y}),y.\u0275inj=u.cJS({imports:[Ts]}),y})();function uo(y){if(yi&&y)throw new u.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Yr(y){return["disabled"===y.initialNavigation?_n(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const w=(0,u.f3M)(J);return()=>{w.setUpLocationChangeListener()}}},{provide:mi,useValue:2}]).\u0275providers:[],"enabledBlocking"===y.initialNavigation?_n(2,[{provide:mi,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:w=>{const d=w.get(wt.V_,Promise.resolve());return()=>d.then(()=>new Promise(A=>{const j=w.get(J),ie=w.get(Pr);(function Ce(y,w){y.events.pipe((0,$t.h)(d=>d instanceof Sr||d instanceof br||d instanceof gi||d instanceof zr),(0,be.U)(d=>d instanceof Sr||d instanceof zr?je.COMPLETE:d instanceof br&&(0===d.code||1===d.code)?je.REDIRECTING:je.FAILED),(0,$t.h)(d=>d!==je.REDIRECTING),(0,et.q)(1)).subscribe(()=>{w()})})(j,()=>{A(!0)}),w.get(o).afterPreactivation=()=>(A(!0),ie.closed?(0,we.of)(void 0):ie),j.initialNavigation()}))}}]).\u0275providers:[]]}const Ss=new u.OlP(yi?"Router Initializer":"")},4349:(sn,ot,O)=>{"use strict";O.d(ot,{w9:()=>fr,A0:()=>Qn});var u=O(1571),ee=O(433),we=O(2722),Ue=O(4986),ve=O(4482),Je=O(8421),Ge=O(5403),Ie=O(2805);var xe=O(8675),We=O(8505),Tt=O(8372),ue=O(9300),Ze=O(4004),bt=O(6406),Xt=O(4408);let tn,St=1;const wt={};function be(_e){return _e in wt&&(delete wt[_e],!0)}const De={setImmediate(_e){const Ee=St++;return wt[Ee]=!0,tn||(tn=Promise.resolve()),tn.then(()=>be(Ee)&&_e()),Ee},clearImmediate(_e){be(_e)}},{setImmediate:_t,clearImmediate:$t}=De,Ot={setImmediate(..._e){const{delegate:Ee}=Ot;return(Ee?.setImmediate||_t)(..._e)},clearImmediate(_e){const{delegate:Ee}=Ot;return(Ee?.clearImmediate||$t)(_e)},delegate:void 0};var En=O(640);const Pn=new class Jt extends En.v{flush(Ee){this._active=!0;const L=this._scheduled;this._scheduled=void 0;const{actions:he}=this;let qe;Ee=Ee||he.shift();do{if(qe=Ee.execute(Ee.state,Ee.delay))break}while((Ee=he[0])&&Ee.id===L&&he.shift());if(this._active=!1,qe){for(;(Ee=he[0])&&Ee.id===L&&he.shift();)Ee.unsubscribe();throw qe}}}(class Wt extends Xt.o{constructor(Ee,L){super(Ee,L),this.scheduler=Ee,this.work=L}requestAsyncId(Ee,L,he=0){return null!==he&&he>0?super.requestAsyncId(Ee,L,he):(Ee.actions.push(this),Ee._scheduled||(Ee._scheduled=Ot.setImmediate(Ee.flush.bind(Ee,void 0))))}recycleAsyncId(Ee,L,he=0){var qe;if(null!=he?he>0:this.delay>0)return super.recycleAsyncId(Ee,L,he);const{actions:Ct}=Ee;null!=L&&(null===(qe=Ct[Ct.length-1])||void 0===qe?void 0:qe.id)!==L&&(Ot.clearImmediate(L),Ee._scheduled=void 0)}});var ht=O(7579),pt=O(4968),xt=O(6451),rt=O(6895);const Ke=["content"],Be=["scroll"],vt=["padding"],an=function(_e){return{searchTerm:_e}};function Fn(_e,Ee){if(1&_e&&(u.TgZ(0,"div",6),u.GkF(1,7),u.qZA()),2&_e){const L=u.oxw();u.xp6(1),u.Q6J("ngTemplateOutlet",L.headerTemplate)("ngTemplateOutletContext",u.VKq(2,an,L.filterValue))}}function pn(_e,Ee){if(1&_e&&(u.TgZ(0,"div",8),u.GkF(1,7),u.qZA()),2&_e){const L=u.oxw();u.xp6(1),u.Q6J("ngTemplateOutlet",L.footerTemplate)("ngTemplateOutletContext",u.VKq(2,an,L.filterValue))}}const Bt=["*"],qt=["searchInput"];function Bn(_e,Ee){if(1&_e){const L=u.EpF();u.TgZ(0,"span",15),u.NdJ("click",function(){u.CHM(L);const qe=u.oxw().$implicit,Ct=u.oxw(2);return u.KtG(Ct.unselect(qe))}),u._uU(1,"\xd7"),u.qZA(),u._UZ(2,"span",16)}if(2&_e){const L=u.oxw().$implicit,he=u.oxw(2);u.xp6(2),u.Q6J("ngItemLabel",L.label)("escape",he.escapeHTML)}}function mr(_e,Ee){}const Dr=function(_e,Ee,L){return{item:_e,clear:Ee,label:L}};function Jn(_e,Ee){if(1&_e&&(u.TgZ(0,"div",12),u.YNc(1,Bn,3,2,"ng-template",null,13,u.W1O),u.YNc(3,mr,0,0,"ng-template",14),u.qZA()),2&_e){const L=Ee.$implicit,he=u.MAs(2),qe=u.oxw(2);u.ekj("ng-value-disabled",L.disabled),u.xp6(3),u.Q6J("ngTemplateOutlet",qe.labelTemplate||he)("ngTemplateOutletContext",u.kEZ(4,Dr,L.value,qe.clearItem,L.label))}}function ut(_e,Ee){if(1&_e&&(u.ynx(0),u.YNc(1,Jn,4,8,"div",11),u.BQk()),2&_e){const L=u.oxw();u.xp6(1),u.Q6J("ngForOf",L.selectedItems)("ngForTrackBy",L.trackByOption)}}function dt(_e,Ee){}const Ve=function(_e,Ee){return{items:_e,clear:Ee}};function Lt(_e,Ee){if(1&_e&&u.YNc(0,dt,0,0,"ng-template",14),2&_e){const L=u.oxw();u.Q6J("ngTemplateOutlet",L.multiLabelTemplate)("ngTemplateOutletContext",u.WLB(2,Ve,L.selectedValues,L.clearItem))}}function un(_e,Ee){1&_e&&u._UZ(0,"div",19)}function yn(_e,Ee){}function On(_e,Ee){if(1&_e&&(u.ynx(0),u.YNc(1,un,1,0,"ng-template",null,17,u.W1O),u.YNc(3,yn,0,0,"ng-template",18),u.BQk()),2&_e){const L=u.MAs(2),he=u.oxw();u.xp6(3),u.Q6J("ngTemplateOutlet",he.loadingSpinnerTemplate||L)}}function _r(_e,Ee){if(1&_e&&(u.TgZ(0,"span",20)(1,"span",21),u._uU(2,"\xd7"),u.qZA()()),2&_e){const L=u.oxw();u.s9C("title",L.clearAllText)}}function oe(_e,Ee){if(1&_e&&u._UZ(0,"span",27),2&_e){const L=u.oxw().$implicit,he=u.oxw(2);u.Q6J("ngItemLabel",L.label)("escape",he.escapeHTML)}}function st(_e,Ee){}const gt=function(_e,Ee,L,he){return{item:_e,item$:Ee,index:L,searchTerm:he}};function Mt(_e,Ee){if(1&_e){const L=u.EpF();u.TgZ(0,"div",25),u.NdJ("click",function(){const Ct=u.CHM(L).$implicit,nn=u.oxw(2);return u.KtG(nn.toggleItem(Ct))})("mouseover",function(){const Ct=u.CHM(L).$implicit,nn=u.oxw(2);return u.KtG(nn.onItemHover(Ct))}),u.YNc(1,oe,1,2,"ng-template",null,26,u.W1O),u.YNc(3,st,0,0,"ng-template",14),u.qZA()}if(2&_e){const L=Ee.$implicit,he=u.MAs(2),qe=u.oxw(2);u.ekj("ng-option-disabled",L.disabled)("ng-option-selected",L.selected)("ng-optgroup",L.children)("ng-option",!L.children)("ng-option-child",!!L.parent)("ng-option-marked",L===qe.itemsList.markedItem),u.uIk("role",L.children?"group":"option")("aria-selected",L.selected)("id",null==L?null:L.htmlId),u.xp6(3),u.Q6J("ngTemplateOutlet",L.children?qe.optgroupTemplate||he:qe.optionTemplate||he)("ngTemplateOutletContext",u.l5B(17,gt,L.value,L,L.index,qe.searchTerm))}}function At(_e,Ee){if(1&_e&&(u.TgZ(0,"span")(1,"span",30),u._uU(2),u.qZA(),u._uU(3),u.qZA()),2&_e){const L=u.oxw(3);u.xp6(2),u.Oqu(L.addTagText),u.xp6(1),u.hij('"',L.searchTerm,'"')}}function Zt(_e,Ee){}function Kt(_e,Ee){if(1&_e){const L=u.EpF();u.TgZ(0,"div",28),u.NdJ("mouseover",function(){u.CHM(L);const qe=u.oxw(2);return u.KtG(qe.itemsList.unmarkItem())})("click",function(){u.CHM(L);const qe=u.oxw(2);return u.KtG(qe.selectTag())}),u.YNc(1,At,4,2,"ng-template",null,29,u.W1O),u.YNc(3,Zt,0,0,"ng-template",14),u.qZA()}if(2&_e){const L=u.MAs(2),he=u.oxw(2);u.ekj("ng-option-marked",!he.itemsList.markedItem),u.xp6(3),u.Q6J("ngTemplateOutlet",he.tagTemplate||L)("ngTemplateOutletContext",u.VKq(4,an,he.searchTerm))}}function Dt(_e,Ee){if(1&_e&&(u.TgZ(0,"div",32),u._uU(1),u.qZA()),2&_e){const L=u.oxw(3);u.xp6(1),u.Oqu(L.notFoundText)}}function Et(_e,Ee){}function wn(_e,Ee){if(1&_e&&(u.ynx(0),u.YNc(1,Dt,2,1,"ng-template",null,31,u.W1O),u.YNc(3,Et,0,0,"ng-template",14),u.BQk()),2&_e){const L=u.MAs(2),he=u.oxw(2);u.xp6(3),u.Q6J("ngTemplateOutlet",he.notFoundTemplate||L)("ngTemplateOutletContext",u.VKq(2,an,he.searchTerm))}}function kt(_e,Ee){if(1&_e&&(u.TgZ(0,"div",32),u._uU(1),u.qZA()),2&_e){const L=u.oxw(3);u.xp6(1),u.Oqu(L.typeToSearchText)}}function Wn(_e,Ee){}function Er(_e,Ee){if(1&_e&&(u.ynx(0),u.YNc(1,kt,2,1,"ng-template",null,33,u.W1O),u.YNc(3,Wn,0,0,"ng-template",18),u.BQk()),2&_e){const L=u.MAs(2),he=u.oxw(2);u.xp6(3),u.Q6J("ngTemplateOutlet",he.typeToSearchTemplate||L)}}function Kn(_e,Ee){if(1&_e&&(u.TgZ(0,"div",32),u._uU(1),u.qZA()),2&_e){const L=u.oxw(3);u.xp6(1),u.Oqu(L.loadingText)}}function Tr(_e,Ee){}function Zn(_e,Ee){if(1&_e&&(u.ynx(0),u.YNc(1,Kn,2,1,"ng-template",null,34,u.W1O),u.YNc(3,Tr,0,0,"ng-template",14),u.BQk()),2&_e){const L=u.MAs(2),he=u.oxw(2);u.xp6(3),u.Q6J("ngTemplateOutlet",he.loadingTextTemplate||L)("ngTemplateOutletContext",u.VKq(2,an,he.searchTerm))}}function jr(_e,Ee){if(1&_e){const L=u.EpF();u.TgZ(0,"ng-dropdown-panel",22),u.NdJ("update",function(qe){u.CHM(L);const Ct=u.oxw();return u.KtG(Ct.viewPortItems=qe)})("scroll",function(qe){u.CHM(L);const Ct=u.oxw();return u.KtG(Ct.scroll.emit(qe))})("scrollToEnd",function(qe){u.CHM(L);const Ct=u.oxw();return u.KtG(Ct.scrollToEnd.emit(qe))})("outsideClick",function(){u.CHM(L);const qe=u.oxw();return u.KtG(qe.close())}),u.ynx(1),u.YNc(2,Mt,4,22,"div",23),u.YNc(3,Kt,4,6,"div",24),u.BQk(),u.YNc(4,wn,4,4,"ng-container",3),u.YNc(5,Er,4,1,"ng-container",3),u.YNc(6,Zn,4,4,"ng-container",3),u.qZA()}if(2&_e){const L=u.oxw();u.ekj("ng-select-multiple",L.multiple),u.Q6J("virtualScroll",L.virtualScroll)("bufferAmount",L.bufferAmount)("appendTo",L.appendTo)("position",L.dropdownPosition)("headerTemplate",L.headerTemplate)("footerTemplate",L.footerTemplate)("filterValue",L.searchTerm)("items",L.itemsList.filteredItems)("markedItem",L.itemsList.markedItem)("ngClass",L.appendTo?L.classes:null)("id",L.dropdownId),u.xp6(2),u.Q6J("ngForOf",L.viewPortItems)("ngForTrackBy",L.trackByOption),u.xp6(1),u.Q6J("ngIf",L.showAddTag),u.xp6(1),u.Q6J("ngIf",L.showNoItemsFound()),u.xp6(1),u.Q6J("ngIf",L.showTypeToSearch()),u.xp6(1),u.Q6J("ngIf",L.loading&&0===L.itemsList.filteredItems.length)}}const zn=/[&<>"']/g,_i=RegExp(zn.source),ti={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function tr(_e){return null!=_e}function yt(_e){return"object"==typeof _e&&tr(_e)}function Fe(_e){return _e instanceof Function}let Vt=(()=>{class _e{constructor(L){this.element=L,this.escape=!0}ngOnChanges(L){this.element.nativeElement.innerHTML=this.escape?function Kr(_e){return _e&&_i.test(_e)?_e.replace(zn,Ee=>ti[Ee]):_e}(this.ngItemLabel):this.ngItemLabel}}return _e.\u0275fac=function(L){return new(L||_e)(u.Y36(u.SBq))},_e.\u0275dir=u.lG2({type:_e,selectors:[["","ngItemLabel",""]],inputs:{ngItemLabel:"ngItemLabel",escape:"escape"},features:[u.TTD]}),_e})(),Nt=(()=>{class _e{constructor(L){this.template=L}}return _e.\u0275fac=function(L){return new(L||_e)(u.Y36(u.Rgc))},_e.\u0275dir=u.lG2({type:_e,selectors:[["","ng-option-tmp",""]]}),_e})(),Tn=(()=>{class _e{constructor(L){this.template=L}}return _e.\u0275fac=function(L){return new(L||_e)(u.Y36(u.Rgc))},_e.\u0275dir=u.lG2({type:_e,selectors:[["","ng-optgroup-tmp",""]]}),_e})(),Hn=(()=>{class _e{constructor(L){this.template=L}}return _e.\u0275fac=function(L){return new(L||_e)(u.Y36(u.Rgc))},_e.\u0275dir=u.lG2({type:_e,selectors:[["","ng-label-tmp",""]]}),_e})(),hr=(()=>{class _e{constructor(L){this.template=L}}return _e.\u0275fac=function(L){return new(L||_e)(u.Y36(u.Rgc))},_e.\u0275dir=u.lG2({type:_e,selectors:[["","ng-multi-label-tmp",""]]}),_e})(),Un=(()=>{class _e{constructor(L){this.template=L}}return _e.\u0275fac=function(L){return new(L||_e)(u.Y36(u.Rgc))},_e.\u0275dir=u.lG2({type:_e,selectors:[["","ng-header-tmp",""]]}),_e})(),ar=(()=>{class _e{constructor(L){this.template=L}}return _e.\u0275fac=function(L){return new(L||_e)(u.Y36(u.Rgc))},_e.\u0275dir=u.lG2({type:_e,selectors:[["","ng-footer-tmp",""]]}),_e})(),Wr=(()=>{class _e{constructor(L){this.template=L}}return _e.\u0275fac=function(L){return new(L||_e)(u.Y36(u.Rgc))},_e.\u0275dir=u.lG2({type:_e,selectors:[["","ng-notfound-tmp",""]]}),_e})(),tt=(()=>{class _e{constructor(L){this.template=L}}return _e.\u0275fac=function(L){return new(L||_e)(u.Y36(u.Rgc))},_e.\u0275dir=u.lG2({type:_e,selectors:[["","ng-typetosearch-tmp",""]]}),_e})(),Oe=(()=>{class _e{constructor(L){this.template=L}}return _e.\u0275fac=function(L){return new(L||_e)(u.Y36(u.Rgc))},_e.\u0275dir=u.lG2({type:_e,selectors:[["","ng-loadingtext-tmp",""]]}),_e})(),Y=(()=>{class _e{constructor(L){this.template=L}}return _e.\u0275fac=function(L){return new(L||_e)(u.Y36(u.Rgc))},_e.\u0275dir=u.lG2({type:_e,selectors:[["","ng-tag-tmp",""]]}),_e})(),ae=(()=>{class _e{constructor(L){this.template=L}}return _e.\u0275fac=function(L){return new(L||_e)(u.Y36(u.Rgc))},_e.\u0275dir=u.lG2({type:_e,selectors:[["","ng-loadingspinner-tmp",""]]}),_e})();function R(){return"axxxxxxxxxxx".replace(/[x]/g,()=>(16*Math.random()|0).toString(16))}const te={"\u24b6":"A",\uff21:"A",\u00c0:"A",\u00c1:"A",\u00c2:"A",\u1ea6:"A",\u1ea4:"A",\u1eaa:"A",\u1ea8:"A",\u00c3:"A",\u0100:"A",\u0102:"A",\u1eb0:"A",\u1eae:"A",\u1eb4:"A",\u1eb2:"A",\u0226:"A",\u01e0:"A",\u00c4:"A",\u01de:"A",\u1ea2:"A",\u00c5:"A",\u01fa:"A",\u01cd:"A",\u0200:"A",\u0202:"A",\u1ea0:"A",\u1eac:"A",\u1eb6:"A",\u1e00:"A",\u0104:"A",\u023a:"A",\u2c6f:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY","\u24b7":"B",\uff22:"B",\u1e02:"B",\u1e04:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0181:"B","\u24b8":"C",\uff23:"C",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0187:"C",\u023b:"C",\ua73e:"C","\u24b9":"D",\uff24:"D",\u1e0a:"D",\u010e:"D",\u1e0c:"D",\u1e10:"D",\u1e12:"D",\u1e0e:"D",\u0110:"D",\u018b:"D",\u018a:"D",\u0189:"D",\ua779:"D",\u01f1:"DZ",\u01c4:"DZ",\u01f2:"Dz",\u01c5:"Dz","\u24ba":"E",\uff25:"E",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u1ec0:"E",\u1ebe:"E",\u1ec4:"E",\u1ec2:"E",\u1ebc:"E",\u0112:"E",\u1e14:"E",\u1e16:"E",\u0114:"E",\u0116:"E",\u00cb:"E",\u1eba:"E",\u011a:"E",\u0204:"E",\u0206:"E",\u1eb8:"E",\u1ec6:"E",\u0228:"E",\u1e1c:"E",\u0118:"E",\u1e18:"E",\u1e1a:"E",\u0190:"E",\u018e:"E","\u24bb":"F",\uff26:"F",\u1e1e:"F",\u0191:"F",\ua77b:"F","\u24bc":"G",\uff27:"G",\u01f4:"G",\u011c:"G",\u1e20:"G",\u011e:"G",\u0120:"G",\u01e6:"G",\u0122:"G",\u01e4:"G",\u0193:"G",\ua7a0:"G",\ua77d:"G",\ua77e:"G","\u24bd":"H",\uff28:"H",\u0124:"H",\u1e22:"H",\u1e26:"H",\u021e:"H",\u1e24:"H",\u1e28:"H",\u1e2a:"H",\u0126:"H",\u2c67:"H",\u2c75:"H",\ua78d:"H","\u24be":"I",\uff29:"I",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u0128:"I",\u012a:"I",\u012c:"I",\u0130:"I",\u00cf:"I",\u1e2e:"I",\u1ec8:"I",\u01cf:"I",\u0208:"I",\u020a:"I",\u1eca:"I",\u012e:"I",\u1e2c:"I",\u0197:"I","\u24bf":"J",\uff2a:"J",\u0134:"J",\u0248:"J","\u24c0":"K",\uff2b:"K",\u1e30:"K",\u01e8:"K",\u1e32:"K",\u0136:"K",\u1e34:"K",\u0198:"K",\u2c69:"K",\ua740:"K",\ua742:"K",\ua744:"K",\ua7a2:"K","\u24c1":"L",\uff2c:"L",\u013f:"L",\u0139:"L",\u013d:"L",\u1e36:"L",\u1e38:"L",\u013b:"L",\u1e3c:"L",\u1e3a:"L",\u0141:"L",\u023d:"L",\u2c62:"L",\u2c60:"L",\ua748:"L",\ua746:"L",\ua780:"L",\u01c7:"LJ",\u01c8:"Lj","\u24c2":"M",\uff2d:"M",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u019c:"M","\u24c3":"N",\uff2e:"N",\u01f8:"N",\u0143:"N",\u00d1:"N",\u1e44:"N",\u0147:"N",\u1e46:"N",\u0145:"N",\u1e4a:"N",\u1e48:"N",\u0220:"N",\u019d:"N",\ua790:"N",\ua7a4:"N",\u01ca:"NJ",\u01cb:"Nj","\u24c4":"O",\uff2f:"O",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u1ed2:"O",\u1ed0:"O",\u1ed6:"O",\u1ed4:"O",\u00d5:"O",\u1e4c:"O",\u022c:"O",\u1e4e:"O",\u014c:"O",\u1e50:"O",\u1e52:"O",\u014e:"O",\u022e:"O",\u0230:"O",\u00d6:"O",\u022a:"O",\u1ece:"O",\u0150:"O",\u01d1:"O",\u020c:"O",\u020e:"O",\u01a0:"O",\u1edc:"O",\u1eda:"O",\u1ee0:"O",\u1ede:"O",\u1ee2:"O",\u1ecc:"O",\u1ed8:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u0186:"O",\u019f:"O",\ua74a:"O",\ua74c:"O",\u01a2:"OI",\ua74e:"OO",\u0222:"OU","\u24c5":"P",\uff30:"P",\u1e54:"P",\u1e56:"P",\u01a4:"P",\u2c63:"P",\ua750:"P",\ua752:"P",\ua754:"P","\u24c6":"Q",\uff31:"Q",\ua756:"Q",\ua758:"Q",\u024a:"Q","\u24c7":"R",\uff32:"R",\u0154:"R",\u1e58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1e5a:"R",\u1e5c:"R",\u0156:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua75a:"R",\ua7a6:"R",\ua782:"R","\u24c8":"S",\uff33:"S",\u1e9e:"S",\u015a:"S",\u1e64:"S",\u015c:"S",\u1e60:"S",\u0160:"S",\u1e66:"S",\u1e62:"S",\u1e68:"S",\u0218:"S",\u015e:"S",\u2c7e:"S",\ua7a8:"S",\ua784:"S","\u24c9":"T",\uff34:"T",\u1e6a:"T",\u0164:"T",\u1e6c:"T",\u021a:"T",\u0162:"T",\u1e70:"T",\u1e6e:"T",\u0166:"T",\u01ac:"T",\u01ae:"T",\u023e:"T",\ua786:"T",\ua728:"TZ","\u24ca":"U",\uff35:"U",\u00d9:"U",\u00da:"U",\u00db:"U",\u0168:"U",\u1e78:"U",\u016a:"U",\u1e7a:"U",\u016c:"U",\u00dc:"U",\u01db:"U",\u01d7:"U",\u01d5:"U",\u01d9:"U",\u1ee6:"U",\u016e:"U",\u0170:"U",\u01d3:"U",\u0214:"U",\u0216:"U",\u01af:"U",\u1eea:"U",\u1ee8:"U",\u1eee:"U",\u1eec:"U",\u1ef0:"U",\u1ee4:"U",\u1e72:"U",\u0172:"U",\u1e76:"U",\u1e74:"U",\u0244:"U","\u24cb":"V",\uff36:"V",\u1e7c:"V",\u1e7e:"V",\u01b2:"V",\ua75e:"V",\u0245:"V",\ua760:"VY","\u24cc":"W",\uff37:"W",\u1e80:"W",\u1e82:"W",\u0174:"W",\u1e86:"W",\u1e84:"W",\u1e88:"W",\u2c72:"W","\u24cd":"X",\uff38:"X",\u1e8a:"X",\u1e8c:"X","\u24ce":"Y",\uff39:"Y",\u1ef2:"Y",\u00dd:"Y",\u0176:"Y",\u1ef8:"Y",\u0232:"Y",\u1e8e:"Y",\u0178:"Y",\u1ef6:"Y",\u1ef4:"Y",\u01b3:"Y",\u024e:"Y",\u1efe:"Y","\u24cf":"Z",\uff3a:"Z",\u0179:"Z",\u1e90:"Z",\u017b:"Z",\u017d:"Z",\u1e92:"Z",\u1e94:"Z",\u01b5:"Z",\u0224:"Z",\u2c7f:"Z",\u2c6b:"Z",\ua762:"Z","\u24d0":"a",\uff41:"a",\u1e9a:"a",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u1ea7:"a",\u1ea5:"a",\u1eab:"a",\u1ea9:"a",\u00e3:"a",\u0101:"a",\u0103:"a",\u1eb1:"a",\u1eaf:"a",\u1eb5:"a",\u1eb3:"a",\u0227:"a",\u01e1:"a",\u00e4:"a",\u01df:"a",\u1ea3:"a",\u00e5:"a",\u01fb:"a",\u01ce:"a",\u0201:"a",\u0203:"a",\u1ea1:"a",\u1ead:"a",\u1eb7:"a",\u1e01:"a",\u0105:"a",\u2c65:"a",\u0250:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay","\u24d1":"b",\uff42:"b",\u1e03:"b",\u1e05:"b",\u1e07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24d2":"c",\uff43:"c",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0188:"c",\u023c:"c",\ua73f:"c",\u2184:"c","\u24d3":"d",\uff44:"d",\u1e0b:"d",\u010f:"d",\u1e0d:"d",\u1e11:"d",\u1e13:"d",\u1e0f:"d",\u0111:"d",\u018c:"d",\u0256:"d",\u0257:"d",\ua77a:"d",\u01f3:"dz",\u01c6:"dz","\u24d4":"e",\uff45:"e",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u1ec1:"e",\u1ebf:"e",\u1ec5:"e",\u1ec3:"e",\u1ebd:"e",\u0113:"e",\u1e15:"e",\u1e17:"e",\u0115:"e",\u0117:"e",\u00eb:"e",\u1ebb:"e",\u011b:"e",\u0205:"e",\u0207:"e",\u1eb9:"e",\u1ec7:"e",\u0229:"e",\u1e1d:"e",\u0119:"e",\u1e19:"e",\u1e1b:"e",\u0247:"e",\u025b:"e",\u01dd:"e","\u24d5":"f",\uff46:"f",\u1e1f:"f",\u0192:"f",\ua77c:"f","\u24d6":"g",\uff47:"g",\u01f5:"g",\u011d:"g",\u1e21:"g",\u011f:"g",\u0121:"g",\u01e7:"g",\u0123:"g",\u01e5:"g",\u0260:"g",\ua7a1:"g",\u1d79:"g",\ua77f:"g","\u24d7":"h",\uff48:"h",\u0125:"h",\u1e23:"h",\u1e27:"h",\u021f:"h",\u1e25:"h",\u1e29:"h",\u1e2b:"h",\u1e96:"h",\u0127:"h",\u2c68:"h",\u2c76:"h",\u0265:"h",\u0195:"hv","\u24d8":"i",\uff49:"i",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u0129:"i",\u012b:"i",\u012d:"i",\u00ef:"i",\u1e2f:"i",\u1ec9:"i",\u01d0:"i",\u0209:"i",\u020b:"i",\u1ecb:"i",\u012f:"i",\u1e2d:"i",\u0268:"i",\u0131:"i","\u24d9":"j",\uff4a:"j",\u0135:"j",\u01f0:"j",\u0249:"j","\u24da":"k",\uff4b:"k",\u1e31:"k",\u01e9:"k",\u1e33:"k",\u0137:"k",\u1e35:"k",\u0199:"k",\u2c6a:"k",\ua741:"k",\ua743:"k",\ua745:"k",\ua7a3:"k","\u24db":"l",\uff4c:"l",\u0140:"l",\u013a:"l",\u013e:"l",\u1e37:"l",\u1e39:"l",\u013c:"l",\u1e3d:"l",\u1e3b:"l",\u017f:"l",\u0142:"l",\u019a:"l",\u026b:"l",\u2c61:"l",\ua749:"l",\ua781:"l",\ua747:"l",\u01c9:"lj","\u24dc":"m",\uff4d:"m",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u026f:"m","\u24dd":"n",\uff4e:"n",\u01f9:"n",\u0144:"n",\u00f1:"n",\u1e45:"n",\u0148:"n",\u1e47:"n",\u0146:"n",\u1e4b:"n",\u1e49:"n",\u019e:"n",\u0272:"n",\u0149:"n",\ua791:"n",\ua7a5:"n",\u01cc:"nj","\u24de":"o",\uff4f:"o",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u1ed3:"o",\u1ed1:"o",\u1ed7:"o",\u1ed5:"o",\u00f5:"o",\u1e4d:"o",\u022d:"o",\u1e4f:"o",\u014d:"o",\u1e51:"o",\u1e53:"o",\u014f:"o",\u022f:"o",\u0231:"o",\u00f6:"o",\u022b:"o",\u1ecf:"o",\u0151:"o",\u01d2:"o",\u020d:"o",\u020f:"o",\u01a1:"o",\u1edd:"o",\u1edb:"o",\u1ee1:"o",\u1edf:"o",\u1ee3:"o",\u1ecd:"o",\u1ed9:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u0254:"o",\ua74b:"o",\ua74d:"o",\u0275:"o",\u01a3:"oi",\u0223:"ou",\ua74f:"oo","\u24df":"p",\uff50:"p",\u1e55:"p",\u1e57:"p",\u01a5:"p",\u1d7d:"p",\ua751:"p",\ua753:"p",\ua755:"p","\u24e0":"q",\uff51:"q",\u024b:"q",\ua757:"q",\ua759:"q","\u24e1":"r",\uff52:"r",\u0155:"r",\u1e59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1e5b:"r",\u1e5d:"r",\u0157:"r",\u1e5f:"r",\u024d:"r",\u027d:"r",\ua75b:"r",\ua7a7:"r",\ua783:"r","\u24e2":"s",\uff53:"s",\u00df:"s",\u015b:"s",\u1e65:"s",\u015d:"s",\u1e61:"s",\u0161:"s",\u1e67:"s",\u1e63:"s",\u1e69:"s",\u0219:"s",\u015f:"s",\u023f:"s",\ua7a9:"s",\ua785:"s",\u1e9b:"s","\u24e3":"t",\uff54:"t",\u1e6b:"t",\u1e97:"t",\u0165:"t",\u1e6d:"t",\u021b:"t",\u0163:"t",\u1e71:"t",\u1e6f:"t",\u0167:"t",\u01ad:"t",\u0288:"t",\u2c66:"t",\ua787:"t",\ua729:"tz","\u24e4":"u",\uff55:"u",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u0169:"u",\u1e79:"u",\u016b:"u",\u1e7b:"u",\u016d:"u",\u00fc:"u",\u01dc:"u",\u01d8:"u",\u01d6:"u",\u01da:"u",\u1ee7:"u",\u016f:"u",\u0171:"u",\u01d4:"u",\u0215:"u",\u0217:"u",\u01b0:"u",\u1eeb:"u",\u1ee9:"u",\u1eef:"u",\u1eed:"u",\u1ef1:"u",\u1ee5:"u",\u1e73:"u",\u0173:"u",\u1e77:"u",\u1e75:"u",\u0289:"u","\u24e5":"v",\uff56:"v",\u1e7d:"v",\u1e7f:"v",\u028b:"v",\ua75f:"v",\u028c:"v",\ua761:"vy","\u24e6":"w",\uff57:"w",\u1e81:"w",\u1e83:"w",\u0175:"w",\u1e87:"w",\u1e85:"w",\u1e98:"w",\u1e89:"w",\u2c73:"w","\u24e7":"x",\uff58:"x",\u1e8b:"x",\u1e8d:"x","\u24e8":"y",\uff59:"y",\u1ef3:"y",\u00fd:"y",\u0177:"y",\u1ef9:"y",\u0233:"y",\u1e8f:"y",\u00ff:"y",\u1ef7:"y",\u1e99:"y",\u1ef5:"y",\u01b4:"y",\u024f:"y",\u1eff:"y","\u24e9":"z",\uff5a:"z",\u017a:"z",\u1e91:"z",\u017c:"z",\u017e:"z",\u1e93:"z",\u1e95:"z",\u01b6:"z",\u0225:"z",\u0240:"z",\u2c6c:"z",\ua763:"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038a:"\u0399",\u03aa:"\u0399",\u038c:"\u039f",\u038e:"\u03a5",\u03ab:"\u03a5",\u038f:"\u03a9",\u03ac:"\u03b1",\u03ad:"\u03b5",\u03ae:"\u03b7",\u03af:"\u03b9",\u03ca:"\u03b9",\u0390:"\u03b9",\u03cc:"\u03bf",\u03cd:"\u03c5",\u03cb:"\u03c5",\u03b0:"\u03c5",\u03c9:"\u03c9",\u03c2:"\u03c3"};function Ae(_e){return _e.replace(/[^\u0000-\u007E]/g,L=>te[L]||L)}class ke{constructor(Ee,L){this._ngSelect=Ee,this._selectionModel=L,this._items=[],this._filteredItems=[],this._markedIndex=-1}get items(){return this._items}get filteredItems(){return this._filteredItems}get markedIndex(){return this._markedIndex}get selectedItems(){return this._selectionModel.value}get markedItem(){return this._filteredItems[this._markedIndex]}get noItemsToSelect(){return this._ngSelect.hideSelected&&this._items.length===this.selectedItems.length}get maxItemsSelected(){return this._ngSelect.multiple&&this._ngSelect.maxSelectedItems<=this.selectedItems.length}get lastSelectedItem(){let Ee=this.selectedItems.length-1;for(;Ee>=0;Ee--){const L=this.selectedItems[Ee];if(!L.disabled)return L}return null}setItems(Ee){this._items=Ee.map((L,he)=>this.mapItem(L,he)),this._ngSelect.groupBy?(this._groups=this._groupBy(this._items,this._ngSelect.groupBy),this._items=this._flatten(this._groups)):(this._groups=new Map,this._groups.set(void 0,this._items)),this._filteredItems=[...this._items]}select(Ee){if(Ee.selected||this.maxItemsSelected)return;const L=this._ngSelect.multiple;L||this.clearSelected(),this._selectionModel.select(Ee,L,this._ngSelect.selectableGroupAsModel),this._ngSelect.hideSelected&&this._hideSelected(Ee)}unselect(Ee){Ee.selected&&(this._selectionModel.unselect(Ee,this._ngSelect.multiple),this._ngSelect.hideSelected&&tr(Ee.index)&&this._ngSelect.multiple&&this._showSelected(Ee))}findItem(Ee){let L;return L=this._ngSelect.compareWith?he=>this._ngSelect.compareWith(he.value,Ee):this._ngSelect.bindValue?he=>!he.children&&this.resolveNested(he.value,this._ngSelect.bindValue)===Ee:he=>he.value===Ee||!he.children&&he.label&&he.label===this.resolveNested(Ee,this._ngSelect.bindLabel),this._items.find(he=>L(he))}addItem(Ee){const L=this.mapItem(Ee,this._items.length);return this._items.push(L),this._filteredItems.push(L),L}clearSelected(Ee=!1){this._selectionModel.clear(Ee),this._items.forEach(L=>{L.selected=Ee&&L.selected&&L.disabled,L.marked=!1}),this._ngSelect.hideSelected&&this.resetFilteredItems()}findByLabel(Ee){return Ee=Ae(Ee).toLocaleLowerCase(),this.filteredItems.find(L=>Ae(L.label).toLocaleLowerCase().substr(0,Ee.length)===Ee)}filter(Ee){if(!Ee)return void this.resetFilteredItems();this._filteredItems=[],Ee=this._ngSelect.searchFn?Ee:Ae(Ee).toLocaleLowerCase();const L=this._ngSelect.searchFn||this._defaultSearchFn,he=this._ngSelect.hideSelected;for(const qe of Array.from(this._groups.keys())){const Ct=[];for(const nn of this._groups.get(qe))he&&(nn.parent&&nn.parent.selected||nn.selected)||L(Ee,this._ngSelect.searchFn?nn.value:nn)&&Ct.push(nn);if(Ct.length>0){const[nn]=Ct.slice(-1);if(nn.parent){const rr=this._items.find(ur=>ur===nn.parent);this._filteredItems.push(rr)}this._filteredItems.push(...Ct)}}}resetFilteredItems(){this._filteredItems.length!==this._items.length&&(this._filteredItems=this._ngSelect.hideSelected&&this.selectedItems.length>0?this._items.filter(Ee=>!Ee.selected):this._items)}unmarkItem(){this._markedIndex=-1}markNextItem(){this._stepToItem(1)}markPreviousItem(){this._stepToItem(-1)}markItem(Ee){this._markedIndex=this._filteredItems.indexOf(Ee)}markSelectedOrDefault(Ee){if(0===this._filteredItems.length)return;const L=this._getLastMarkedIndex();this._markedIndex=L>-1?L:Ee?this.filteredItems.findIndex(he=>!he.disabled):-1}resolveNested(Ee,L){if(!yt(Ee))return Ee;if(-1===L.indexOf("."))return Ee[L];{const he=L.split(".");let qe=Ee;for(let Ct=0,nn=he.length;Ct<nn;++Ct){if(null==qe)return null;qe=qe[he[Ct]]}return qe}}mapItem(Ee,L){const he=tr(Ee.$ngOptionLabel)?Ee.$ngOptionLabel:this.resolveNested(Ee,this._ngSelect.bindLabel),qe=tr(Ee.$ngOptionValue)?Ee.$ngOptionValue:Ee;return{index:L,label:tr(he)?he.toString():"",value:qe,disabled:Ee.disabled,htmlId:`${this._ngSelect.dropdownId}-${L}`}}mapSelectedItems(){const Ee=this._ngSelect.multiple;for(const L of this.selectedItems){const he=this._ngSelect.bindValue?this.resolveNested(L.value,this._ngSelect.bindValue):L.value,qe=tr(he)?this.findItem(he):null;this._selectionModel.unselect(L,Ee),this._selectionModel.select(qe||L,Ee,this._ngSelect.selectableGroupAsModel)}this._ngSelect.hideSelected&&(this._filteredItems=this.filteredItems.filter(L=>-1===this.selectedItems.indexOf(L)))}_showSelected(Ee){if(this._filteredItems.push(Ee),Ee.parent){const L=Ee.parent;this._filteredItems.find(qe=>qe===L)||this._filteredItems.push(L)}else if(Ee.children)for(const L of Ee.children)L.selected=!1,this._filteredItems.push(L);this._filteredItems=[...this._filteredItems.sort((L,he)=>L.index-he.index)]}_hideSelected(Ee){this._filteredItems=this._filteredItems.filter(L=>L!==Ee),Ee.parent?Ee.parent.children.every(he=>he.selected)&&(this._filteredItems=this._filteredItems.filter(he=>he!==Ee.parent)):Ee.children&&(this._filteredItems=this.filteredItems.filter(L=>L.parent!==Ee))}_defaultSearchFn(Ee,L){return Ae(L.label).toLocaleLowerCase().indexOf(Ee)>-1}_getNextItemIndex(Ee){return Ee>0?this._markedIndex>=this._filteredItems.length-1?0:this._markedIndex+1:this._markedIndex<=0?this._filteredItems.length-1:this._markedIndex-1}_stepToItem(Ee){0===this._filteredItems.length||this._filteredItems.every(L=>L.disabled)||(this._markedIndex=this._getNextItemIndex(Ee),this.markedItem.disabled&&this._stepToItem(Ee))}_getLastMarkedIndex(){if(this._ngSelect.hideSelected||this._markedIndex>-1&&void 0===this.markedItem)return-1;const Ee=this._filteredItems.indexOf(this.lastSelectedItem);return this.lastSelectedItem&&Ee<0?-1:Math.max(this.markedIndex,Ee)}_groupBy(Ee,L){const he=new Map;if(0===Ee.length)return he;if(Array.isArray(Ee[0].value[L])){for(const nn of Ee){const rr=(nn.value[L]||[]).map((ur,zt)=>this.mapItem(ur,zt));he.set(nn,rr)}return he}const qe=Fe(this._ngSelect.groupBy),Ct=nn=>{const rr=qe?L(nn.value):nn.value[L];return tr(rr)?rr:void 0};for(const nn of Ee){const rr=Ct(nn),ur=he.get(rr);ur?ur.push(nn):he.set(rr,[nn])}return he}_flatten(Ee){const L=Fe(this._ngSelect.groupBy),he=[];for(const qe of Array.from(Ee.keys())){let Ct=he.length;if(void 0===qe){const Xn=Ee.get(void 0)||[];he.push(...Xn.map(Sr=>(Sr.index=Ct++,Sr)));continue}const nn=yt(qe),rr={label:nn?"":String(qe),children:void 0,parent:null,index:Ct++,disabled:!this._ngSelect.selectableGroup,htmlId:R()},ur=L?this._ngSelect.bindLabel:this._ngSelect.groupBy,zt=this._ngSelect.groupValue||(()=>nn?qe.value:{[ur]:qe}),Sn=Ee.get(qe).map(Xn=>(Xn.parent=rr,Xn.children=void 0,Xn.index=Ct++,Xn));rr.children=Sn,rr.value=zt(qe,Sn.map(Xn=>Xn.value)),he.push(rr),he.push(...Sn)}return he}}var ze=(()=>{return(_e=ze||(ze={}))[_e.Tab=9]="Tab",_e[_e.Enter=13]="Enter",_e[_e.Esc=27]="Esc",_e[_e.Space=32]="Space",_e[_e.ArrowUp=38]="ArrowUp",_e[_e.ArrowDown=40]="ArrowDown",_e[_e.Backspace=8]="Backspace",ze;var _e})();let Ye=(()=>{class _e{constructor(){this._dimensions={itemHeight:0,panelHeight:0,itemsPerViewport:0}}get dimensions(){return this._dimensions}calculateItems(L,he,qe){const Ct=this._dimensions,nn=Ct.itemHeight*he,ur=Math.max(0,L)/nn*he;let zt=Math.min(he,Math.ceil(ur)+(Ct.itemsPerViewport+1));const Xn=Math.max(0,zt-Ct.itemsPerViewport);let Sr=Math.min(Xn,Math.floor(ur)),br=Ct.itemHeight*Math.ceil(Sr)-Ct.itemHeight*Math.min(Sr,qe);return br=isNaN(br)?0:br,Sr=isNaN(Sr)?-1:Sr,zt=isNaN(zt)?-1:zt,Sr-=qe,Sr=Math.max(0,Sr),zt+=qe,zt=Math.min(he,zt),{topPadding:br,scrollHeight:nn,start:Sr,end:zt}}setDimensions(L,he){const qe=Math.max(1,Math.floor(he/L));this._dimensions={itemHeight:L,panelHeight:he,itemsPerViewport:qe}}getScrollTo(L,he,qe){const{panelHeight:Ct}=this.dimensions,nn=L+he,ur=qe+Ct;return Ct>=nn&&qe===L?null:nn>ur?qe+nn-ur:L<=qe?L:null}}return _e.\u0275fac=function(L){return new(L||_e)},_e.\u0275prov=u.Yz7({token:_e,factory:_e.\u0275fac}),_e})();const Pt=["top","right","bottom","left"],Qt=typeof requestAnimationFrame<"u"?bt.Z:Pn;let cn=(()=>{class _e{constructor(L,he,qe,Ct,nn){this._renderer=L,this._zone=he,this._panelService=qe,this._document=nn,this.items=[],this.position="auto",this.virtualScroll=!1,this.filterValue=null,this.update=new u.vpe,this.scroll=new u.vpe,this.scrollToEnd=new u.vpe,this.outsideClick=new u.vpe,this._destroy$=new ht.x,this._scrollToEndFired=!1,this._updateScrollHeight=!1,this._lastScrollPosition=0,this._dropdown=Ct.nativeElement}get currentPosition(){return this._currentPosition}get itemsLength(){return this._itemsLength}set itemsLength(L){L!==this._itemsLength&&(this._itemsLength=L,this._onItemsLengthChanged())}get _startOffset(){if(this.markedItem){const{itemHeight:L,panelHeight:he}=this._panelService.dimensions,qe=this.markedItem.index*L;return he>qe?0:qe}return 0}ngOnInit(){this._select=this._dropdown.parentElement,this._virtualPadding=this.paddingElementRef.nativeElement,this._scrollablePanel=this.scrollElementRef.nativeElement,this._contentPanel=this.contentElementRef.nativeElement,this._handleScroll(),this._handleOutsideClick(),this._appendDropdown(),this._setupMousedownListener()}ngOnChanges(L){if(L.items){const he=L.items;this._onItemsChange(he.currentValue,he.firstChange)}}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),this._destroy$.unsubscribe(),this.appendTo&&this._renderer.removeChild(this._dropdown.parentNode,this._dropdown)}scrollTo(L,he=!1){if(!L)return;const qe=this.items.indexOf(L);if(qe<0||qe>=this.itemsLength)return;let Ct;if(this.virtualScroll){const nn=this._panelService.dimensions.itemHeight;Ct=this._panelService.getScrollTo(qe*nn,nn,this._lastScrollPosition)}else{const nn=this._dropdown.querySelector(`#${L.htmlId}`);Ct=this._panelService.getScrollTo(nn.offsetTop,nn.clientHeight,he?nn.offsetTop:this._lastScrollPosition)}tr(Ct)&&(this._scrollablePanel.scrollTop=Ct)}scrollToTag(){const L=this._scrollablePanel;L.scrollTop=L.scrollHeight-L.clientHeight}adjustPosition(){this._updateYPosition()}_handleDropdownPosition(){this._currentPosition=this._calculateCurrentPosition(this._dropdown),Pt.includes(this._currentPosition)?this._updateDropdownClass(this._currentPosition):this._updateDropdownClass("bottom"),this.appendTo&&this._updateYPosition(),this._dropdown.style.opacity="1"}_updateDropdownClass(L){Pt.forEach(qe=>{const Ct=`ng-select-${qe}`;this._renderer.removeClass(this._dropdown,Ct),this._renderer.removeClass(this._select,Ct)});const he=`ng-select-${L}`;this._renderer.addClass(this._dropdown,he),this._renderer.addClass(this._select,he)}_handleScroll(){this._zone.runOutsideAngular(()=>{(0,pt.R)(this.scrollElementRef.nativeElement,"scroll").pipe((0,we.R)(this._destroy$),function ge(_e,Ee=Ue.z){return function Xe(_e){return(0,ve.e)((Ee,L)=>{let he=!1,qe=null,Ct=null,nn=!1;const rr=()=>{if(Ct?.unsubscribe(),Ct=null,he){he=!1;const zt=qe;qe=null,L.next(zt)}nn&&L.complete()},ur=()=>{Ct=null,nn&&L.complete()};Ee.subscribe((0,Ge.x)(L,zt=>{he=!0,qe=zt,Ct||(0,Je.Xf)(_e(zt)).subscribe(Ct=(0,Ge.x)(L,rr,ur))},()=>{nn=!0,(!he||!Ct||Ct.closed)&&L.complete()}))})}(()=>(0,Ie.H)(_e,Ee))}(0,Qt)).subscribe(L=>{const he=L.path||L.composedPath&&L.composedPath();this._onContentScrolled(he&&0!==he.length?he[0].scrollTop:L.target.scrollTop)})})}_handleOutsideClick(){this._document&&this._zone.runOutsideAngular(()=>{(0,xt.T)((0,pt.R)(this._document,"touchstart",{capture:!0}),(0,pt.R)(this._document,"mousedown",{capture:!0})).pipe((0,we.R)(this._destroy$)).subscribe(L=>this._checkToClose(L))})}_checkToClose(L){if(this._select.contains(L.target)||this._dropdown.contains(L.target))return;const he=L.path||L.composedPath&&L.composedPath();L.target&&L.target.shadowRoot&&he&&he[0]&&this._select.contains(he[0])||this._zone.run(()=>this.outsideClick.emit())}_onItemsChange(L,he){this.items=L||[],this._scrollToEndFired=!1,this.itemsLength=L.length,this.virtualScroll?this._updateItemsRange(he):(this._setVirtualHeight(),this._updateItems(he))}_updateItems(L){this.update.emit(this.items),!1!==L&&this._zone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._panelService.setDimensions(0,this._scrollablePanel.clientHeight),this._handleDropdownPosition(),this.scrollTo(this.markedItem,L)})})}_updateItemsRange(L){this._zone.runOutsideAngular(()=>{this._measureDimensions().then(()=>{L?(this._renderItemsRange(this._startOffset),this._handleDropdownPosition()):this._renderItemsRange()})})}_onContentScrolled(L){this.virtualScroll&&this._renderItemsRange(L),this._lastScrollPosition=L,this._fireScrollToEnd(L)}_updateVirtualHeight(L){this._updateScrollHeight&&(this._virtualPadding.style.height=`${L}px`,this._updateScrollHeight=!1)}_setVirtualHeight(){this._virtualPadding&&(this._virtualPadding.style.height="0px")}_onItemsLengthChanged(){this._updateScrollHeight=!0}_renderItemsRange(L=null){if(L&&this._lastScrollPosition===L)return;const he=this._panelService.calculateItems(L=L||this._scrollablePanel.scrollTop,this.itemsLength,this.bufferAmount);this._updateVirtualHeight(he.scrollHeight),this._contentPanel.style.transform=`translateY(${he.topPadding}px)`,this._zone.run(()=>{this.update.emit(this.items.slice(he.start,he.end)),this.scroll.emit({start:he.start,end:he.end})}),tr(L)&&0===this._lastScrollPosition&&(this._scrollablePanel.scrollTop=L,this._lastScrollPosition=L)}_measureDimensions(){if(this._panelService.dimensions.itemHeight>0||0===this.itemsLength)return Promise.resolve(this._panelService.dimensions);const[L]=this.items;return this.update.emit([L]),Promise.resolve().then(()=>{const qe=this._dropdown.querySelector(`#${L.htmlId}`).clientHeight;return this._virtualPadding.style.height=qe*this.itemsLength+"px",this._panelService.setDimensions(qe,this._scrollablePanel.clientHeight),this._panelService.dimensions})}_fireScrollToEnd(L){this._scrollToEndFired||0===L||L+this._dropdown.clientHeight>=(this.virtualScroll?this._virtualPadding:this._contentPanel).clientHeight-1&&(this._zone.run(()=>this.scrollToEnd.emit()),this._scrollToEndFired=!0)}_calculateCurrentPosition(L){if("auto"!==this.position)return this.position;const he=this._select.getBoundingClientRect(),qe=document.documentElement.scrollTop||document.body.scrollTop;return he.top+window.pageYOffset+he.height+L.getBoundingClientRect().height>qe+document.documentElement.clientHeight?"top":"bottom"}_appendDropdown(){if(this.appendTo){if(this._parent=document.querySelector(this.appendTo),!this._parent)throw new Error(`appendTo selector ${this.appendTo} did not found any parent element`);this._updateXPosition(),this._parent.appendChild(this._dropdown)}}_updateXPosition(){const L=this._select.getBoundingClientRect(),he=this._parent.getBoundingClientRect();this._dropdown.style.left=L.left-he.left+"px",this._dropdown.style.width=L.width+"px",this._dropdown.style.minWidth=L.width+"px"}_updateYPosition(){const L=this._select.getBoundingClientRect(),he=this._parent.getBoundingClientRect(),qe=L.height;"top"===this._currentPosition?(this._dropdown.style.bottom=he.bottom-L.bottom+qe+"px",this._dropdown.style.top="auto"):"bottom"===this._currentPosition&&(this._dropdown.style.top=L.top-he.top+qe+"px",this._dropdown.style.bottom="auto")}_setupMousedownListener(){this._zone.runOutsideAngular(()=>{(0,pt.R)(this._dropdown,"mousedown").pipe((0,we.R)(this._destroy$)).subscribe(L=>{"INPUT"!==L.target.tagName&&L.preventDefault()})})}}return _e.\u0275fac=function(L){return new(L||_e)(u.Y36(u.Qsj),u.Y36(u.R0b),u.Y36(Ye),u.Y36(u.SBq),u.Y36(rt.K0,8))},_e.\u0275cmp=u.Xpm({type:_e,selectors:[["ng-dropdown-panel"]],viewQuery:function(L,he){if(1&L&&(u.Gf(Ke,7,u.SBq),u.Gf(Be,7,u.SBq),u.Gf(vt,7,u.SBq)),2&L){let qe;u.iGM(qe=u.CRH())&&(he.contentElementRef=qe.first),u.iGM(qe=u.CRH())&&(he.scrollElementRef=qe.first),u.iGM(qe=u.CRH())&&(he.paddingElementRef=qe.first)}},inputs:{items:"items",markedItem:"markedItem",position:"position",appendTo:"appendTo",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",headerTemplate:"headerTemplate",footerTemplate:"footerTemplate",filterValue:"filterValue"},outputs:{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"},features:[u.TTD],ngContentSelectors:Bt,decls:9,vars:6,consts:[["class","ng-dropdown-header",4,"ngIf"],[1,"ng-dropdown-panel-items","scroll-host"],["scroll",""],["padding",""],["content",""],["class","ng-dropdown-footer",4,"ngIf"],[1,"ng-dropdown-header"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ng-dropdown-footer"]],template:function(L,he){1&L&&(u.F$t(),u.YNc(0,Fn,2,4,"div",0),u.TgZ(1,"div",1,2),u._UZ(3,"div",null,3),u.TgZ(5,"div",null,4),u.Hsn(7),u.qZA()(),u.YNc(8,pn,2,4,"div",5)),2&L&&(u.Q6J("ngIf",he.headerTemplate),u.xp6(3),u.ekj("total-padding",he.virtualScroll),u.xp6(2),u.ekj("scrollable-content",he.virtualScroll&&he.items.length),u.xp6(3),u.Q6J("ngIf",he.footerTemplate))},dependencies:[rt.O5,rt.tP],encapsulation:2,changeDetection:0}),_e})(),jt=(()=>{class _e{constructor(L){this.elementRef=L,this.stateChange$=new ht.x,this._disabled=!1}get disabled(){return this._disabled}set disabled(L){this._disabled=this._isDisabled(L)}get label(){return(this.elementRef.nativeElement.textContent||"").trim()}ngOnChanges(L){L.disabled&&this.stateChange$.next({value:this.value,disabled:this._disabled})}ngAfterViewChecked(){this.label!==this._previousLabel&&(this._previousLabel=this.label,this.stateChange$.next({value:this.value,disabled:this._disabled,label:this.elementRef.nativeElement.innerHTML}))}ngOnDestroy(){this.stateChange$.complete()}_isDisabled(L){return null!=L&&"false"!=`${L}`}}return _e.\u0275fac=function(L){return new(L||_e)(u.Y36(u.SBq))},_e.\u0275cmp=u.Xpm({type:_e,selectors:[["ng-option"]],inputs:{value:"value",disabled:"disabled"},features:[u.TTD],ngContentSelectors:Bt,decls:1,vars:0,template:function(L,he){1&L&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),_e})(),hn=(()=>{class _e{constructor(){this.notFoundText="No items found",this.typeToSearchText="Type to search",this.addTagText="Add item",this.loadingText="Loading...",this.clearAllText="Clear all",this.disableVirtualScroll=!0,this.openOnEnter=!0,this.appearance="underline"}}return _e.\u0275fac=function(L){return new(L||_e)},_e.\u0275prov=u.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})(),Cn=(()=>{class _e{warn(L){console.warn(L)}}return _e.\u0275fac=function(L){return new(L||_e)},_e.\u0275prov=u.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})();const kn=new u.OlP("ng-select-selection-model");let fr=(()=>{class _e{constructor(L,he,qe,Ct,nn,rr,ur){this.classes=L,this.autoFocus=he,this.config=qe,this._cd=rr,this._console=ur,this.markFirst=!0,this.dropdownPosition="auto",this.loading=!1,this.closeOnSelect=!0,this.hideSelected=!1,this.selectOnTab=!1,this.bufferAmount=4,this.selectableGroup=!1,this.selectableGroupAsModel=!0,this.searchFn=null,this.trackByFn=null,this.clearOnBackspace=!0,this.labelForId=null,this.inputAttrs={},this.readonly=!1,this.searchWhileComposing=!0,this.minTermLength=0,this.editableSearchTerm=!1,this.keyDownFn=zt=>!0,this.multiple=!1,this.addTag=!1,this.searchable=!0,this.clearable=!0,this.isOpen=!1,this.blurEvent=new u.vpe,this.focusEvent=new u.vpe,this.changeEvent=new u.vpe,this.openEvent=new u.vpe,this.closeEvent=new u.vpe,this.searchEvent=new u.vpe,this.clearEvent=new u.vpe,this.addEvent=new u.vpe,this.removeEvent=new u.vpe,this.scroll=new u.vpe,this.scrollToEnd=new u.vpe,this.useDefaultClass=!0,this.viewPortItems=[],this.searchTerm=null,this.dropdownId=R(),this.escapeHTML=!0,this._items=[],this._defaultLabel="label",this._pressedKeys=[],this._isComposing=!1,this._destroy$=new ht.x,this._keyPress$=new ht.x,this._onChange=zt=>{},this._onTouched=()=>{},this.clearItem=zt=>{const Sn=this.selectedItems.find(Xn=>Xn.value===zt);this.unselect(Sn)},this.trackByOption=(zt,Sn)=>this.trackByFn?this.trackByFn(Sn.value):Sn,this._mergeGlobalConfig(qe),this.itemsList=new ke(this,Ct()),this.element=nn.nativeElement}get items(){return this._items}set items(L){null===L&&(L=[]),this._itemsAreUsed=!0,this._items=L}get compareWith(){return this._compareWith}set compareWith(L){if(null!=L&&!Fe(L))throw Error("`compareWith` must be a function.");this._compareWith=L}get clearSearchOnAdd(){return tr(this._clearSearchOnAdd)?this._clearSearchOnAdd:tr(this.config.clearSearchOnAdd)?this.config.clearSearchOnAdd:this.closeOnSelect}set clearSearchOnAdd(L){this._clearSearchOnAdd=L}get disabled(){return this.readonly||this._disabled}get filtered(){return!!this.searchTerm&&this.searchable||this._isComposing}get single(){return!this.multiple}get _editableSearchTerm(){return this.editableSearchTerm&&!this.multiple}get selectedItems(){return this.itemsList.selectedItems}get selectedValues(){return this.selectedItems.map(L=>L.value)}get hasValue(){return this.selectedItems.length>0}get currentPanelPosition(){if(this.dropdownPanel)return this.dropdownPanel.currentPosition}ngOnInit(){this._handleKeyPresses(),this._setInputAttributes()}ngOnChanges(L){L.multiple&&this.itemsList.clearSelected(),L.items&&this._setItems(L.items.currentValue||[]),L.isOpen&&(this._manualOpen=tr(L.isOpen.currentValue))}ngAfterViewInit(){this._itemsAreUsed||(this.escapeHTML=!1,this._setItemsFromNgOptions()),tr(this.autoFocus)&&this.focus()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}handleKeyDown(L){if(ze[L.which]){if(!1===this.keyDownFn(L))return;this.handleKeyCode(L)}else L.key&&1===L.key.length&&this._keyPress$.next(L.key.toLocaleLowerCase())}handleKeyCode(L){switch(L.which){case ze.ArrowDown:this._handleArrowDown(L);break;case ze.ArrowUp:this._handleArrowUp(L);break;case ze.Space:this._handleSpace(L);break;case ze.Enter:this._handleEnter(L);break;case ze.Tab:this._handleTab(L);break;case ze.Esc:this.close(),L.preventDefault();break;case ze.Backspace:this._handleBackspace()}}handleMousedown(L){const he=L.target;"INPUT"!==he.tagName&&L.preventDefault(),he.classList.contains("ng-clear-wrapper")?this.handleClearClick():he.classList.contains("ng-arrow-wrapper")?this.handleArrowClick():he.classList.contains("ng-value-icon")||(this.focused||this.focus(),this.searchable?this.open():this.toggle())}handleArrowClick(){this.isOpen?this.close():this.open()}handleClearClick(){this.hasValue&&(this.itemsList.clearSelected(!0),this._updateNgModel()),this._clearSearch(),this.focus(),this.clearEvent.emit(),this._onSelectionChanged()}clearModel(){this.clearable&&(this.itemsList.clearSelected(),this._updateNgModel())}writeValue(L){this.itemsList.clearSelected(),this._handleWriteValue(L),this._cd.markForCheck()}registerOnChange(L){this._onChange=L}registerOnTouched(L){this._onTouched=L}setDisabledState(L){this._disabled=L,this._cd.markForCheck()}toggle(){this.isOpen?this.close():this.open()}open(){this.disabled||this.isOpen||this._manualOpen||!this._isTypeahead&&!this.addTag&&this.itemsList.noItemsToSelect||(this.isOpen=!0,this.itemsList.markSelectedOrDefault(this.markFirst),this.openEvent.emit(),this.searchTerm||this.focus(),this.detectChanges())}close(){!this.isOpen||this._manualOpen||(this.isOpen=!1,this._isComposing=!1,this._editableSearchTerm?this.itemsList.resetFilteredItems():this._clearSearch(),this.itemsList.unmarkItem(),this._onTouched(),this.closeEvent.emit(),this._cd.markForCheck())}toggleItem(L){!L||L.disabled||this.disabled||(this.multiple&&L.selected?this.unselect(L):this.select(L),this._editableSearchTerm&&this._setSearchTermFromItems(),this._onSelectionChanged())}select(L){L.selected||(this.itemsList.select(L),this.clearSearchOnAdd&&!this._editableSearchTerm&&this._clearSearch(),this._updateNgModel(),this.multiple&&this.addEvent.emit(L.value)),(this.closeOnSelect||this.itemsList.noItemsToSelect)&&this.close()}focus(){this.searchInput.nativeElement.readOnly||this.searchInput.nativeElement.focus()}blur(){this.searchInput.nativeElement.blur()}unselect(L){L&&(this.itemsList.unselect(L),this.focus(),this._updateNgModel(),this.removeEvent.emit(L))}selectTag(){let L;L=Fe(this.addTag)?this.addTag(this.searchTerm):this._primitive?this.searchTerm:{[this.bindLabel]:this.searchTerm};const he=qe=>this._isTypeahead||!this.isOpen?this.itemsList.mapItem(qe,null):this.itemsList.addItem(qe);!function Pe(_e){return _e instanceof Promise}(L)?L&&this.select(he(L)):L.then(qe=>this.select(he(qe))).catch(()=>{})}showClear(){return this.clearable&&(this.hasValue||this.searchTerm)&&!this.disabled}get showAddTag(){if(!this._validTerm)return!1;const L=this.searchTerm.toLowerCase().trim();return this.addTag&&!this.itemsList.filteredItems.some(he=>he.label.toLowerCase()===L)&&(!this.hideSelected&&this.isOpen||!this.selectedItems.some(he=>he.label.toLowerCase()===L))&&!this.loading}showNoItemsFound(){const L=0===this.itemsList.filteredItems.length;return(L&&!this._isTypeahead&&!this.loading||L&&this._isTypeahead&&this._validTerm&&!this.loading)&&!this.showAddTag}showTypeToSearch(){return 0===this.itemsList.filteredItems.length&&this._isTypeahead&&!this._validTerm&&!this.loading}onCompositionStart(){this._isComposing=!0}onCompositionEnd(L){this._isComposing=!1,!this.searchWhileComposing&&this.filter(L)}filter(L){this._isComposing&&!this.searchWhileComposing||(this.searchTerm=L,this._isTypeahead&&(this._validTerm||0===this.minTermLength)&&this.typeahead.next(L),this._isTypeahead||(this.itemsList.filter(this.searchTerm),this.isOpen&&this.itemsList.markSelectedOrDefault(this.markFirst)),this.searchEvent.emit({term:L,items:this.itemsList.filteredItems.map(he=>he.value)}),this.open())}onInputFocus(L){this.focused||(this._editableSearchTerm&&this._setSearchTermFromItems(),this.element.classList.add("ng-select-focused"),this.focusEvent.emit(L),this.focused=!0)}onInputBlur(L){this.element.classList.remove("ng-select-focused"),this.blurEvent.emit(L),!this.isOpen&&!this.disabled&&this._onTouched(),this._editableSearchTerm&&this._setSearchTermFromItems(),this.focused=!1}onItemHover(L){L.disabled||this.itemsList.markItem(L)}detectChanges(){this._cd.destroyed||this._cd.detectChanges()}_setSearchTermFromItems(){const L=this.selectedItems&&this.selectedItems[0];this.searchTerm=L&&L.label||null}_setItems(L){const he=L[0];this.bindLabel=this.bindLabel||this._defaultLabel,this._primitive=tr(he)?!yt(he):this._primitive||this.bindLabel===this._defaultLabel,this.itemsList.setItems(L),L.length>0&&this.hasValue&&this.itemsList.mapSelectedItems(),this.isOpen&&tr(this.searchTerm)&&!this._isTypeahead&&this.itemsList.filter(this.searchTerm),(this._isTypeahead||this.isOpen)&&this.itemsList.markSelectedOrDefault(this.markFirst)}_setItemsFromNgOptions(){const L=qe=>{this.items=qe.map(Ct=>({$ngOptionValue:Ct.value,$ngOptionLabel:Ct.elementRef.nativeElement.innerHTML,disabled:Ct.disabled})),this.itemsList.setItems(this.items),this.hasValue&&this.itemsList.mapSelectedItems(),this.detectChanges()},he=()=>{const qe=(0,xt.T)(this.ngOptions.changes,this._destroy$);(0,xt.T)(...this.ngOptions.map(Ct=>Ct.stateChange$)).pipe((0,we.R)(qe)).subscribe(Ct=>{const nn=this.itemsList.findItem(Ct.value);nn.disabled=Ct.disabled,nn.label=Ct.label||nn.label,this._cd.detectChanges()})};this.ngOptions.changes.pipe((0,xe.O)(this.ngOptions),(0,we.R)(this._destroy$)).subscribe(qe=>{this.bindLabel=this._defaultLabel,L(qe),he()})}_isValidWriteValue(L){if(!tr(L)||this.multiple&&""===L||Array.isArray(L)&&0===L.length)return!1;const he=qe=>!(!tr(this.compareWith)&&yt(qe)&&this.bindValue&&(this._console.warn(`Setting object(${JSON.stringify(qe)}) as your model with bindValue is not allowed unless [compareWith] is used.`),1));return this.multiple?Array.isArray(L)?L.every(qe=>he(qe)):(this._console.warn("Multiple select ngModel should be array."),!1):he(L)}_handleWriteValue(L){if(!this._isValidWriteValue(L))return;const he=qe=>{let Ct=this.itemsList.findItem(qe);if(Ct)this.itemsList.select(Ct);else{const nn=yt(qe);nn||!nn&&!this.bindValue?this.itemsList.select(this.itemsList.mapItem(qe,null)):this.bindValue&&(Ct={[this.bindLabel]:null,[this.bindValue]:qe},this.itemsList.select(this.itemsList.mapItem(Ct,null)))}};this.multiple?L.forEach(qe=>he(qe)):he(L)}_handleKeyPresses(){this.searchable||this._keyPress$.pipe((0,we.R)(this._destroy$),(0,We.b)(L=>this._pressedKeys.push(L)),(0,Tt.b)(200),(0,ue.h)(()=>this._pressedKeys.length>0),(0,Ze.U)(()=>this._pressedKeys.join(""))).subscribe(L=>{const he=this.itemsList.findByLabel(L);he&&(this.isOpen?(this.itemsList.markItem(he),this._scrollToMarked(),this._cd.markForCheck()):this.select(he)),this._pressedKeys=[]})}_setInputAttributes(){const L=this.searchInput.nativeElement,he={type:"text",autocorrect:"off",autocapitalize:"off",autocomplete:this.labelForId?"off":this.dropdownId,...this.inputAttrs};for(const qe of Object.keys(he))L.setAttribute(qe,he[qe])}_updateNgModel(){const L=[];for(const qe of this.selectedItems)if(this.bindValue){let Ct=null;Ct=qe.children?qe.value[(this.groupValue?this.bindValue:this.groupBy)||this.groupBy]:this.itemsList.resolveNested(qe.value,this.bindValue),L.push(Ct)}else L.push(qe.value);const he=this.selectedItems.map(qe=>qe.value);this.multiple?(this._onChange(L),this.changeEvent.emit(he)):(this._onChange(tr(L[0])?L[0]:null),this.changeEvent.emit(he[0])),this._cd.markForCheck()}_clearSearch(){this.searchTerm&&(this._changeSearch(null),this.itemsList.resetFilteredItems())}_changeSearch(L){this.searchTerm=L,this._isTypeahead&&this.typeahead.next(L)}_scrollToMarked(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollTo(this.itemsList.markedItem)}_scrollToTag(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollToTag()}_onSelectionChanged(){this.isOpen&&this.multiple&&this.appendTo&&(this._cd.detectChanges(),this.dropdownPanel.adjustPosition())}_handleTab(L){!1===this.isOpen&&!this.addTag||(this.selectOnTab?this.itemsList.markedItem?(this.toggleItem(this.itemsList.markedItem),L.preventDefault()):this.showAddTag?(this.selectTag(),L.preventDefault()):this.close():this.close())}_handleEnter(L){if(this.isOpen||this._manualOpen)this.itemsList.markedItem?this.toggleItem(this.itemsList.markedItem):this.showAddTag&&this.selectTag();else{if(!this.openOnEnter)return;this.open()}L.preventDefault()}_handleSpace(L){this.isOpen||this._manualOpen||(this.open(),L.preventDefault())}_handleArrowDown(L){this._nextItemIsTag(1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markNextItem(),this._scrollToMarked()),this.open(),L.preventDefault()}_handleArrowUp(L){this.isOpen&&(this._nextItemIsTag(-1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markPreviousItem(),this._scrollToMarked()),L.preventDefault())}_nextItemIsTag(L){const he=this.itemsList.markedIndex+L;return this.addTag&&this.searchTerm&&this.itemsList.markedItem&&(he<0||he===this.itemsList.filteredItems.length)}_handleBackspace(){this.searchTerm||!this.clearable||!this.clearOnBackspace||!this.hasValue||(this.multiple?this.unselect(this.itemsList.lastSelectedItem):this.clearModel())}get _isTypeahead(){return this.typeahead&&this.typeahead.observers.length>0}get _validTerm(){const L=this.searchTerm&&this.searchTerm.trim();return L&&L.length>=this.minTermLength}_mergeGlobalConfig(L){this.placeholder=this.placeholder||L.placeholder,this.notFoundText=this.notFoundText||L.notFoundText,this.typeToSearchText=this.typeToSearchText||L.typeToSearchText,this.addTagText=this.addTagText||L.addTagText,this.loadingText=this.loadingText||L.loadingText,this.clearAllText=this.clearAllText||L.clearAllText,this.virtualScroll=tr(this.virtualScroll)?this.virtualScroll:!!tr(L.disableVirtualScroll)&&!L.disableVirtualScroll,this.openOnEnter=tr(this.openOnEnter)?this.openOnEnter:L.openOnEnter,this.appendTo=this.appendTo||L.appendTo,this.bindValue=this.bindValue||L.bindValue,this.bindLabel=this.bindLabel||L.bindLabel,this.appearance=this.appearance||L.appearance}}return _e.\u0275fac=function(L){return new(L||_e)(u.$8M("class"),u.$8M("autofocus"),u.Y36(hn),u.Y36(kn),u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(Cn))},_e.\u0275cmp=u.Xpm({type:_e,selectors:[["ng-select"]],contentQueries:function(L,he,qe){if(1&L&&(u.Suo(qe,Nt,5,u.Rgc),u.Suo(qe,Tn,5,u.Rgc),u.Suo(qe,Hn,5,u.Rgc),u.Suo(qe,hr,5,u.Rgc),u.Suo(qe,Un,5,u.Rgc),u.Suo(qe,ar,5,u.Rgc),u.Suo(qe,Wr,5,u.Rgc),u.Suo(qe,tt,5,u.Rgc),u.Suo(qe,Oe,5,u.Rgc),u.Suo(qe,Y,5,u.Rgc),u.Suo(qe,ae,5,u.Rgc),u.Suo(qe,jt,5)),2&L){let Ct;u.iGM(Ct=u.CRH())&&(he.optionTemplate=Ct.first),u.iGM(Ct=u.CRH())&&(he.optgroupTemplate=Ct.first),u.iGM(Ct=u.CRH())&&(he.labelTemplate=Ct.first),u.iGM(Ct=u.CRH())&&(he.multiLabelTemplate=Ct.first),u.iGM(Ct=u.CRH())&&(he.headerTemplate=Ct.first),u.iGM(Ct=u.CRH())&&(he.footerTemplate=Ct.first),u.iGM(Ct=u.CRH())&&(he.notFoundTemplate=Ct.first),u.iGM(Ct=u.CRH())&&(he.typeToSearchTemplate=Ct.first),u.iGM(Ct=u.CRH())&&(he.loadingTextTemplate=Ct.first),u.iGM(Ct=u.CRH())&&(he.tagTemplate=Ct.first),u.iGM(Ct=u.CRH())&&(he.loadingSpinnerTemplate=Ct.first),u.iGM(Ct=u.CRH())&&(he.ngOptions=Ct)}},viewQuery:function(L,he){if(1&L&&(u.Gf(cn,5),u.Gf(qt,7)),2&L){let qe;u.iGM(qe=u.CRH())&&(he.dropdownPanel=qe.first),u.iGM(qe=u.CRH())&&(he.searchInput=qe.first)}},hostVars:20,hostBindings:function(L,he){1&L&&u.NdJ("keydown",function(Ct){return he.handleKeyDown(Ct)}),2&L&&u.ekj("ng-select-typeahead",he.typeahead)("ng-select-multiple",he.multiple)("ng-select-taggable",he.addTag)("ng-select-searchable",he.searchable)("ng-select-clearable",he.clearable)("ng-select-opened",he.isOpen)("ng-select",he.useDefaultClass)("ng-select-disabled",he.disabled)("ng-select-filtered",he.filtered)("ng-select-single",he.single)},inputs:{bindLabel:"bindLabel",bindValue:"bindValue",markFirst:"markFirst",placeholder:"placeholder",notFoundText:"notFoundText",typeToSearchText:"typeToSearchText",addTagText:"addTagText",loadingText:"loadingText",clearAllText:"clearAllText",appearance:"appearance",dropdownPosition:"dropdownPosition",appendTo:"appendTo",loading:"loading",closeOnSelect:"closeOnSelect",hideSelected:"hideSelected",selectOnTab:"selectOnTab",openOnEnter:"openOnEnter",maxSelectedItems:"maxSelectedItems",groupBy:"groupBy",groupValue:"groupValue",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",selectableGroup:"selectableGroup",selectableGroupAsModel:"selectableGroupAsModel",searchFn:"searchFn",trackByFn:"trackByFn",clearOnBackspace:"clearOnBackspace",labelForId:"labelForId",inputAttrs:"inputAttrs",tabIndex:"tabIndex",readonly:"readonly",searchWhileComposing:"searchWhileComposing",minTermLength:"minTermLength",editableSearchTerm:"editableSearchTerm",keyDownFn:"keyDownFn",typeahead:"typeahead",multiple:"multiple",addTag:"addTag",searchable:"searchable",clearable:"clearable",isOpen:"isOpen",items:"items",compareWith:"compareWith",clearSearchOnAdd:"clearSearchOnAdd"},outputs:{blurEvent:"blur",focusEvent:"focus",changeEvent:"change",openEvent:"open",closeEvent:"close",searchEvent:"search",clearEvent:"clear",addEvent:"add",removeEvent:"remove",scroll:"scroll",scrollToEnd:"scrollToEnd"},features:[u._Bn([{provide:ee.JU,useExisting:(0,u.Gpc)(()=>_e),multi:!0},Ye]),u.TTD],decls:14,vars:19,consts:[[1,"ng-select-container",3,"mousedown"],[1,"ng-value-container"],[1,"ng-placeholder"],[4,"ngIf"],["role","combobox","aria-haspopup","listbox",1,"ng-input"],["aria-autocomplete","list",3,"readOnly","disabled","value","input","compositionstart","compositionend","focus","blur","change"],["searchInput",""],["class","ng-clear-wrapper",3,"title",4,"ngIf"],[1,"ng-arrow-wrapper"],[1,"ng-arrow"],["class","ng-dropdown-panel","role","listbox","aria-label","Options list",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ng-select-multiple","ngClass","id","update","scroll","scrollToEnd","outsideClick",4,"ngIf"],["class","ng-value",3,"ng-value-disabled",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ng-value"],["defaultLabelTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true",1,"ng-value-icon","left",3,"click"],[1,"ng-value-label",3,"ngItemLabel","escape"],["defaultLoadingSpinnerTemplate",""],[3,"ngTemplateOutlet"],[1,"ng-spinner-loader"],[1,"ng-clear-wrapper",3,"title"],["aria-hidden","true",1,"ng-clear"],["role","listbox","aria-label","Options list",1,"ng-dropdown-panel",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ngClass","id","update","scroll","scrollToEnd","outsideClick"],["class","ng-option",3,"ng-option-disabled","ng-option-selected","ng-optgroup","ng-option","ng-option-child","ng-option-marked","click","mouseover",4,"ngFor","ngForOf","ngForTrackBy"],["class","ng-option","role","option",3,"ng-option-marked","mouseover","click",4,"ngIf"],[1,"ng-option",3,"click","mouseover"],["defaultOptionTemplate",""],[1,"ng-option-label",3,"ngItemLabel","escape"],["role","option",1,"ng-option",3,"mouseover","click"],["defaultTagTemplate",""],[1,"ng-tag-label"],["defaultNotFoundTemplate",""],[1,"ng-option","ng-option-disabled"],["defaultTypeToSearchTemplate",""],["defaultLoadingTextTemplate",""]],template:function(L,he){if(1&L){const qe=u.EpF();u.TgZ(0,"div",0),u.NdJ("mousedown",function(nn){return he.handleMousedown(nn)}),u.TgZ(1,"div",1)(2,"div",2),u._uU(3),u.qZA(),u.YNc(4,ut,2,2,"ng-container",3),u.YNc(5,Lt,1,5,null,3),u.TgZ(6,"div",4)(7,"input",5,6),u.NdJ("input",function(){u.CHM(qe);const nn=u.MAs(8);return u.KtG(he.filter(nn.value))})("compositionstart",function(){return he.onCompositionStart()})("compositionend",function(){u.CHM(qe);const nn=u.MAs(8);return u.KtG(he.onCompositionEnd(nn.value))})("focus",function(nn){return he.onInputFocus(nn)})("blur",function(nn){return he.onInputBlur(nn)})("change",function(nn){return nn.stopPropagation()}),u.qZA()()(),u.YNc(9,On,4,1,"ng-container",3),u.YNc(10,_r,3,1,"span",7),u.TgZ(11,"span",8),u._UZ(12,"span",9),u.qZA()(),u.YNc(13,jr,7,19,"ng-dropdown-panel",10)}2&L&&(u.ekj("ng-appearance-outline","outline"===he.appearance)("ng-has-value",he.hasValue),u.xp6(3),u.Oqu(he.placeholder),u.xp6(1),u.Q6J("ngIf",(!he.multiLabelTemplate||!he.multiple)&&he.selectedItems.length>0),u.xp6(1),u.Q6J("ngIf",he.multiple&&he.multiLabelTemplate&&he.selectedValues.length>0),u.xp6(1),u.uIk("aria-expanded",he.isOpen)("aria-owns",he.isOpen?he.dropdownId:null),u.xp6(1),u.Q6J("readOnly",!he.searchable||he.itemsList.maxItemsSelected)("disabled",he.disabled)("value",he.searchTerm?he.searchTerm:""),u.uIk("id",he.labelForId)("tabindex",he.tabIndex)("aria-activedescendant",he.isOpen?null==he.itemsList||null==he.itemsList.markedItem?null:he.itemsList.markedItem.htmlId:null)("aria-controls",he.isOpen?he.dropdownId:null),u.xp6(2),u.Q6J("ngIf",he.loading),u.xp6(1),u.Q6J("ngIf",he.showClear()),u.xp6(3),u.Q6J("ngIf",he.isOpen))},dependencies:[rt.mk,rt.sg,rt.O5,rt.tP,cn,Vt],styles:['@charset "UTF-8";.ng-select{position:relative;display:block;box-sizing:border-box}.ng-select div,.ng-select input,.ng-select span{box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:none;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none transparent;border:0 none;box-shadow:none;outline:none;padding:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:none;user-select:none;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border-top:2px solid rgba(66,66,66,.2);border-right:2px solid rgba(66,66,66,.2);border-bottom:2px solid rgba(66,66,66,.2);border-left:2px solid #424242;transform:translateZ(0);animation:load8 .8s infinite linear}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@keyframes load8{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-option-label:empty:before{content:"\\200b"}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}\n'],encapsulation:2,changeDetection:0}),_e})();function Ur(){return new ni}class ni{constructor(){this._selected=[]}get value(){return this._selected}select(Ee,L,he){if(Ee.selected=!0,(!Ee.children||!L&&he)&&this._selected.push(Ee),L)if(Ee.parent){const qe=Ee.parent.children.length,Ct=Ee.parent.children.filter(nn=>nn.selected).length;Ee.parent.selected=qe===Ct}else Ee.children&&(this._setChildrenSelectedState(Ee.children,!0),this._removeChildren(Ee),this._selected=he&&this._activeChildren(Ee)?[...this._selected.filter(qe=>qe.parent!==Ee),Ee]:[...this._selected,...Ee.children.filter(qe=>!qe.disabled)])}unselect(Ee,L){if(this._selected=this._selected.filter(he=>he!==Ee),Ee.selected=!1,L)if(Ee.parent&&Ee.parent.selected){const he=Ee.parent.children;this._removeParent(Ee.parent),this._removeChildren(Ee.parent),this._selected.push(...he.filter(qe=>qe!==Ee&&!qe.disabled)),Ee.parent.selected=!1}else Ee.children&&(this._setChildrenSelectedState(Ee.children,!1),this._removeChildren(Ee))}clear(Ee){this._selected=Ee?this._selected.filter(L=>L.disabled):[]}_setChildrenSelectedState(Ee,L){for(const he of Ee)he.disabled||(he.selected=L)}_removeChildren(Ee){this._selected=[...this._selected.filter(L=>L.parent!==Ee),...Ee.children.filter(L=>L.parent===Ee&&L.disabled&&L.selected)]}_removeParent(Ee){this._selected=this._selected.filter(L=>L!==Ee)}_activeChildren(Ee){return Ee.children.every(L=>!L.disabled||L.selected)}}let Qn=(()=>{class _e{}return _e.\u0275fac=function(L){return new(L||_e)},_e.\u0275mod=u.oAB({type:_e}),_e.\u0275inj=u.cJS({providers:[{provide:kn,useValue:Ur}],imports:[rt.ez]}),_e})()},7680:(sn,ot,O)=>{"use strict";function u(Y,ae,R,te,Ae,ke,ze){try{var Ye=Y[ke](ze),Pt=Ye.value}catch(Qt){return void R(Qt)}Ye.done?ae(Pt):Promise.resolve(Pt).then(te,Ae)}function ee(Y){return function(){var ae=this,R=arguments;return new Promise(function(te,Ae){var ke=Y.apply(ae,R);function ze(Pt){u(ke,te,Ae,ze,Ye,"next",Pt)}function Ye(Pt){u(ke,te,Ae,ze,Ye,"throw",Pt)}ze(void 0)})}}O.d(ot,{z0:()=>Kt,zr:()=>ar,Ct:()=>Fe});var we=O(1571),Ue=O(6895),ve=O(529),Je=O(7579),Ge=O(9646),Xe=O(457),Ie=O(9751),ge=O(8421);const{isArray:xe}=Array;var Tt=O(5403);var bt=O(2843),Xt=O(9841),St=O(6451),tn=O(9300),wt=O(8505),be=O(8372),De=O(4986),et=O(7272),_t=O(5698),$t=O(4482),Ot=O(5032),En=O(9718),Jt=O(5577);function Pn(Y,ae){return ae?R=>(0,et.z)(ae.pipe((0,_t.q)(1),function Wt(){return(0,$t.e)((Y,ae)=>{Y.subscribe((0,Tt.x)(ae,Ot.Z))})}()),R.pipe(Pn(Y))):(0,Jt.z)((R,te)=>Y(R,te).pipe((0,_t.q)(1),(0,En.h)(R)))}var dn=O(2805);function ht(Y,ae=De.z){const R=(0,dn.H)(Y,ae);return Pn(()=>R)}var pt=O(3900),xt=O(4004),rt=O(590),Ke=O(262),Be=O(1165),vt=O(3888),an=O(9672);const Fn=(0,vt.d)(Y=>function(R=null){Y(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=R});function Bt(Y){throw new Fn(Y)}class qt{validateSignature(ae){return Promise.resolve(null)}validateAtHash(ae){return Promise.resolve(!0)}}class Bn{}class Dr{}let Jn=(()=>{class Y extends Dr{now(){return Date.now()}new(){return new Date}}return Y.\u0275fac=function(){let ae;return function(te){return(ae||(ae=we.n5z(Y)))(te||Y)}}(),Y.\u0275prov=we.Yz7({token:Y,factory:Y.\u0275fac}),Y})();class dt{}class Ve{}let Lt=(()=>{class Y{constructor(){this.data=new Map}getItem(R){return this.data.get(R)}removeItem(R){this.data.delete(R)}setItem(R,te){this.data.set(R,te)}}return Y.\u0275fac=function(R){return new(R||Y)},Y.\u0275prov=we.Yz7({token:Y,factory:Y.\u0275fac}),Y})();class yn{constructor(ae){this.type=ae}}class On extends yn{constructor(ae,R=null){super(ae),this.info=R}}class _r extends yn{constructor(ae,R=null){super(ae),this.info=R}}class oe extends yn{constructor(ae,R,te=null){super(ae),this.reason=R,this.params=te}}function st(Y){const ae=Y.replace(/\-/g,"+").replace(/\_/g,"/");return decodeURIComponent(atob(ae).split("").map(function(R){return"%"+("00"+R.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function gt(Y){return btoa(Y).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}class Mt{constructor(ae){this.clientId="",this.redirectUri="",this.postLogoutRedirectUri="",this.redirectUriAsPostLogoutRedirectUriFallback=!0,this.loginUrl="",this.scope="openid profile",this.resource="",this.rngUrl="",this.oidc=!0,this.requestAccessToken=!0,this.options=null,this.issuer="",this.logoutUrl="",this.clearHashAfterLogin=!0,this.tokenEndpoint=null,this.revocationEndpoint=null,this.customTokenParameters=[],this.userinfoEndpoint=null,this.responseType="",this.showDebugInformation=!1,this.silentRefreshRedirectUri="",this.silentRefreshMessagePrefix="",this.silentRefreshShowIFrame=!1,this.siletRefreshTimeout=2e4,this.silentRefreshTimeout=2e4,this.dummyClientSecret="",this.requireHttps="remoteOnly",this.strictDiscoveryDocumentValidation=!0,this.jwks=null,this.customQueryParams=null,this.silentRefreshIFrameName="angular-oauth-oidc-silent-refresh-iframe",this.timeoutFactor=.75,this.sessionChecksEnabled=!1,this.sessionCheckIntervall=3e3,this.sessionCheckIFrameUrl=null,this.sessionCheckIFrameName="angular-oauth-oidc-check-session-iframe",this.disableAtHashCheck=!1,this.skipSubjectCheck=!1,this.useIdTokenHintForSilentRefresh=!1,this.skipIssuerCheck=!1,this.nonceStateSeparator=";",this.useHttpBasicAuth=!1,this.decreaseExpirationBySec=0,this.waitForTokenInMsec=0,this.disablePKCE=!1,this.preserveRequestedRoute=!1,this.disableIdTokenTimer=!1,this.checkOrigin=!1,this.openUri=R=>{location.href=R},ae&&Object.assign(this,ae)}}class At{encodeKey(ae){return encodeURIComponent(ae)}encodeValue(ae){return encodeURIComponent(ae)}decodeKey(ae){return decodeURIComponent(ae)}decodeValue(ae){return decodeURIComponent(ae)}}class Zt{}class Kt{validateAtHash(ae){var R=this;return ee(function*(){let te=R.inferHashAlgorithm(ae.idTokenHeader),Ae=yield R.calcHash(ae.accessToken,te),ze=gt(Ae.substr(0,Ae.length/2)),Ye=ae.idTokenClaims.at_hash.replace(/=/g,"");return ze!==Ye&&(console.error("exptected at_hash: "+ze),console.error("actual at_hash: "+Ye)),ze===Ye})()}inferHashAlgorithm(ae){let R=ae.alg;if(!R.match(/^.S[0-9]{3}$/))throw new Error("Algorithm not supported: "+R);return"sha-"+R.substr(2)}}let Dt=(()=>{class Y{getHashFragmentParams(R){let te=R||window.location.hash;if(te=decodeURIComponent(te),0!==te.indexOf("#"))return{};const Ae=te.indexOf("?");return te=te.substr(Ae>-1?Ae+1:1),this.parseQueryString(te)}parseQueryString(R){const te={};let Ae,ke,ze,Ye,Pt,Qt,cn;if(null===R)return te;Ae=R.split("&");for(let jt=0;jt<Ae.length;jt++)ke=Ae[jt],ze=ke.indexOf("="),-1===ze?(Ye=ke,Pt=null):(Ye=ke.substr(0,ze),Pt=ke.substr(ze+1)),Qt=decodeURIComponent(Ye),cn=decodeURIComponent(Pt),"/"===Qt.substr(0,1)&&(Qt=Qt.substr(1)),te[Qt]=cn;return te}}return Y.\u0275fac=function(R){return new(R||Y)},Y.\u0275prov=we.Yz7({token:Y,factory:Y.\u0275fac}),Y})();const kt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function Wn(Y,ae,R,te,Ae){let ke,ze,Ye,Pt,Qt,cn,jt,hn,Cn,kn,fr,Ur,ni;for(;Ae>=64;){for(ke=ae[0],ze=ae[1],Ye=ae[2],Pt=ae[3],Qt=ae[4],cn=ae[5],jt=ae[6],hn=ae[7],kn=0;kn<16;kn++)fr=te+4*kn,Y[kn]=(255&R[fr])<<24|(255&R[fr+1])<<16|(255&R[fr+2])<<8|255&R[fr+3];for(kn=16;kn<64;kn++)Cn=Y[kn-2],Ur=(Cn>>>17|Cn<<15)^(Cn>>>19|Cn<<13)^Cn>>>10,Cn=Y[kn-15],ni=(Cn>>>7|Cn<<25)^(Cn>>>18|Cn<<14)^Cn>>>3,Y[kn]=(Ur+Y[kn-7]|0)+(ni+Y[kn-16]|0);for(kn=0;kn<64;kn++)Ur=(((Qt>>>6|Qt<<26)^(Qt>>>11|Qt<<21)^(Qt>>>25|Qt<<7))+(Qt&cn^~Qt&jt)|0)+(hn+(kt[kn]+Y[kn]|0)|0)|0,ni=((ke>>>2|ke<<30)^(ke>>>13|ke<<19)^(ke>>>22|ke<<10))+(ke&ze^ke&Ye^ze&Ye)|0,hn=jt,jt=cn,cn=Qt,Qt=Pt+Ur|0,Pt=Ye,Ye=ze,ze=ke,ke=Ur+ni|0;ae[0]+=ke,ae[1]+=ze,ae[2]+=Ye,ae[3]+=Pt,ae[4]+=Qt,ae[5]+=cn,ae[6]+=jt,ae[7]+=hn,te+=64,Ae-=64}return te}class Er{constructor(){this.digestLength=32,this.blockSize=64,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}reset(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this}clean(){for(let ae=0;ae<this.buffer.length;ae++)this.buffer[ae]=0;for(let ae=0;ae<this.temp.length;ae++)this.temp[ae]=0;this.reset()}update(ae,R=ae.length){if(this.finished)throw new Error("SHA256: can't update because hash was finished.");let te=0;if(this.bytesHashed+=R,this.bufferLength>0){for(;this.bufferLength<64&&R>0;)this.buffer[this.bufferLength++]=ae[te++],R--;64===this.bufferLength&&(Wn(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(R>=64&&(te=Wn(this.temp,this.state,ae,te,R),R%=64);R>0;)this.buffer[this.bufferLength++]=ae[te++],R--;return this}finish(ae){if(!this.finished){const R=this.bytesHashed,te=this.bufferLength,Ae=R/536870912|0,ke=R<<3,ze=R%64<56?64:128;this.buffer[te]=128;for(let Ye=te+1;Ye<ze-8;Ye++)this.buffer[Ye]=0;this.buffer[ze-8]=Ae>>>24&255,this.buffer[ze-7]=Ae>>>16&255,this.buffer[ze-6]=Ae>>>8&255,this.buffer[ze-5]=Ae>>>0&255,this.buffer[ze-4]=ke>>>24&255,this.buffer[ze-3]=ke>>>16&255,this.buffer[ze-2]=ke>>>8&255,this.buffer[ze-1]=ke>>>0&255,Wn(this.temp,this.state,this.buffer,0,ze),this.finished=!0}for(let R=0;R<8;R++)ae[4*R+0]=this.state[R]>>>24&255,ae[4*R+1]=this.state[R]>>>16&255,ae[4*R+2]=this.state[R]>>>8&255,ae[4*R+3]=this.state[R]>>>0&255;return this}digest(){const ae=new Uint8Array(this.digestLength);return this.finish(ae),ae}_saveState(ae){for(let R=0;R<this.state.length;R++)ae[R]=this.state[R]}_restoreState(ae,R){for(let te=0;te<this.state.length;te++)this.state[te]=ae[te];this.bytesHashed=R,this.finished=!1,this.bufferLength=0}}new Uint8Array(32);class Kr{}let Pe=(()=>{class Y{calcHash(R,te){return ee(function*(){return function yt(Y){var ae,R=[];for(ae=0;ae<Y.length;ae++)R.push(String.fromCharCode(Y[ae]));return R.join("")}(function Tr(Y){const ae=(new Er).update(Y),R=ae.digest();return ae.clean(),R}(function tr(Y){if("string"!=typeof Y)throw new TypeError("expected string");var ae,R=Y,te=new Uint8Array(R.length);for(ae=0;ae<R.length;ae++)te[ae]=R.charCodeAt(ae);return te}(R)))})()}toHashString2(R){let te="";for(let Ae of R)te+=String.fromCharCode(Ae);return te}toHashString(R){const te=new Uint8Array(R);let Ae="";for(let ke of te)Ae+=String.fromCharCode(ke);return Ae}}return Y.\u0275fac=function(R){return new(R||Y)},Y.\u0275prov=we.Yz7({token:Y,factory:Y.\u0275fac}),Y})(),Fe=(()=>{class Y extends Mt{constructor(R,te,Ae,ke,ze,Ye,Pt,Qt,cn,jt){super(),this.ngZone=R,this.http=te,this.config=ze,this.urlHelper=Ye,this.logger=Pt,this.crypto=Qt,this.dateTimeService=jt,this.discoveryDocumentLoaded=!1,this.state="",this.eventsSubject=new Je.x,this.discoveryDocumentLoadedSubject=new Je.x,this.grantTypesSupported=[],this.inImplicitFlow=!1,this.saveNoncesInLocalStorage=!1,this.debug("angular-oauth2-oidc v10"),this.document=cn,ze||(ze={}),this.discoveryDocumentLoaded$=this.discoveryDocumentLoadedSubject.asObservable(),this.events=this.eventsSubject.asObservable(),ke&&(this.tokenValidationHandler=ke),ze&&this.configure(ze);try{Ae?this.setStorage(Ae):typeof sessionStorage<"u"&&this.setStorage(sessionStorage)}catch(hn){console.error("No OAuthStorage provided and cannot access default (sessionStorage).Consider providing a custom OAuthStorage implementation in your module.",hn)}if(this.checkLocalStorageAccessable()){const hn=window?.navigator?.userAgent;(hn?.includes("MSIE ")||hn?.includes("Trident"))&&(this.saveNoncesInLocalStorage=!0)}this.setupRefreshTimer()}checkLocalStorageAccessable(){if(typeof window>"u")return!1;const R="test";try{return!(typeof window.localStorage>"u"||(localStorage.setItem(R,R),localStorage.removeItem(R),0))}catch{return!1}}configure(R){Object.assign(this,new Mt,R),this.config=Object.assign({},new Mt,R),this.sessionChecksEnabled&&this.setupSessionCheck(),this.configChanged()}configChanged(){this.setupRefreshTimer()}restartSessionChecksIfStillLoggedIn(){this.hasValidIdToken()&&this.initSessionCheck()}restartRefreshTimerIfStillLoggedIn(){this.setupExpirationTimers()}setupSessionCheck(){this.events.pipe((0,tn.h)(R=>"token_received"===R.type)).subscribe(R=>{this.initSessionCheck()})}setupAutomaticSilentRefresh(R={},te,Ae=!0){let ke=!0;this.clearAutomaticRefreshTimer(),this.automaticRefreshSubscription=this.events.pipe((0,wt.b)(ze=>{"token_received"===ze.type?ke=!0:"logout"===ze.type&&(ke=!1)}),(0,tn.h)(ze=>"token_expires"===ze.type&&(null==te||"any"===te||ze.info===te)),(0,be.b)(1e3)).subscribe(ze=>{ke&&this.refreshInternal(R,Ae).catch(Ye=>{this.debug("Automatic silent refresh did not work")})}),this.restartRefreshTimerIfStillLoggedIn()}refreshInternal(R,te){return this.useSilentRefresh||"code"!==this.responseType?this.silentRefresh(R,te):this.refreshToken()}loadDiscoveryDocumentAndTryLogin(R=null){return this.loadDiscoveryDocument().then(te=>this.tryLogin(R))}loadDiscoveryDocumentAndLogin(R=null){return this.loadDiscoveryDocumentAndTryLogin(R=R||{}).then(te=>!(!this.hasValidIdToken()||!this.hasValidAccessToken())||(this.initLoginFlow("string"==typeof R.state?R.state:""),!1))}debug(...R){this.showDebugInformation&&this.logger.debug.apply(this.logger,R)}validateUrlFromDiscoveryDocument(R){const te=[],Ae=this.validateUrlForHttps(R),ke=this.validateUrlAgainstIssuer(R);return Ae||te.push("https for all urls required. Also for urls received by discovery."),ke||te.push("Every url in discovery document has to start with the issuer url.Also see property strictDiscoveryDocumentValidation."),te}validateUrlForHttps(R){if(!R)return!0;const te=R.toLowerCase();return!(!1!==this.requireHttps&&(!te.match(/^http:\/\/localhost($|[:\/])/)&&!te.match(/^http:\/\/localhost($|[:\/])/)||"remoteOnly"!==this.requireHttps))||te.startsWith("https://")}assertUrlNotNullAndCorrectProtocol(R,te){if(!R)throw new Error(`'${te}' should not be null`);if(!this.validateUrlForHttps(R))throw new Error(`'${te}' must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).`)}validateUrlAgainstIssuer(R){return!this.strictDiscoveryDocumentValidation||!R||R.toLowerCase().startsWith(this.issuer.toLowerCase())}setupRefreshTimer(){typeof window>"u"?this.debug("timer not supported on this plattform"):((this.hasValidIdToken()||this.hasValidAccessToken())&&(this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()),this.tokenReceivedSubscription&&this.tokenReceivedSubscription.unsubscribe(),this.tokenReceivedSubscription=this.events.pipe((0,tn.h)(R=>"token_received"===R.type)).subscribe(R=>{this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()}))}setupExpirationTimers(){this.hasValidAccessToken()&&this.setupAccessTokenTimer(),!this.disableIdTokenTimer&&this.hasValidIdToken()&&this.setupIdTokenTimer()}setupAccessTokenTimer(){const R=this.getAccessTokenExpiration(),te=this.getAccessTokenStoredAt(),Ae=this.calcTimeout(te,R);this.ngZone.runOutsideAngular(()=>{this.accessTokenTimeoutSubscription=(0,Ge.of)(new _r("token_expires","access_token")).pipe(ht(Ae)).subscribe(ke=>{this.ngZone.run(()=>{this.eventsSubject.next(ke)})})})}setupIdTokenTimer(){const R=this.getIdTokenExpiration(),te=this.getIdTokenStoredAt(),Ae=this.calcTimeout(te,R);this.ngZone.runOutsideAngular(()=>{this.idTokenTimeoutSubscription=(0,Ge.of)(new _r("token_expires","id_token")).pipe(ht(Ae)).subscribe(ke=>{this.ngZone.run(()=>{this.eventsSubject.next(ke)})})})}stopAutomaticRefresh(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.clearAutomaticRefreshTimer()}clearAccessTokenTimer(){this.accessTokenTimeoutSubscription&&this.accessTokenTimeoutSubscription.unsubscribe()}clearIdTokenTimer(){this.idTokenTimeoutSubscription&&this.idTokenTimeoutSubscription.unsubscribe()}clearAutomaticRefreshTimer(){this.automaticRefreshSubscription&&this.automaticRefreshSubscription.unsubscribe()}calcTimeout(R,te){const Ae=this.dateTimeService.now(),ze=Math.max(0,(te-R)*this.timeoutFactor-(Ae-R)),Ye=2147483647;return ze>Ye?Ye:ze}setStorage(R){this._storage=R,this.configChanged()}loadDiscoveryDocument(R=null){return new Promise((te,Ae)=>{R||((R=this.issuer||"").endsWith("/")||(R+="/"),R+=".well-known/openid-configuration"),this.validateUrlForHttps(R)?this.http.get(R).subscribe(ke=>{if(!this.validateDiscoveryDocument(ke))return this.eventsSubject.next(new oe("discovery_document_validation_error",null)),void Ae("discovery_document_validation_error");this.loginUrl=ke.authorization_endpoint,this.logoutUrl=ke.end_session_endpoint||this.logoutUrl,this.grantTypesSupported=ke.grant_types_supported,this.issuer=ke.issuer,this.tokenEndpoint=ke.token_endpoint,this.userinfoEndpoint=ke.userinfo_endpoint||this.userinfoEndpoint,this.jwksUri=ke.jwks_uri,this.sessionCheckIFrameUrl=ke.check_session_iframe||this.sessionCheckIFrameUrl,this.discoveryDocumentLoaded=!0,this.discoveryDocumentLoadedSubject.next(ke),this.revocationEndpoint=ke.revocation_endpoint||this.revocationEndpoint,this.sessionChecksEnabled&&this.restartSessionChecksIfStillLoggedIn(),this.loadJwks().then(ze=>{const Pt=new On("discovery_document_loaded",{discoveryDocument:ke,jwks:ze});this.eventsSubject.next(Pt),te(Pt)}).catch(ze=>{this.eventsSubject.next(new oe("discovery_document_load_error",ze)),Ae(ze)})},ke=>{this.logger.error("error loading discovery document",ke),this.eventsSubject.next(new oe("discovery_document_load_error",ke)),Ae(ke)}):Ae("issuer  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).")})}loadJwks(){return new Promise((R,te)=>{this.jwksUri?this.http.get(this.jwksUri).subscribe(Ae=>{this.jwks=Ae,R(Ae)},Ae=>{this.logger.error("error loading jwks",Ae),this.eventsSubject.next(new oe("jwks_load_error",Ae)),te(Ae)}):R(null)})}validateDiscoveryDocument(R){let te;return this.skipIssuerCheck||R.issuer===this.issuer?(te=this.validateUrlFromDiscoveryDocument(R.authorization_endpoint),te.length>0?(this.logger.error("error validating authorization_endpoint in discovery document",te),!1):(te=this.validateUrlFromDiscoveryDocument(R.end_session_endpoint),te.length>0?(this.logger.error("error validating end_session_endpoint in discovery document",te),!1):(te=this.validateUrlFromDiscoveryDocument(R.token_endpoint),te.length>0&&this.logger.error("error validating token_endpoint in discovery document",te),te=this.validateUrlFromDiscoveryDocument(R.revocation_endpoint),te.length>0&&this.logger.error("error validating revocation_endpoint in discovery document",te),te=this.validateUrlFromDiscoveryDocument(R.userinfo_endpoint),te.length>0?(this.logger.error("error validating userinfo_endpoint in discovery document",te),!1):(te=this.validateUrlFromDiscoveryDocument(R.jwks_uri),te.length>0?(this.logger.error("error validating jwks_uri in discovery document",te),!1):(this.sessionChecksEnabled&&!R.check_session_iframe&&this.logger.warn("sessionChecksEnabled is activated but discovery document does not contain a check_session_iframe field"),!0))))):(this.logger.error("invalid issuer in discovery document","expected: "+this.issuer,"current: "+R.issuer),!1)}fetchTokenUsingPasswordFlowAndLoadUserProfile(R,te,Ae=new ve.WM){return this.fetchTokenUsingPasswordFlow(R,te,Ae).then(()=>this.loadUserProfile())}loadUserProfile(){if(!this.hasValidAccessToken())throw new Error("Can not load User Profile without access_token");if(!this.validateUrlForHttps(this.userinfoEndpoint))throw new Error("userinfoEndpoint must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return new Promise((R,te)=>{const Ae=(new ve.WM).set("Authorization","Bearer "+this.getAccessToken());this.http.get(this.userinfoEndpoint,{headers:Ae,observe:"response",responseType:"text"}).subscribe(ke=>{if(this.debug("userinfo received",JSON.stringify(ke)),ke.headers.get("content-type").startsWith("application/json")){let ze=JSON.parse(ke.body);const Ye=this.getIdentityClaims()||{};if(!this.skipSubjectCheck&&this.oidc&&(!Ye.sub||ze.sub!==Ye.sub))return void te("if property oidc is true, the received user-id (sub) has to be the user-id of the user that has logged in with oidc.\nif you are not using oidc but just oauth2 password flow set oidc to false");ze=Object.assign({},Ye,ze),this._storage.setItem("id_token_claims_obj",JSON.stringify(ze)),this.eventsSubject.next(new On("user_profile_loaded")),R({info:ze})}else this.debug("userinfo is not JSON, treating it as JWE/JWS"),this.eventsSubject.next(new On("user_profile_loaded")),R(JSON.parse(ke.body))},ke=>{this.logger.error("error loading user info",ke),this.eventsSubject.next(new oe("user_profile_load_error",ke)),te(ke)})})}fetchTokenUsingPasswordFlow(R,te,Ae=new ve.WM){return this.fetchTokenUsingGrant("password",{username:R,password:te},Ae)}fetchTokenUsingGrant(R,te,Ae=new ve.WM){this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let ke=new ve.LE({encoder:new At}).set("grant_type",R).set("scope",this.scope);if(this.useHttpBasicAuth){const ze=btoa(`${this.clientId}:${this.dummyClientSecret}`);Ae=Ae.set("Authorization","Basic "+ze)}if(this.useHttpBasicAuth||(ke=ke.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(ke=ke.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const ze of Object.getOwnPropertyNames(this.customQueryParams))ke=ke.set(ze,this.customQueryParams[ze]);for(const ze of Object.keys(te))ke=ke.set(ze,te[ze]);return Ae=Ae.set("Content-Type","application/x-www-form-urlencoded"),new Promise((ze,Ye)=>{this.http.post(this.tokenEndpoint,ke,{headers:Ae}).subscribe(Pt=>{this.debug("tokenResponse",Pt),this.storeAccessTokenResponse(Pt.access_token,Pt.refresh_token,Pt.expires_in||this.fallbackAccessTokenExpirationTimeInSec,Pt.scope,this.extractRecognizedCustomParameters(Pt)),this.oidc&&Pt.id_token&&this.processIdToken(Pt.id_token,Pt.access_token).then(Qt=>{this.storeIdToken(Qt),ze(Pt)}),this.eventsSubject.next(new On("token_received")),ze(Pt)},Pt=>{this.logger.error("Error performing ${grantType} flow",Pt),this.eventsSubject.next(new oe("token_error",Pt)),Ye(Pt)})})}refreshToken(){return this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint"),new Promise((R,te)=>{let Ae=new ve.LE({encoder:new At}).set("grant_type","refresh_token").set("scope",this.scope).set("refresh_token",this._storage.getItem("refresh_token")),ke=(new ve.WM).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const ze=btoa(`${this.clientId}:${this.dummyClientSecret}`);ke=ke.set("Authorization","Basic "+ze)}if(this.useHttpBasicAuth||(Ae=Ae.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(Ae=Ae.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const ze of Object.getOwnPropertyNames(this.customQueryParams))Ae=Ae.set(ze,this.customQueryParams[ze]);this.http.post(this.tokenEndpoint,Ae,{headers:ke}).pipe((0,pt.w)(ze=>this.oidc&&ze.id_token?(0,Xe.D)(this.processIdToken(ze.id_token,ze.access_token,!0)).pipe((0,wt.b)(Ye=>this.storeIdToken(Ye)),(0,xt.U)(Ye=>ze)):(0,Ge.of)(ze))).subscribe(ze=>{this.debug("refresh tokenResponse",ze),this.storeAccessTokenResponse(ze.access_token,ze.refresh_token,ze.expires_in||this.fallbackAccessTokenExpirationTimeInSec,ze.scope,this.extractRecognizedCustomParameters(ze)),this.eventsSubject.next(new On("token_received")),this.eventsSubject.next(new On("token_refreshed")),R(ze)},ze=>{this.logger.error("Error refreshing token",ze),this.eventsSubject.next(new oe("token_refresh_error",ze)),te(ze)})})}removeSilentRefreshEventListener(){this.silentRefreshPostMessageEventListener&&(window.removeEventListener("message",this.silentRefreshPostMessageEventListener),this.silentRefreshPostMessageEventListener=null)}setupSilentRefreshEventListener(){this.removeSilentRefreshEventListener(),this.silentRefreshPostMessageEventListener=R=>{const te=this.processMessageEventMessage(R);this.checkOrigin&&R.origin!==location.origin&&console.error("wrong origin requested silent refresh!"),this.tryLogin({customHashFragment:te,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri||this.redirectUri}).catch(Ae=>this.debug("tryLogin during silent refresh failed",Ae))},window.addEventListener("message",this.silentRefreshPostMessageEventListener)}silentRefresh(R={},te=!0){const Ae=this.getIdentityClaims()||{};if(this.useIdTokenHintForSilentRefresh&&this.hasValidIdToken()&&(R.id_token_hint=this.getIdToken()),!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(typeof this.document>"u")throw new Error("silent refresh is not supported on this platform");const ke=this.document.getElementById(this.silentRefreshIFrameName);ke&&this.document.body.removeChild(ke),this.silentRefreshSubject=Ae.sub;const ze=this.document.createElement("iframe");return ze.id=this.silentRefreshIFrameName,this.setupSilentRefreshEventListener(),this.createLoginUrl(null,null,this.silentRefreshRedirectUri||this.redirectUri,te,R).then(jt=>{ze.setAttribute("src",jt),this.silentRefreshShowIFrame||(ze.style.display="none"),this.document.body.appendChild(ze)}),function ue(...Y){return 1===(Y=function We(Y){return 1===Y.length&&xe(Y[0])?Y[0]:Y}(Y)).length?(0,ge.Xf)(Y[0]):new Ie.y(function Ze(Y){return ae=>{let R=[];for(let te=0;R&&!ae.closed&&te<Y.length;te++)R.push((0,ge.Xf)(Y[te]).subscribe((0,Tt.x)(ae,Ae=>{if(R){for(let ke=0;ke<R.length;ke++)ke!==te&&R[ke].unsubscribe();R=null}ae.next(Ae)})))}}(Y))}([this.events.pipe((0,tn.h)(jt=>jt instanceof oe),(0,rt.P)()),this.events.pipe((0,tn.h)(jt=>"token_received"===jt.type),(0,rt.P)()),(0,Ge.of)(new oe("silent_refresh_timeout",null)).pipe(ht(this.silentRefreshTimeout))]).pipe((0,xt.U)(jt=>{if(jt instanceof oe)throw"silent_refresh_timeout"===jt.type||(jt=new oe("silent_refresh_error",jt)),this.eventsSubject.next(jt),jt;return"token_received"===jt.type&&(jt=new On("silently_refreshed"),this.eventsSubject.next(jt)),jt})).toPromise()}initImplicitFlowInPopup(R){return this.initLoginFlowInPopup(R)}initLoginFlowInPopup(R){return R=R||{},this.createLoginUrl(null,null,this.silentRefreshRedirectUri,!1,{display:"popup"}).then(te=>new Promise((Ae,ke)=>{let Pt,Ye=null;R.windowRef?R.windowRef&&!R.windowRef.closed&&(Ye=R.windowRef,Ye.location.href=te):Ye=window.open(te,"ngx-oauth2-oidc-login",this.calculatePopupFeatures(R));const Qt=kn=>{this.tryLogin({customHashFragment:kn,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri}).then(()=>{jt(),Ae(!0)},fr=>{jt(),ke(fr)})};Ye?Pt=window.setInterval(()=>{(!Ye||Ye.closed)&&(jt(),ke(new oe("popup_closed",{})))},500):ke(new oe("popup_blocked",{}));const jt=()=>{window.clearInterval(Pt),window.removeEventListener("storage",Cn),window.removeEventListener("message",hn),null!==Ye&&Ye.close(),Ye=null},hn=kn=>{const fr=this.processMessageEventMessage(kn);fr&&null!==fr?(window.removeEventListener("storage",Cn),Qt(fr)):console.log("false event firing")},Cn=kn=>{"auth_hash"===kn.key&&(window.removeEventListener("message",hn),Qt(kn.newValue))};window.addEventListener("message",hn),window.addEventListener("storage",Cn)}))}calculatePopupFeatures(R){const te=R.height||470,Ae=R.width||500,ke=window.screenLeft+(window.outerWidth-Ae)/2;return`location=no,toolbar=no,width=${Ae},height=${te},top=${window.screenTop+(window.outerHeight-te)/2},left=${ke}`}processMessageEventMessage(R){let te="#";if(this.silentRefreshMessagePrefix&&(te+=this.silentRefreshMessagePrefix),!R||!R.data||"string"!=typeof R.data)return;const Ae=R.data;return Ae.startsWith(te)?"#"+Ae.substr(te.length):void 0}canPerformSessionCheck(){return!(!this.sessionChecksEnabled||(this.sessionCheckIFrameUrl?this.getSessionState()?typeof this.document>"u":(console.warn("sessionChecksEnabled is activated but there is no session_state"),1):(console.warn("sessionChecksEnabled is activated but there is no sessionCheckIFrameUrl"),1)))}setupSessionCheckEventListener(){this.removeSessionCheckEventListener(),this.sessionCheckEventListener=R=>{const te=R.origin.toLowerCase(),Ae=this.issuer.toLowerCase();if(this.debug("sessionCheckEventListener"),Ae.startsWith(te)){switch(R.data){case"unchanged":this.ngZone.run(()=>{this.handleSessionUnchanged()});break;case"changed":this.ngZone.run(()=>{this.handleSessionChange()});break;case"error":this.ngZone.run(()=>{this.handleSessionError()})}this.debug("got info from session check inframe",R)}else this.debug("sessionCheckEventListener","wrong origin",te,"expected",Ae,"event",R)},this.ngZone.runOutsideAngular(()=>{window.addEventListener("message",this.sessionCheckEventListener)})}handleSessionUnchanged(){this.debug("session check","session unchanged"),this.eventsSubject.next(new _r("session_unchanged"))}handleSessionChange(){this.eventsSubject.next(new _r("session_changed")),this.stopSessionCheckTimer(),this.useSilentRefresh||"code"!==this.responseType?this.silentRefreshRedirectUri?(this.silentRefresh().catch(R=>this.debug("silent refresh failed after session changed")),this.waitForSilentRefreshAfterSessionChange()):(this.eventsSubject.next(new _r("session_terminated")),this.logOut(!0)):this.refreshToken().then(R=>{this.debug("token refresh after session change worked")}).catch(R=>{this.debug("token refresh did not work after session changed"),this.eventsSubject.next(new _r("session_terminated")),this.logOut(!0)})}waitForSilentRefreshAfterSessionChange(){this.events.pipe((0,tn.h)(R=>"silently_refreshed"===R.type||"silent_refresh_timeout"===R.type||"silent_refresh_error"===R.type),(0,rt.P)()).subscribe(R=>{"silently_refreshed"!==R.type&&(this.debug("silent refresh did not work after session changed"),this.eventsSubject.next(new _r("session_terminated")),this.logOut(!0))})}handleSessionError(){this.stopSessionCheckTimer(),this.eventsSubject.next(new _r("session_error"))}removeSessionCheckEventListener(){this.sessionCheckEventListener&&(window.removeEventListener("message",this.sessionCheckEventListener),this.sessionCheckEventListener=null)}initSessionCheck(){if(!this.canPerformSessionCheck())return;const R=this.document.getElementById(this.sessionCheckIFrameName);R&&this.document.body.removeChild(R);const te=this.document.createElement("iframe");te.id=this.sessionCheckIFrameName,this.setupSessionCheckEventListener(),te.setAttribute("src",this.sessionCheckIFrameUrl),te.style.display="none",this.document.body.appendChild(te),this.startSessionCheckTimer()}startSessionCheckTimer(){this.stopSessionCheckTimer(),this.ngZone.runOutsideAngular(()=>{this.sessionCheckTimer=setInterval(this.checkSession.bind(this),this.sessionCheckIntervall)})}stopSessionCheckTimer(){this.sessionCheckTimer&&(clearInterval(this.sessionCheckTimer),this.sessionCheckTimer=null)}checkSession(){const R=this.document.getElementById(this.sessionCheckIFrameName);R||this.logger.warn("checkSession did not find iframe",this.sessionCheckIFrameName);const te=this.getSessionState();te||this.stopSessionCheckTimer(),R.contentWindow.postMessage(this.clientId+" "+te,this.issuer)}createLoginUrl(R="",te="",Ae="",ke=!1,ze={}){var Ye=this;return ee(function*(){const Pt=Ye;let Qt;Qt=Ae||Ye.redirectUri;const cn=yield Ye.createAndSaveNonce();if(R=R?cn+Ye.config.nonceStateSeparator+encodeURIComponent(R):cn,!Ye.requestAccessToken&&!Ye.oidc)throw new Error("Either requestAccessToken or oidc or both must be true");Ye.responseType=Ye.config.responseType?Ye.config.responseType:Ye.oidc&&Ye.requestAccessToken?"id_token token":Ye.oidc&&!Ye.requestAccessToken?"id_token":"token";const jt=Pt.loginUrl.indexOf("?")>-1?"&":"?";let hn=Pt.scope;Ye.oidc&&!hn.match(/(^|\s)openid($|\s)/)&&(hn="openid "+hn);let Cn=Pt.loginUrl+jt+"response_type="+encodeURIComponent(Pt.responseType)+"&client_id="+encodeURIComponent(Pt.clientId)+"&state="+encodeURIComponent(R)+"&redirect_uri="+encodeURIComponent(Qt)+"&scope="+encodeURIComponent(hn);if(Ye.responseType.includes("code")&&!Ye.disablePKCE){const[kn,fr]=yield Ye.createChallangeVerifierPairForPKCE();Ye.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("PKCE_verifier",fr):Ye._storage.setItem("PKCE_verifier",fr),Cn+="&code_challenge="+kn,Cn+="&code_challenge_method=S256"}te&&(Cn+="&login_hint="+encodeURIComponent(te)),Pt.resource&&(Cn+="&resource="+encodeURIComponent(Pt.resource)),Pt.oidc&&(Cn+="&nonce="+encodeURIComponent(cn)),ke&&(Cn+="&prompt=none");for(const kn of Object.keys(ze))Cn+="&"+encodeURIComponent(kn)+"="+encodeURIComponent(ze[kn]);if(Ye.customQueryParams)for(const kn of Object.getOwnPropertyNames(Ye.customQueryParams))Cn+="&"+kn+"="+encodeURIComponent(Ye.customQueryParams[kn]);return Cn})()}initImplicitFlowInternal(R="",te=""){if(this.inImplicitFlow)return;if(this.inImplicitFlow=!0,!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let Ae={},ke=null;"string"==typeof te?ke=te:"object"==typeof te&&(Ae=te),this.createLoginUrl(R,ke,null,!1,Ae).then(this.config.openUri).catch(ze=>{console.error("Error in initImplicitFlow",ze),this.inImplicitFlow=!1})}initImplicitFlow(R="",te=""){""!==this.loginUrl?this.initImplicitFlowInternal(R,te):this.events.pipe((0,tn.h)(Ae=>"discovery_document_loaded"===Ae.type)).subscribe(Ae=>this.initImplicitFlowInternal(R,te))}resetImplicitFlow(){this.inImplicitFlow=!1}callOnTokenReceivedIfExists(R){const te=this;if(R.onTokenReceived){const Ae={idClaims:te.getIdentityClaims(),idToken:te.getIdToken(),accessToken:te.getAccessToken(),state:te.state};R.onTokenReceived(Ae)}}storeAccessTokenResponse(R,te,Ae,ke,ze){if(this._storage.setItem("access_token",R),ke&&!Array.isArray(ke)?this._storage.setItem("granted_scopes",JSON.stringify(ke.split(" "))):ke&&Array.isArray(ke)&&this._storage.setItem("granted_scopes",JSON.stringify(ke)),this._storage.setItem("access_token_stored_at",""+this.dateTimeService.now()),Ae){const Ye=1e3*Ae,Qt=this.dateTimeService.new().getTime()+Ye;this._storage.setItem("expires_at",""+Qt)}te&&this._storage.setItem("refresh_token",te),ze&&ze.forEach((Ye,Pt)=>{this._storage.setItem(Pt,Ye)})}tryLogin(R=null){return"code"===this.config.responseType?this.tryLoginCodeFlow(R).then(te=>!0):this.tryLoginImplicitFlow(R)}parseQueryString(R){return R&&0!==R.length?("?"===R.charAt(0)&&(R=R.substr(1)),this.urlHelper.parseQueryString(R)):{}}tryLoginCodeFlow(R=null){var te=this;return ee(function*(){const Ae=(R=R||{}).customHashFragment?R.customHashFragment.substring(1):window.location.search,ke=te.getCodePartsFromUrl(Ae),ze=ke.code,Ye=ke.state,Pt=ke.session_state;if(!R.preventClearHashAfterLogin){const jt=location.origin+location.pathname+location.search.replace(/code=[^&\$]*/,"").replace(/scope=[^&\$]*/,"").replace(/state=[^&\$]*/,"").replace(/session_state=[^&\$]*/,"").replace(/^\?&/,"?").replace(/&$/,"").replace(/^\?$/,"").replace(/&+/g,"&").replace(/\?&/,"?").replace(/\?$/,"")+location.hash;history.replaceState(null,window.name,jt)}let[Qt,cn]=te.parseState(Ye);if(te.state=cn,ke.error){te.debug("error trying to login"),te.handleLoginError(R,ke);const jt=new oe("code_error",{},ke);return te.eventsSubject.next(jt),Promise.reject(jt)}if(!R.disableNonceCheck){if(!Qt)return te.saveRequestedRoute(),Promise.resolve();if(!R.disableOAuth2StateCheck&&!te.validateNonce(Qt)){const hn=new oe("invalid_nonce_in_state",null);return te.eventsSubject.next(hn),Promise.reject(hn)}}return te.storeSessionState(Pt),ze&&(yield te.getTokenFromCode(ze,R),te.restoreRequestedRoute()),Promise.resolve()})()}saveRequestedRoute(){this.config.preserveRequestedRoute&&this._storage.setItem("requested_route",window.location.pathname+window.location.search)}restoreRequestedRoute(){const R=this._storage.getItem("requested_route");R&&history.replaceState(null,"",window.location.origin+R)}getCodePartsFromUrl(R){return R&&0!==R.length?("?"===R.charAt(0)&&(R=R.substr(1)),this.urlHelper.parseQueryString(R)):this.urlHelper.getHashFragmentParams()}getTokenFromCode(R,te){let Ae=new ve.LE({encoder:new At}).set("grant_type","authorization_code").set("code",R).set("redirect_uri",te.customRedirectUri||this.redirectUri);if(!this.disablePKCE){let ke;ke=this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.getItem("PKCE_verifier"):this._storage.getItem("PKCE_verifier"),ke?Ae=Ae.set("code_verifier",ke):console.warn("No PKCE verifier found in oauth storage!")}return this.fetchAndProcessToken(Ae,te)}fetchAndProcessToken(R,te){te=te||{},this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let Ae=(new ve.WM).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const ke=btoa(`${this.clientId}:${this.dummyClientSecret}`);Ae=Ae.set("Authorization","Basic "+ke)}return this.useHttpBasicAuth||(R=R.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(R=R.set("client_secret",this.dummyClientSecret)),new Promise((ke,ze)=>{if(this.customQueryParams)for(let Ye of Object.getOwnPropertyNames(this.customQueryParams))R=R.set(Ye,this.customQueryParams[Ye]);this.http.post(this.tokenEndpoint,R,{headers:Ae}).subscribe(Ye=>{this.debug("refresh tokenResponse",Ye),this.storeAccessTokenResponse(Ye.access_token,Ye.refresh_token,Ye.expires_in||this.fallbackAccessTokenExpirationTimeInSec,Ye.scope,this.extractRecognizedCustomParameters(Ye)),this.oidc&&Ye.id_token?this.processIdToken(Ye.id_token,Ye.access_token,te.disableNonceCheck).then(Pt=>{this.storeIdToken(Pt),this.eventsSubject.next(new On("token_received")),this.eventsSubject.next(new On("token_refreshed")),ke(Ye)}).catch(Pt=>{this.eventsSubject.next(new oe("token_validation_error",Pt)),console.error("Error validating tokens"),console.error(Pt),ze(Pt)}):(this.eventsSubject.next(new On("token_received")),this.eventsSubject.next(new On("token_refreshed")),ke(Ye))},Ye=>{console.error("Error getting token",Ye),this.eventsSubject.next(new oe("token_refresh_error",Ye)),ze(Ye)})})}tryLoginImplicitFlow(R=null){let te;te=(R=R||{}).customHashFragment?this.urlHelper.getHashFragmentParams(R.customHashFragment):this.urlHelper.getHashFragmentParams(),this.debug("parsed url",te);const Ae=te.state;let[ke,ze]=this.parseState(Ae);if(this.state=ze,te.error){this.debug("error trying to login"),this.handleLoginError(R,te);const jt=new oe("token_error",{},te);return this.eventsSubject.next(jt),Promise.reject(jt)}const Ye=te.access_token,Pt=te.id_token,Qt=te.session_state,cn=te.scope;if(!this.requestAccessToken&&!this.oidc)return Promise.reject("Either requestAccessToken or oidc (or both) must be true.");if(this.requestAccessToken&&!Ye||this.requestAccessToken&&!R.disableOAuth2StateCheck&&!Ae||this.oidc&&!Pt)return Promise.resolve(!1);if(this.sessionChecksEnabled&&!Qt&&this.logger.warn("session checks (Session Status Change Notification) were activated in the configuration but the id_token does not contain a session_state claim"),this.requestAccessToken&&!R.disableNonceCheck&&!this.validateNonce(ke)){const hn=new oe("invalid_nonce_in_state",null);return this.eventsSubject.next(hn),Promise.reject(hn)}return this.requestAccessToken&&this.storeAccessTokenResponse(Ye,null,te.expires_in||this.fallbackAccessTokenExpirationTimeInSec,cn),this.oidc?this.processIdToken(Pt,Ye,R.disableNonceCheck).then(jt=>R.validationHandler?R.validationHandler({accessToken:Ye,idClaims:jt.idTokenClaims,idToken:jt.idToken,state:Ae}).then(hn=>jt):jt).then(jt=>(this.storeIdToken(jt),this.storeSessionState(Qt),this.clearHashAfterLogin&&!R.preventClearHashAfterLogin&&this.clearLocationHash(),this.eventsSubject.next(new On("token_received")),this.callOnTokenReceivedIfExists(R),this.inImplicitFlow=!1,!0)).catch(jt=>(this.eventsSubject.next(new oe("token_validation_error",jt)),this.logger.error("Error validating tokens"),this.logger.error(jt),Promise.reject(jt))):(this.eventsSubject.next(new On("token_received")),this.clearHashAfterLogin&&!R.preventClearHashAfterLogin&&this.clearLocationHash(),this.callOnTokenReceivedIfExists(R),Promise.resolve(!0))}parseState(R){let te=R,Ae="";if(R){const ke=R.indexOf(this.config.nonceStateSeparator);ke>-1&&(te=R.substr(0,ke),Ae=R.substr(ke+this.config.nonceStateSeparator.length))}return[te,Ae]}validateNonce(R){let te;return te=this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.getItem("nonce"):this._storage.getItem("nonce"),te===R||(console.error("Validating access_token failed, wrong state/nonce.",te,R),!1)}storeIdToken(R){this._storage.setItem("id_token",R.idToken),this._storage.setItem("id_token_claims_obj",R.idTokenClaimsJson),this._storage.setItem("id_token_expires_at",""+R.idTokenExpiresAt),this._storage.setItem("id_token_stored_at",""+this.dateTimeService.now())}storeSessionState(R){this._storage.setItem("session_state",R)}getSessionState(){return this._storage.getItem("session_state")}handleLoginError(R,te){R.onLoginError&&R.onLoginError(te),this.clearHashAfterLogin&&!R.preventClearHashAfterLogin&&this.clearLocationHash()}getClockSkewInMsec(R=6e5){return this.clockSkewInSec||0===this.clockSkewInSec?1e3*this.clockSkewInSec:R}processIdToken(R,te,Ae=!1){const ke=R.split("."),Ye=st(this.padBase64(ke[0])),Pt=JSON.parse(Ye),cn=st(this.padBase64(ke[1])),jt=JSON.parse(cn);let hn;if(hn=this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.getItem("nonce"):this._storage.getItem("nonce"),Array.isArray(jt.aud)){if(jt.aud.every(Qn=>Qn!==this.clientId)){const Qn="Wrong audience: "+jt.aud.join(",");return this.logger.warn(Qn),Promise.reject(Qn)}}else if(jt.aud!==this.clientId){const Qn="Wrong audience: "+jt.aud;return this.logger.warn(Qn),Promise.reject(Qn)}if(!jt.sub){const Qn="No sub claim in id_token";return this.logger.warn(Qn),Promise.reject(Qn)}if(this.sessionChecksEnabled&&this.silentRefreshSubject&&this.silentRefreshSubject!==jt.sub){const Qn=`After refreshing, we got an id_token for another user (sub). Expected sub: ${this.silentRefreshSubject}, received sub: ${jt.sub}`;return this.logger.warn(Qn),Promise.reject(Qn)}if(!jt.iat){const Qn="No iat claim in id_token";return this.logger.warn(Qn),Promise.reject(Qn)}if(!this.skipIssuerCheck&&jt.iss!==this.issuer){const Qn="Wrong issuer: "+jt.iss;return this.logger.warn(Qn),Promise.reject(Qn)}if(!Ae&&jt.nonce!==hn){const Qn="Wrong nonce: "+jt.nonce;return this.logger.warn(Qn),Promise.reject(Qn)}if(this.hasOwnProperty("responseType")&&("code"===this.responseType||"id_token"===this.responseType)&&(this.disableAtHashCheck=!0),!this.disableAtHashCheck&&this.requestAccessToken&&!jt.at_hash){const Qn="An at_hash is needed!";return this.logger.warn(Qn),Promise.reject(Qn)}const Cn=this.dateTimeService.now(),kn=1e3*jt.iat,fr=1e3*jt.exp,Ur=this.getClockSkewInMsec();if(kn-Ur>=Cn||fr+Ur-this.decreaseExpirationBySec<=Cn){const Qn="Token has expired";return console.error(Qn),console.error({now:Cn,issuedAtMSec:kn,expiresAtMSec:fr}),Promise.reject(Qn)}const ni={accessToken:te,idToken:R,jwks:this.jwks,idTokenClaims:jt,idTokenHeader:Pt,loadKeys:()=>this.loadJwks()};return this.disableAtHashCheck?this.checkSignature(ni).then(Qn=>({idToken:R,idTokenClaims:jt,idTokenClaimsJson:cn,idTokenHeader:Pt,idTokenHeaderJson:Ye,idTokenExpiresAt:fr})):this.checkAtHash(ni).then(Qn=>{if(!this.disableAtHashCheck&&this.requestAccessToken&&!Qn){const _e="Wrong at_hash";return this.logger.warn(_e),Promise.reject(_e)}return this.checkSignature(ni).then(_e=>{const L={idToken:R,idTokenClaims:jt,idTokenClaimsJson:cn,idTokenHeader:Pt,idTokenHeaderJson:Ye,idTokenExpiresAt:fr};return this.disableAtHashCheck?L:this.checkAtHash(ni).then(he=>{if(this.requestAccessToken&&!he){const qe="Wrong at_hash";return this.logger.warn(qe),Promise.reject(qe)}return L})})})}getIdentityClaims(){const R=this._storage.getItem("id_token_claims_obj");return R?JSON.parse(R):null}getGrantedScopes(){const R=this._storage.getItem("granted_scopes");return R?JSON.parse(R):null}getIdToken(){return this._storage?this._storage.getItem("id_token"):null}padBase64(R){for(;R.length%4!=0;)R+="=";return R}getAccessToken(){return this._storage?this._storage.getItem("access_token"):null}getRefreshToken(){return this._storage?this._storage.getItem("refresh_token"):null}getAccessTokenExpiration(){return this._storage.getItem("expires_at")?parseInt(this._storage.getItem("expires_at"),10):null}getAccessTokenStoredAt(){return parseInt(this._storage.getItem("access_token_stored_at"),10)}getIdTokenStoredAt(){return parseInt(this._storage.getItem("id_token_stored_at"),10)}getIdTokenExpiration(){return this._storage.getItem("id_token_expires_at")?parseInt(this._storage.getItem("id_token_expires_at"),10):null}hasValidAccessToken(){if(this.getAccessToken()){const R=this._storage.getItem("expires_at"),te=this.dateTimeService.new();return!(R&&parseInt(R,10)-this.decreaseExpirationBySec<te.getTime()-this.getClockSkewInMsec())}return!1}hasValidIdToken(){if(this.getIdToken()){const R=this._storage.getItem("id_token_expires_at"),te=this.dateTimeService.new();return!(R&&parseInt(R,10)-this.decreaseExpirationBySec<te.getTime()-this.getClockSkewInMsec())}return!1}getCustomTokenResponseProperty(R){return this._storage&&this.config.customTokenParameters&&this.config.customTokenParameters.indexOf(R)>=0&&null!==this._storage.getItem(R)?JSON.parse(this._storage.getItem(R)):null}authorizationHeader(){return"Bearer "+this.getAccessToken()}logOut(R={},te=""){let Ae=!1;"boolean"==typeof R&&(Ae=R,R={});const ke=this.getIdToken();if(this._storage.removeItem("access_token"),this._storage.removeItem("id_token"),this._storage.removeItem("refresh_token"),this.saveNoncesInLocalStorage?(localStorage.removeItem("nonce"),localStorage.removeItem("PKCE_verifier")):(this._storage.removeItem("nonce"),this._storage.removeItem("PKCE_verifier")),this._storage.removeItem("expires_at"),this._storage.removeItem("id_token_claims_obj"),this._storage.removeItem("id_token_expires_at"),this._storage.removeItem("id_token_stored_at"),this._storage.removeItem("access_token_stored_at"),this._storage.removeItem("granted_scopes"),this._storage.removeItem("session_state"),this.config.customTokenParameters&&this.config.customTokenParameters.forEach(Ye=>this._storage.removeItem(Ye)),this.silentRefreshSubject=null,this.eventsSubject.next(new _r("logout")),!this.logoutUrl||Ae)return;let ze;if(!this.validateUrlForHttps(this.logoutUrl))throw new Error("logoutUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(this.logoutUrl.indexOf("{{")>-1)ze=this.logoutUrl.replace(/\{\{id_token\}\}/,encodeURIComponent(ke)).replace(/\{\{client_id\}\}/,encodeURIComponent(this.clientId));else{let Ye=new ve.LE({encoder:new At});ke&&(Ye=Ye.set("id_token_hint",ke));const Pt=this.postLogoutRedirectUri||this.redirectUriAsPostLogoutRedirectUriFallback&&this.redirectUri||"";Pt&&(Ye=Ye.set("post_logout_redirect_uri",Pt),te&&(Ye=Ye.set("state",te)));for(let Qt in R)Ye=Ye.set(Qt,R[Qt]);ze=this.logoutUrl+(this.logoutUrl.indexOf("?")>-1?"&":"?")+Ye.toString()}this.config.openUri(ze)}createAndSaveNonce(){const R=this;return this.createNonce().then(function(te){return R.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("nonce",te):R._storage.setItem("nonce",te),te})}ngOnDestroy(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.removeSilentRefreshEventListener();const R=this.document.getElementById(this.silentRefreshIFrameName);R&&R.remove(),this.stopSessionCheckTimer(),this.removeSessionCheckEventListener();const te=this.document.getElementById(this.sessionCheckIFrameName);te&&te.remove()}createNonce(){return new Promise(R=>{if(this.rngUrl)throw new Error("createNonce with rng-web-api has not been implemented so far");const te="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~";let Ae=45,ke="";const ze=typeof self>"u"?null:self.crypto||self.msCrypto;if(ze){let Ye=new Uint8Array(Ae);ze.getRandomValues(Ye),Ye.map||(Ye.map=Array.prototype.map),Ye=Ye.map(Pt=>te.charCodeAt(Pt%te.length)),ke=String.fromCharCode.apply(null,Ye)}else for(;0<Ae--;)ke+=te[Math.random()*te.length|0];R(gt(ke))})}checkAtHash(R){var te=this;return ee(function*(){return te.tokenValidationHandler?te.tokenValidationHandler.validateAtHash(R):(te.logger.warn("No tokenValidationHandler configured. Cannot check at_hash."),!0)})()}checkSignature(R){return this.tokenValidationHandler?this.tokenValidationHandler.validateSignature(R):(this.logger.warn("No tokenValidationHandler configured. Cannot check signature."),Promise.resolve(null))}initLoginFlow(R="",te={}){return"code"===this.responseType?this.initCodeFlow(R,te):this.initImplicitFlow(R,te)}initCodeFlow(R="",te={}){""!==this.loginUrl?this.initCodeFlowInternal(R,te):this.events.pipe((0,tn.h)(Ae=>"discovery_document_loaded"===Ae.type)).subscribe(Ae=>this.initCodeFlowInternal(R,te))}initCodeFlowInternal(R="",te={}){if(!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let Ae={},ke=null;"string"==typeof te?ke=te:"object"==typeof te&&(Ae=te),this.createLoginUrl(R,ke,null,!1,Ae).then(this.config.openUri).catch(ze=>{console.error("Error in initAuthorizationCodeFlow"),console.error(ze)})}createChallangeVerifierPairForPKCE(){var R=this;return ee(function*(){if(!R.crypto)throw new Error("PKCE support for code flow needs a CryptoHander. Did you import the OAuthModule using forRoot() ?");const te=yield R.createNonce();return[gt(yield R.crypto.calcHash(te,"sha-256")),te]})()}extractRecognizedCustomParameters(R){let te=new Map;return this.config.customTokenParameters&&this.config.customTokenParameters.forEach(Ae=>{R[Ae]&&te.set(Ae,JSON.stringify(R[Ae]))}),te}revokeTokenAndLogout(R={},te=!1){let Ae=this.revocationEndpoint,ke=this.getAccessToken(),ze=this.getRefreshToken();if(!ke)return Promise.resolve();let Ye=new ve.LE({encoder:new At}),Pt=(new ve.WM).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const Qt=btoa(`${this.clientId}:${this.dummyClientSecret}`);Pt=Pt.set("Authorization","Basic "+Qt)}if(this.useHttpBasicAuth||(Ye=Ye.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(Ye=Ye.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const Qt of Object.getOwnPropertyNames(this.customQueryParams))Ye=Ye.set(Qt,this.customQueryParams[Qt]);return new Promise((Qt,cn)=>{let jt,hn;if(ke){let Cn=Ye.set("token",ke).set("token_type_hint","access_token");jt=this.http.post(Ae,Cn,{headers:Pt})}else jt=(0,Ge.of)(null);if(ze){let Cn=Ye.set("token",ze).set("token_type_hint","refresh_token");hn=this.http.post(Ae,Cn,{headers:Pt})}else hn=(0,Ge.of)(null);te&&(jt=jt.pipe((0,Ke.K)(Cn=>0===Cn.status?(0,Ge.of)(null):(0,bt._)(Cn))),hn=hn.pipe((0,Ke.K)(Cn=>0===Cn.status?(0,Ge.of)(null):(0,bt._)(Cn)))),(0,Xt.a)([jt,hn]).subscribe(Cn=>{this.logOut(R),Qt(Cn),this.logger.info("Token successfully revoked")},Cn=>{this.logger.error("Error revoking token",Cn),this.eventsSubject.next(new oe("token_revoke_error",Cn)),cn(Cn)})})}clearLocationHash(){""!=location.hash&&(location.hash="")}}return Y.\u0275fac=function(R){return new(R||Y)(we.LFG(we.R0b),we.LFG(ve.eN),we.LFG(Ve,8),we.LFG(Zt,8),we.LFG(Mt,8),we.LFG(Dt),we.LFG(dt),we.LFG(Kr,8),we.LFG(Ue.K0),we.LFG(Dr))},Y.\u0275prov=we.Yz7({token:Y,factory:Y.\u0275fac}),Y})();class Vt{}class Nt{handleError(ae){return(0,bt._)(ae)}}let Tn=(()=>{class Y{constructor(R,te,Ae){this.oAuthService=R,this.errorHandler=te,this.moduleConfig=Ae}checkUrl(R){return this.moduleConfig.resourceServer.customUrlValidation?this.moduleConfig.resourceServer.customUrlValidation(R):!this.moduleConfig.resourceServer.allowedUrls||!!this.moduleConfig.resourceServer.allowedUrls.find(te=>R.toLowerCase().startsWith(te.toLowerCase()))}intercept(R,te){const Ae=R.url.toLowerCase();return this.moduleConfig&&this.moduleConfig.resourceServer&&this.checkUrl(Ae)?this.moduleConfig.resourceServer.sendAccessToken?(0,St.T)((0,Ge.of)(this.oAuthService.getAccessToken()).pipe((0,tn.h)(ze=>!!ze)),this.oAuthService.events.pipe((0,tn.h)(ze=>"token_received"===ze.type),function pn(Y,ae){const{first:R,each:te,with:Ae=Bt,scheduler:ke=ae??De.z,meta:ze=null}=(0,Be.q)(Y)?{first:Y}:"number"==typeof Y?{each:Y}:Y;if(null==R&&null==te)throw new TypeError("No timeout provided.");return(0,$t.e)((Ye,Pt)=>{let Qt,cn,jt=null,hn=0;const Cn=kn=>{cn=(0,an.f)(Pt,ke,()=>{try{Qt.unsubscribe(),(0,ge.Xf)(Ae({meta:ze,lastValue:jt,seen:hn})).subscribe(Pt)}catch(fr){Pt.error(fr)}},kn)};Qt=Ye.subscribe((0,Tt.x)(Pt,kn=>{cn?.unsubscribe(),hn++,Pt.next(jt=kn),te>0&&Cn(te)},void 0,void 0,()=>{cn?.closed||cn?.unsubscribe(),jt=null})),!hn&&Cn(null!=R?"number"==typeof R?R:+R-ke.now():te)})}(this.oAuthService.waitForTokenInMsec||0),(0,Ke.K)(ze=>(0,Ge.of)(null)),(0,xt.U)(ze=>this.oAuthService.getAccessToken()))).pipe((0,_t.q)(1),(0,Jt.z)(ze=>{if(ze){const Pt=R.headers.set("Authorization","Bearer "+ze);R=R.clone({headers:Pt})}return te.handle(R).pipe((0,Ke.K)(Ye=>this.errorHandler.handleError(Ye)))})):te.handle(R).pipe((0,Ke.K)(ze=>this.errorHandler.handleError(ze))):te.handle(R)}}return Y.\u0275fac=function(R){return new(R||Y)(we.LFG(Fe),we.LFG(Vt),we.LFG(Bn,8))},Y.\u0275prov=we.Yz7({token:Y,factory:Y.\u0275fac}),Y})();function Hn(){return console}function hr(){return typeof sessionStorage<"u"?sessionStorage:new Lt}function Un(Y=null,ae=qt){return(0,we.MR2)([Fe,Dt,{provide:dt,useFactory:Hn},{provide:Ve,useFactory:hr},{provide:Zt,useClass:ae},{provide:Kr,useClass:Pe},{provide:Vt,useClass:Nt},{provide:Bn,useValue:Y},{provide:ve.TP,useClass:Tn,multi:!0},{provide:Dr,useClass:Jn}])}let ar=(()=>{class Y{static forRoot(R=null,te=qt){return{ngModule:Y,providers:[Un(R,te)]}}}return Y.\u0275fac=function(R){return new(R||Y)},Y.\u0275mod=we.oAB({type:Y}),Y.\u0275inj=we.cJS({imports:[Ue.ez]}),Y})();new we.OlP("AUTH_CONFIG")},2381:(sn,ot,O)=>{"use strict";O.d(ot,{oj:()=>Xe});var u=O(1571),ee=O(1607),we=O(5987),Ue=O(6895);class Je{constructor(ge,xe,We){this.nodes=ge,this.viewRef=xe,this.componentRef=We}}class Ge{constructor(ge,xe,We,Tt,ue,Ze,bt,Xt,St){this._viewContainerRef=ge,this._renderer=xe,this._elementRef=We,this._injector=Tt,this._componentFactoryResolver=ue,this._ngZone=Ze,this._applicationRef=bt,this._posService=Xt,this._document=St,this.onBeforeShow=new u.vpe,this.onShown=new u.vpe,this.onBeforeHide=new u.vpe,this.onHidden=new u.vpe,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(ge){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(ge),this}to(ge){return this.container=ge||this.container,this}position(ge){return ge?(this.attachment=ge.attachment||this.attachment,this._elementRef=ge.target||this._elementRef,this):this}provide(ge){return this._providers.push(ge),this}show(ge={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(ge.content,ge.context,ge.initialState);const xe=u.zs3.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(xe,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,ge),this.container instanceof u.SBq&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&typeof this._document<"u"){const We=this._document.querySelector(this.container)||this._document.querySelector(this.containerDefaultSelector);if(!We)return;We.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(ge.id?{id:ge.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(ge){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const xe=this._componentRef.location.nativeElement;return xe.parentNode?.removeChild(xe),this._contentRef?.componentRef?.destroy(),this._viewContainerRef&&this._contentRef?.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef?.viewRef?.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(ge?{id:ge}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(ge){this.triggers=ge.triggers||this.triggers,this._listenOpts.outsideClick=ge.outsideClick,this._listenOpts.outsideEsc=ge.outsideEsc,ge.target=ge.target||this._elementRef?.nativeElement;const xe=this._listenOpts.hide=()=>ge.hide?ge.hide():void this.hide(),We=this._listenOpts.show=ue=>{ge.show?ge.show(ue):this.show(ue),ue()};return this._renderer&&(this._unregisterListenersFn=(0,ee.wo)(this._renderer,{target:ge.target,triggers:ge.triggers,show:We,hide:xe,toggle:ue=>{this.isShown?xe():We(ue)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(ge,xe){return ge&&xe&&(this._inlineViewRef=ge.createEmbeddedView(xe)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const ge=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=(0,ee.Rg)(this._renderer,{targets:[ge,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=(0,ee.C)(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef?.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(ge,xe,We){if(!ge)return new Je([]);if(ge instanceof u.Rgc){if(this._viewContainerRef){const Ze=this._viewContainerRef.createEmbeddedView(ge,xe);return Ze.markForCheck(),new Je([Ze.rootNodes],Ze)}const ue=ge.createEmbeddedView({});return this._applicationRef.attachView(ue),new Je([ue.rootNodes],ue)}if("function"==typeof ge){const ue=this._componentFactoryResolver.resolveComponentFactory(ge),Ze=u.zs3.create({providers:this._providers,parent:this._injector}),bt=ue.create(Ze);return Object.assign(bt.instance,We),this._applicationRef.attachView(bt.hostView),new Je([[bt.location.nativeElement]],bt.hostView,bt)}const Tt=this._renderer?[this._renderer.createText(`${ge}`)]:[];return new Je([Tt])}}let Xe=(()=>{class Ie{constructor(xe,We,Tt,ue,Ze,bt){this._componentFactoryResolver=xe,this._ngZone=We,this._injector=Tt,this._posService=ue,this._applicationRef=Ze,this._document=bt}createLoader(xe,We,Tt){return new Ge(We,Tt,xe,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService,this._document)}}return Ie.\u0275fac=function(xe){return new(xe||Ie)(u.LFG(u._Vd),u.LFG(u.R0b),u.LFG(u.zs3),u.LFG(we.sA),u.LFG(u.z2F),u.LFG(Ue.K0))},Ie.\u0275prov=u.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie})()},9245:(sn,ot,O)=>{"use strict";O.d(ot,{Hz:()=>Ze,Mq:()=>bt,TO:()=>ue,mr:()=>Xt});var u=O(1571),ee=O(9300),we=O(2381),Ue=O(7340),ve=O(6895),Je=O(5987);const Ge=function(St){return{dropdown:St}},Xe=["*"];let Ie=(()=>{class St{constructor(){this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1}}return St.\u0275fac=function(wt){return new(wt||St)},St.\u0275prov=u.Yz7({token:St,factory:St.\u0275fac,providedIn:"root"}),St})(),ge=(()=>{class St{constructor(){this.direction="down",this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1,this.isOpenChange=new u.vpe,this.isDisabledChange=new u.vpe,this.toggleClick=new u.vpe,this.counts=0,this.dropdownMenu=new Promise(wt=>{this.resolveDropdownMenu=wt})}}return St.\u0275fac=function(wt){return new(wt||St)},St.\u0275prov=u.Yz7({token:St,factory:St.\u0275fac,providedIn:"platform"}),St})();const We=[(0,Ue.oB)({height:0,overflow:"hidden"}),(0,Ue.jt)("220ms cubic-bezier(0, 0, 0.2, 1)",(0,Ue.oB)({height:"*",overflow:"hidden"}))];let Tt=(()=>{class St{constructor(wt,be,De,et,_t){this._state=wt,this.cd=be,this._renderer=De,this._element=et,this.isOpen=!1,this._factoryDropDownAnimation=_t.build(We),this._subscription=wt.isOpenChange.subscribe($t=>{this.isOpen=$t;const Ot=this._element.nativeElement.querySelector(".dropdown-menu");this._renderer.addClass(this._element.nativeElement.querySelector("div"),"open"),Ot&&(this._renderer.addClass(Ot,"show"),(Ot.classList.contains("dropdown-menu-right")||Ot.classList.contains("dropdown-menu-end"))&&(this._renderer.setStyle(Ot,"left","auto"),this._renderer.setStyle(Ot,"right","0")),"up"===this.direction&&(this._renderer.setStyle(Ot,"top","auto"),this._renderer.setStyle(Ot,"transform","translateY(-101%)"))),Ot&&this._state.isAnimated&&this._factoryDropDownAnimation.create(Ot).play(),this.cd.markForCheck(),this.cd.detectChanges()})}get direction(){return this._state.direction}_contains(wt){return this._element.nativeElement.contains(wt)}ngOnDestroy(){this._subscription.unsubscribe()}}return St.\u0275fac=function(wt){return new(wt||St)(u.Y36(ge),u.Y36(u.sBO),u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(Ue._j))},St.\u0275cmp=u.Xpm({type:St,selectors:[["bs-dropdown-container"]],hostAttrs:[2,"display","block","position","absolute","z-index","1040"],ngContentSelectors:Xe,decls:2,vars:9,consts:[[3,"ngClass"]],template:function(wt,be){1&wt&&(u.F$t(),u.TgZ(0,"div",0),u.Hsn(1),u.qZA()),2&wt&&(u.ekj("dropup","up"===be.direction)("show",be.isOpen)("open",be.isOpen),u.Q6J("ngClass",u.VKq(7,Ge,"down"===be.direction)))},dependencies:[ve.mk],encapsulation:2,changeDetection:0}),St})(),ue=(()=>{class St{constructor(wt,be,De,et,_t,$t,Ot){this._elementRef=wt,this._renderer=be,this._viewContainerRef=De,this._cis=et,this._state=_t,this._config=$t,this.dropup=!1,this._isInlineOpen=!1,this._isDisabled=!1,this._subscriptions=[],this._isInited=!1,this._state.autoClose=this._config.autoClose,this._state.insideClick=this._config.insideClick,this._state.isAnimated=this._config.isAnimated,this._state.stopOnClickPropagation=this._config.stopOnClickPropagation,this._factoryDropDownAnimation=Ot.build(We),this._dropdown=this._cis.createLoader(this._elementRef,this._viewContainerRef,this._renderer).provide({provide:ge,useValue:this._state}),this.onShown=this._dropdown.onShown,this.onHidden=this._dropdown.onHidden,this.isOpenChange=this._state.isOpenChange}set autoClose(wt){this._state.autoClose=wt}get autoClose(){return this._state.autoClose}set isAnimated(wt){this._state.isAnimated=wt}get isAnimated(){return this._state.isAnimated}set insideClick(wt){this._state.insideClick=wt}get insideClick(){return this._state.insideClick}set isDisabled(wt){this._isDisabled=wt,this._state.isDisabledChange.emit(wt),wt&&this.hide()}get isDisabled(){return this._isDisabled}get isOpen(){return this._showInline?this._isInlineOpen:this._dropdown.isShown}set isOpen(wt){wt?this.show():this.hide()}get _showInline(){return!this.container}ngOnInit(){this._isInited||(this._isInited=!0,this._dropdown.listen({outsideClick:!1,triggers:this.triggers,show:()=>this.show()}),this._subscriptions.push(this._state.toggleClick.subscribe(wt=>this.toggle(wt))),this._subscriptions.push(this._state.isDisabledChange.pipe((0,ee.h)(wt=>wt)).subscribe(()=>this.hide())))}show(){if(!this.isOpen&&!this.isDisabled){if(this._showInline)return this._inlinedMenu||this._state.dropdownMenu.then(wt=>{this._dropdown.attachInline(wt.viewContainer,wt.templateRef),this._inlinedMenu=this._dropdown._inlineViewRef,this.addBs4Polyfills(),this._inlinedMenu&&this._renderer.addClass(this._inlinedMenu.rootNodes[0].parentNode,"open"),this.playAnimation()}).catch(),this.addBs4Polyfills(),this._isInlineOpen=!0,this.onShown.emit(!0),this._state.isOpenChange.emit(!0),void this.playAnimation();this._state.dropdownMenu.then(wt=>{const be=this.dropup||typeof this.dropup<"u"&&this.dropup;this._state.direction=be?"up":"down";const De=this.placement||(be?"top start":"bottom start");this._dropdown.attach(Tt).to(this.container).position({attachment:De}).show({content:wt.templateRef,placement:De}),this._state.isOpenChange.emit(!0)}).catch()}}hide(){this.isOpen&&(this._showInline?(this.removeShowClass(),this.removeDropupStyles(),this._isInlineOpen=!1,this.onHidden.emit(!0)):this._dropdown.hide(),this._state.isOpenChange.emit(!1))}toggle(wt){return this.isOpen||!wt?this.hide():this.show()}_contains(wt){return this._elementRef.nativeElement.contains(wt.target)||this._dropdown.instance&&this._dropdown.instance._contains(wt.target)}navigationClick(wt){const be=this._elementRef.nativeElement.querySelector(".dropdown-menu");if(!be)return;const De=this._elementRef.nativeElement.ownerDocument.activeElement,et=be.querySelectorAll(".dropdown-item");switch(wt.keyCode){case 38:this._state.counts>0&&et[--this._state.counts].focus();break;case 40:this._state.counts+1<et.length&&(De.classList!==et[this._state.counts].classList?et[this._state.counts].focus():et[++this._state.counts].focus())}wt.preventDefault()}ngOnDestroy(){for(const wt of this._subscriptions)wt.unsubscribe();this._dropdown.dispose()}addBs4Polyfills(){this.addShowClass(),this.checkRightAlignment(),this.addDropupStyles()}playAnimation(){this._state.isAnimated&&this._inlinedMenu&&setTimeout(()=>{this._inlinedMenu&&this._factoryDropDownAnimation.create(this._inlinedMenu.rootNodes[0]).play()})}addShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.addClass(this._inlinedMenu.rootNodes[0],"show")}removeShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.removeClass(this._inlinedMenu.rootNodes[0],"show")}checkRightAlignment(){if(this._inlinedMenu&&this._inlinedMenu.rootNodes[0]){const wt=this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-right")||this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-end");this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"left",wt?"auto":"0"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"right",wt?"0":"auto")}}addDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"top",this.dropup?"auto":"100%"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"transform",this.dropup?"translateY(-101%)":"translateY(0)"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"bottom","auto"))}removeDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"top"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"transform"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"bottom"))}}return St.\u0275fac=function(wt){return new(wt||St)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.s_b),u.Y36(we.oj),u.Y36(ge),u.Y36(Ie),u.Y36(Ue._j))},St.\u0275dir=u.lG2({type:St,selectors:[["","bsDropdown",""],["","dropdown",""]],hostVars:6,hostBindings:function(wt,be){1&wt&&u.NdJ("keydown.arrowDown",function(et){return be.navigationClick(et)})("keydown.arrowUp",function(et){return be.navigationClick(et)}),2&wt&&u.ekj("dropup",be.dropup)("open",be.isOpen)("show",be.isOpen)},inputs:{placement:"placement",triggers:"triggers",container:"container",dropup:"dropup",autoClose:"autoClose",isAnimated:"isAnimated",insideClick:"insideClick",isDisabled:"isDisabled",isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange",onShown:"onShown",onHidden:"onHidden"},exportAs:["bs-dropdown"],features:[u._Bn([ge])]}),St})(),Ze=(()=>{class St{constructor(wt,be,De){wt.resolveDropdownMenu({templateRef:De,viewContainer:be})}}return St.\u0275fac=function(wt){return new(wt||St)(u.Y36(ge),u.Y36(u.s_b),u.Y36(u.Rgc))},St.\u0275dir=u.lG2({type:St,selectors:[["","bsDropdownMenu",""],["","dropdownMenu",""]],exportAs:["bs-dropdown-menu"]}),St})(),bt=(()=>{class St{constructor(wt,be,De,et,_t){this._changeDetectorRef=wt,this._dropdown=be,this._element=De,this._renderer=et,this._state=_t,this.isOpen=!1,this._subscriptions=[],this._subscriptions.push(this._state.isOpenChange.subscribe($t=>{this.isOpen=$t,$t?(this._documentClickListener=this._renderer.listen("document","click",Ot=>{this._state.autoClose&&2!==Ot.button&&!this._element.nativeElement.contains(Ot.target)&&(!this._state.insideClick||!this._dropdown._contains(Ot))&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())}),this._escKeyUpListener=this._renderer.listen(this._element.nativeElement,"keyup.esc",()=>{this._state.autoClose&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())})):(this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener())})),this._subscriptions.push(this._state.isDisabledChange.subscribe($t=>this.isDisabled=$t||void 0))}onClick(wt){this._state.stopOnClickPropagation&&wt.stopPropagation(),!this.isDisabled&&this._state.toggleClick.emit(!0)}ngOnDestroy(){this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener();for(const wt of this._subscriptions)wt.unsubscribe()}}return St.\u0275fac=function(wt){return new(wt||St)(u.Y36(u.sBO),u.Y36(ue),u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(ge))},St.\u0275dir=u.lG2({type:St,selectors:[["","bsDropdownToggle",""],["","dropdownToggle",""]],hostVars:3,hostBindings:function(wt,be){1&wt&&u.NdJ("click",function(et){return be.onClick(et)}),2&wt&&u.uIk("aria-haspopup",!0)("disabled",be.isDisabled)("aria-expanded",be.isOpen)},exportAs:["bs-dropdown-toggle"]}),St})(),Xt=(()=>{class St{static forRoot(){return{ngModule:St,providers:[we.oj,Je.sA,ge]}}}return St.\u0275fac=function(wt){return new(wt||St)},St.\u0275mod=u.oAB({type:St}),St.\u0275inj=u.cJS({imports:[ve.ez]}),St})()},388:(sn,ot,O)=>{"use strict";O.d(ot,{UZ:()=>Pn,tT:()=>mr,zk:()=>Jn});var u=O(1571),ee=O(6895),we=O(5698);let ve,Ue=(()=>{class ut{constructor(){this._focusTrapStack=[]}register(Ve){this._focusTrapStack=this._focusTrapStack.filter(un=>un!==Ve);let Lt=this._focusTrapStack;Lt.length&&Lt[Lt.length-1]._disable(),Lt.push(Ve),Ve._enable()}deregister(Ve){Ve._disable();const Lt=this._focusTrapStack,un=Lt.indexOf(Ve);-1!==un&&(Lt.splice(un,1),Lt.length&&Lt[Lt.length-1]._enable())}}return ut.\u0275fac=function(Ve){return new(Ve||ut)},ut.\u0275prov=u.Yz7({token:ut,factory:ut.\u0275fac,providedIn:"root"}),ut})();try{ve=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ve=!1}let Je=(()=>{class ut{constructor(Ve){this._platformId=Ve,this.isBrowser=this._platformId?(0,ee.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ve)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return ut.\u0275fac=function(Ve){return new(Ve||ut)(u.LFG(u.Lbi))},ut.\u0275prov=u.Yz7({token:ut,factory:ut.\u0275fac,providedIn:"root"}),ut})(),Xe=(()=>{class ut{constructor(Ve){this._platform=Ve}isDisabled(Ve){return Ve.hasAttribute("disabled")}isVisible(Ve){return function ge(ut){return!!(ut.offsetWidth||ut.offsetHeight||"function"==typeof ut.getClientRects&&ut.getClientRects().length)}(Ve)&&"visible"===getComputedStyle(Ve).visibility}isTabbable(Ve){if(!this._platform.isBrowser)return!1;const Lt=function Ie(ut){try{return ut.frameElement}catch{return null}}(function wt(ut){return ut.ownerDocument&&ut.ownerDocument.defaultView||window}(Ve));if(Lt&&(-1===Xt(Lt)||!this.isVisible(Lt)))return!1;let un=Ve.nodeName.toLowerCase(),yn=Xt(Ve);return Ve.hasAttribute("contenteditable")?-1!==yn:!("iframe"===un||"object"===un||this._platform.WEBKIT&&this._platform.IOS&&!function St(ut){let dt=ut.nodeName.toLowerCase(),Ve="input"===dt&&ut.type;return"text"===Ve||"password"===Ve||"select"===dt||"textarea"===dt}(Ve))&&("audio"===un?!!Ve.hasAttribute("controls")&&-1!==yn:"video"===un?-1!==yn&&(null!==yn||this._platform.FIREFOX||Ve.hasAttribute("controls")):Ve.tabIndex>=0)}isFocusable(Ve,Lt){return function tn(ut){return!function We(ut){return function ue(ut){return"input"==ut.nodeName.toLowerCase()}(ut)&&"hidden"==ut.type}(ut)&&(function xe(ut){let dt=ut.nodeName.toLowerCase();return"input"===dt||"select"===dt||"button"===dt||"textarea"===dt}(ut)||function Tt(ut){return function Ze(ut){return"a"==ut.nodeName.toLowerCase()}(ut)&&ut.hasAttribute("href")}(ut)||ut.hasAttribute("contenteditable")||bt(ut))}(Ve)&&!this.isDisabled(Ve)&&(Lt?.ignoreVisibility||this.isVisible(Ve))}}return ut.\u0275fac=function(Ve){return new(Ve||ut)(u.LFG(Je))},ut.\u0275prov=u.Yz7({token:ut,factory:ut.\u0275fac,providedIn:"root"}),ut})();function bt(ut){if(!ut.hasAttribute("tabindex")||void 0===ut.tabIndex)return!1;let dt=ut.getAttribute("tabindex");return"-32768"!=dt&&!(!dt||isNaN(parseInt(dt,10)))}function Xt(ut){if(!bt(ut))return null;const dt=parseInt(ut.getAttribute("tabindex")||"",10);return isNaN(dt)?-1:dt}function be(ut){return null!=ut&&"false"!=`${ut}`}class De{constructor(dt,Ve,Lt,un,yn=!1){this._element=dt,this._checker=Ve,this._ngZone=Lt,this._document=un,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,yn||this.attachAnchors()}get enabled(){return this._enabled}set enabled(dt){this._enabled=dt,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(dt,this._startAnchor),this._toggleAnchorTabIndex(dt,this._endAnchor))}destroy(){const dt=this._startAnchor,Ve=this._endAnchor;dt&&(dt.removeEventListener("focus",this.startAnchorListener),dt.parentNode&&dt.parentNode.removeChild(dt)),Ve&&(Ve.removeEventListener("focus",this.endAnchorListener),Ve.parentNode&&Ve.parentNode.removeChild(Ve)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(dt=>{this._executeOnStable(()=>dt(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(dt=>{this._executeOnStable(()=>dt(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(dt=>{this._executeOnStable(()=>dt(this.focusLastTabbableElement()))})}_getRegionBoundary(dt){let Ve=this._element.querySelectorAll(`[cdk-focus-region-${dt}], [cdkFocusRegion${dt}], [cdk-focus-${dt}]`);for(let Lt=0;Lt<Ve.length;Lt++)Ve[Lt].hasAttribute(`cdk-focus-${dt}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${dt}', use 'cdkFocusRegion${dt}' instead. The deprecated attribute will be removed in 8.0.0.`,Ve[Lt]):Ve[Lt].hasAttribute(`cdk-focus-region-${dt}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${dt}', use 'cdkFocusRegion${dt}' instead. The deprecated attribute will be removed in 8.0.0.`,Ve[Lt]);return"start"==dt?Ve.length?Ve[0]:this._getFirstTabbableElement(this._element):Ve.length?Ve[Ve.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const dt=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(dt){if(dt.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",dt),!this._checker.isFocusable(dt)){const Ve=this._getFirstTabbableElement(dt);return Ve?.focus(),!!Ve}return dt.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const dt=this._getRegionBoundary("start");return dt&&dt.focus(),!!dt}focusLastTabbableElement(){const dt=this._getRegionBoundary("end");return dt&&dt.focus(),!!dt}hasAttached(){return this._hasAttached}_getFirstTabbableElement(dt){if(this._checker.isFocusable(dt)&&this._checker.isTabbable(dt))return dt;let Ve=dt.children||dt.childNodes;for(let Lt=0;Lt<Ve.length;Lt++){let un=Ve[Lt].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Ve[Lt]):null;if(un)return un}return null}_getLastTabbableElement(dt){if(this._checker.isFocusable(dt)&&this._checker.isTabbable(dt))return dt;let Ve=dt.children||dt.childNodes;for(let Lt=Ve.length-1;Lt>=0;Lt--){let un=Ve[Lt].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Ve[Lt]):null;if(un)return un}return null}_createAnchor(){const dt=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,dt),dt.classList.add("cdk-visually-hidden"),dt.classList.add("cdk-focus-trap-anchor"),dt.setAttribute("aria-hidden","true"),dt}_toggleAnchorTabIndex(dt,Ve){dt?Ve.setAttribute("tabindex","0"):Ve.removeAttribute("tabindex")}toggleAnchors(dt){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(dt,this._startAnchor),this._toggleAnchorTabIndex(dt,this._endAnchor))}_executeOnStable(dt){this._ngZone.isStable?dt():this._ngZone.onStable.pipe((0,we.q)(1)).subscribe(dt)}}let et=(()=>{class ut{constructor(Ve,Lt,un){this._checker=Ve,this._ngZone=Lt,this._document=un}create(Ve,Lt=!1){return new De(Ve,this._checker,this._ngZone,this._document,Lt)}}return ut.\u0275fac=function(Ve){return new(Ve||ut)(u.LFG(Xe),u.LFG(u.R0b),u.LFG(ee.K0))},ut.\u0275prov=u.Yz7({token:ut,factory:ut.\u0275fac,providedIn:"root"}),ut})(),_t=(()=>{class ut{constructor(Ve,Lt,un){this._elementRef=Ve,this._focusTrapFactory=Lt,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=un,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(Ve){this.focusTrap.enabled=be(Ve)}get autoCapture(){return this._autoCapture}set autoCapture(Ve){this._autoCapture=be(Ve)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(Ve){const Lt=Ve.autoCapture;Lt&&!Lt.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}}return ut.\u0275fac=function(Ve){return new(Ve||ut)(u.Y36(u.SBq),u.Y36(et),u.Y36(ee.K0))},ut.\u0275dir=u.lG2({type:ut,selectors:[["","focusTrap",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[u.TTD]}),ut})(),$t=(()=>{class ut{static forRoot(){return{ngModule:ut,providers:[Ue,Je,Xe]}}}return ut.\u0275fac=function(Ve){return new(Ve||ut)},ut.\u0275mod=u.oAB({type:ut}),ut.\u0275inj=u.cJS({imports:[ee.ez]}),ut})();var Ot=O(1607),Wt=O(2381),En=O(5987);const Jt=["*"];let Pn=(()=>{class ut{constructor(){this.hide=()=>{},this.setClass=()=>{}}}return ut.\u0275fac=function(Ve){return new(Ve||ut)},ut.\u0275prov=u.Yz7({token:ut,factory:ut.\u0275fac,providedIn:"platform"}),ut})(),ht=(()=>{class ut{}return ut.\u0275fac=function(Ve){return new(Ve||ut)},ut.\u0275prov=u.Yz7({token:ut,factory:ut.\u0275fac,providedIn:"platform"}),ut})();const pt={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},xt=new u.OlP("override-default-config");let an=(()=>{class ut{constructor(Ve,Lt,un){this._element=Lt,this._renderer=un,this.isShown=!1,this.isAnimated=!1,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},Ve)}ngOnInit(){this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,"show")},this.isAnimated?150:0),document&&document.body&&(this.bsModalService&&1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(Ve){this.clickStartedInContent=Ve.target!==this._element.nativeElement}onClickStop(Ve){this.config.ignoreBackdropClick||"static"===this.config.backdrop||Ve.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.bsModalService?.setDismissReason("backdrop-click"),this.hide())}onPopState(){this.bsModalService?.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(Ve){this.isShown&&((27===Ve.keyCode||"Escape"===Ve.key)&&Ve.preventDefault(),this.config.keyboard&&this.level===this.bsModalService?.getModalsCount()&&(this.bsModalService?.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding){if(this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,"show"),setTimeout(()=>{this.isShown=!1,document&&document.body&&1===this.bsModalService?.getModalsCount()&&(this._renderer.removeClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y","")),this.bsModalService?.hide(this.config.id),this.isModalHiding=!1},this.isAnimated?300:0)}}return ut.\u0275fac=function(Ve){return new(Ve||ut)(u.Y36(ht),u.Y36(u.SBq),u.Y36(u.Qsj))},ut.\u0275cmp=u.Xpm({type:ut,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(Ve,Lt){1&Ve&&u.NdJ("mousedown",function(yn){return Lt.onClickStarted(yn)})("click",function(yn){return Lt.onClickStop(yn)})("popstate",function(){return Lt.onPopState()},!1,u.Jf7)("keydown.esc",function(yn){return Lt.onEsc(yn)},!1,u.Jf7),2&Ve&&u.uIk("aria-modal",!0)("aria-labelledby",Lt.config.ariaLabelledBy)("aria-describedby",Lt.config.ariaDescribedby)},ngContentSelectors:Jt,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(Ve,Lt){1&Ve&&(u.F$t(),u.TgZ(0,"div",0)(1,"div",1),u.Hsn(2),u.qZA()()),2&Ve&&u.Tol("modal-dialog"+(Lt.config.class?" "+Lt.config.class:""))},dependencies:[_t],encapsulation:2}),ut})(),Fn=(()=>{class ut{constructor(Ve,Lt){this._isAnimated=!1,this._isShown=!1,this.element=Ve,this.renderer=Lt}get isAnimated(){return this._isAnimated}set isAnimated(Ve){this._isAnimated=Ve}get isShown(){return this._isShown}set isShown(Ve){this._isShown=Ve,Ve?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show")}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),Ot.cQ.reflow(this.element.nativeElement)),this.isShown=!0}}return ut.\u0275fac=function(Ve){return new(Ve||ut)(u.Y36(u.SBq),u.Y36(u.Qsj))},ut.\u0275cmp=u.Xpm({type:ut,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(Ve,Lt){},encapsulation:2}),ut})(),Bn=1,mr=(()=>{class ut{constructor(Ve,Lt,un){this.clf=Lt,this.modalDefaultOption=un,this.onShow=new u.vpe,this.onShown=new u.vpe,this.onHide=new u.vpe,this.onHidden=new u.vpe,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._backdropLoader=this.clf.createLoader(),this._renderer=Ve.createRenderer(null,null),this.config=un?Object.assign({},pt,un):pt}show(Ve,Lt){this.modalsCount++,this._createLoaders();const un=Lt?.id||Bn++;return this.config=this.modalDefaultOption?Object.assign({},pt,this.modalDefaultOption,Lt):Object.assign({},pt,Lt),this.config.id=un,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(Ve)}hide(Ve){(1===this.modalsCount||null==Ve)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=Ve?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(Ve),this.removeLoaders(Ve)},this.config.animated?150:0)}_showBackdrop(){const Ve=!0===this.config.backdrop||"static"===this.config.backdrop,Lt=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),Ve&&Lt&&(this._backdropLoader.attach(Fn).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(Ve){const Lt=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const On of this.config.providers)Lt.provide(On);const un=new Pn,yn=Lt.provide({provide:ht,useValue:this.config}).provide({provide:Pn,useValue:un}).attach(an).to("body");return un.hide=()=>this.hide(un.id),un.setClass=On=>{yn.instance&&(yn.instance.config.class=On)},un.onHidden=new u.vpe,un.onHide=new u.vpe,this.copyEvent(Lt.onBeforeHide,un.onHide),this.copyEvent(Lt.onHidden,un.onHidden),yn.show({content:Ve,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),yn.instance&&(yn.instance.level=this.getModalsCount(),un.content=Lt.getInnerComponent(),un.id=yn.instance.config?.id),un}_hideModal(Ve){if(null!=Ve){const Lt=this.loaders.findIndex(yn=>yn.instance?.config.id===Ve),un=this.loaders[Lt];un&&un.hide(Ve)}else this.loaders.forEach(Lt=>{Lt.instance&&Lt.hide(Lt.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(Ve){this.lastDismissReason=Ve}removeBackdrop(){this._renderer.removeClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=document.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){document&&(this.originalBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(document.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){document.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const Ve=this._renderer.createElement("div");this._renderer.addClass(Ve,"modal-scrollbar-measure"),this._renderer.appendChild(document.body,Ve);const Lt=Ve.offsetWidth-Ve.clientWidth;return this._renderer.removeChild(document.body,Ve),Lt}_createLoaders(){const Ve=this.clf.createLoader();this.copyEvent(Ve.onBeforeShow,this.onShow),this.copyEvent(Ve.onShown,this.onShown),this.copyEvent(Ve.onBeforeHide,this.onHide),this.copyEvent(Ve.onHidden,this.onHidden),this.loaders.push(Ve)}removeLoaders(Ve){if(null!=Ve){const Lt=this.loaders.findIndex(un=>un.instance?.config.id===Ve);Lt>=0&&(this.loaders.splice(Lt,1),this.loaders.forEach((un,yn)=>{un.instance&&(un.instance.level=yn+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(Ve,Lt){Ve.subscribe(un=>{Lt.emit(this.lastDismissReason||un)})}}return ut.\u0275fac=function(Ve){return new(Ve||ut)(u.LFG(u.FYo),u.LFG(Wt.oj),u.LFG(xt,8))},ut.\u0275prov=u.Yz7({token:ut,factory:ut.\u0275fac,providedIn:"platform"}),ut})();$t.forRoot();let Jn=(()=>{class ut{static forRoot(){return{ngModule:ut,providers:[mr,Wt.oj,En.sA]}}static forChild(){return{ngModule:ut,providers:[mr,Wt.oj,En.sA]}}}return ut.\u0275fac=function(Ve){return new(Ve||ut)},ut.\u0275mod=u.oAB({type:ut}),ut.\u0275inj=u.cJS({imports:[$t]}),ut})()},5987:(sn,ot,O)=>{"use strict";O.d(ot,{Bz:()=>ge,sA:()=>On});var u=O(1607),ee=O(1571),we=O(6895),Ue=O(7579),ve=O(6451),Je=O(4968),Ge=O(9646),Xe=O(6406),Ie=(()=>{return(oe=Ie||(Ie={})).top="top",oe.bottom="bottom",oe.left="left",oe.right="right",oe.auto="auto",oe.end="right",oe.start="left",oe["top left"]="top left",oe["top right"]="top right",oe["right top"]="right top",oe["right bottom"]="right bottom",oe["bottom right"]="bottom right",oe["bottom left"]="bottom left",oe["left bottom"]="left bottom",oe["left top"]="left top",oe["top start"]="top left",oe["top end"]="top right",oe["end top"]="right top",oe["end bottom"]="right bottom",oe["bottom end"]="bottom right",oe["bottom start"]="bottom left",oe["start bottom"]="start bottom",oe["start top"]="left top",Ie;var oe})(),ge=(()=>{return(oe=ge||(ge={})).top="top",oe.bottom="bottom",oe.left="start",oe.right="end",oe.auto="auto",oe.end="end",oe.start="start",oe["top left"]="top start",oe["top right"]="top end",oe["right top"]="end top",oe["right bottom"]="end bottom",oe["bottom right"]="bottom end",oe["bottom left"]="bottom start",oe["left bottom"]="start bottom",oe["left top"]="start top",oe["top start"]="top start",oe["top end"]="top end",oe["end top"]="end top",oe["end bottom"]="end bottom",oe["bottom end"]="bottom end",oe["bottom start"]="bottom start",oe["start bottom"]="start bottom",oe["start top"]="start top",ge;var oe})();function xe(oe,st){if(1!==oe.nodeType)return[];const Mt=oe.ownerDocument.defaultView?.getComputedStyle(oe,null);return st?Mt&&Mt[st]:Mt}function We(oe){if(!oe)return document.documentElement;let Mt,gt=oe?.offsetParent;for(;null===gt&&oe.nextElementSibling&&Mt!==oe.nextElementSibling;)Mt=oe.nextElementSibling,gt=Mt.offsetParent;const At=gt&&gt.nodeName;return At&&"BODY"!==At&&"HTML"!==At?gt&&-1!==["TH","TD","TABLE"].indexOf(gt.nodeName)&&"static"===xe(gt,"position")?We(gt):gt:Mt?Mt.ownerDocument.documentElement:document.documentElement}function ue(oe){return null!==oe.parentNode?ue(oe.parentNode):oe}function Ze(oe,st){if(!(oe&&oe.nodeType&&st&&st.nodeType))return document.documentElement;const gt=oe.compareDocumentPosition(st)&Node.DOCUMENT_POSITION_FOLLOWING,Mt=gt?oe:st,At=gt?st:oe,Zt=document.createRange();Zt.setStart(Mt,0),Zt.setEnd(At,0);const Kt=Zt.commonAncestorContainer;if(oe!==Kt&&st!==Kt||Mt.contains(At))return function Tt(oe){const{nodeName:st}=oe;return"BODY"!==st&&("HTML"===st||We(oe.firstElementChild)===oe)}(Kt)?Kt:We(Kt);const Dt=ue(oe);return Dt.host?Ze(Dt.host,st):Ze(oe,ue(st).host)}function bt(oe){if(!oe||!oe.parentElement)return document.documentElement;let st=oe.parentElement;for(;st?.parentElement&&"none"===xe(st,"transform");)st=st.parentElement;return st||document.documentElement}function Xt(oe,st){const gt="x"===st?"Left":"Top",Mt="Left"===gt?"Right":"Bottom";return parseFloat(oe[`border${gt}Width`])+parseFloat(oe[`border${Mt}Width`])}function St(oe,st,gt,Mt){return Math.max(st[`offset${oe}`],st[`scroll${oe}`],gt[`client${oe}`],gt[`offset${oe}`],gt[`scroll${oe}`],0)}function tn(oe){const st=oe.body,gt=oe.documentElement;return{height:St("Height",st,gt),width:St("Width",st,gt)}}function wt(oe){return{...oe,right:(oe.left||0)+oe.width,bottom:(oe.top||0)+oe.height}}function De(oe){return"number"==typeof oe||"[object Number]"===Object.prototype.toString.call(oe)}function et(oe){const st=oe.getBoundingClientRect();if(!(st&&De(st.top)&&De(st.left)&&De(st.bottom)&&De(st.right)))return st;const gt={left:st.left,top:st.top,width:st.right-st.left,height:st.bottom-st.top},Mt="HTML"===oe.nodeName?tn(oe.ownerDocument):void 0,At=Mt?.width||oe.clientWidth||De(st.right)&&De(gt.left)&&st.right-gt.left||0,Zt=Mt?.height||oe.clientHeight||De(st.bottom)&&De(gt.top)&&st.bottom-gt.top||0;let Kt=oe.offsetWidth-At,Dt=oe.offsetHeight-Zt;if(Kt||Dt){const Et=xe(oe);Kt-=Xt(Et,"x"),Dt-=Xt(Et,"y"),gt.width-=Kt,gt.height-=Dt}return wt(gt)}function _t(oe){return"HTML"===oe.nodeName?oe:oe.parentNode||oe.host}function $t(oe){if(!oe)return document.body;switch(oe.nodeName){case"HTML":case"BODY":return oe.ownerDocument.body;case"#document":return oe.body}const{overflow:st,overflowX:gt,overflowY:Mt}=xe(oe);return/(auto|scroll|overlay)/.test(String(st)+String(Mt)+String(gt))?oe:$t(_t(oe))}function Ot(oe,st,gt=!1){const Mt="HTML"===st.nodeName,At=et(oe),Zt=et(st),Dt=($t(oe),xe(st)),Et=parseFloat(Dt.borderTopWidth),wn=parseFloat(Dt.borderLeftWidth);gt&&Mt&&(Zt.top=Math.max(Zt.top??0,0),Zt.left=Math.max(Zt.left??0,0));const kt=wt({top:(At.top??0)-(Zt.top??0)-Et,left:(At.left??0)-(Zt.left??0)-wn,width:At.width,height:At.height});if(kt.marginTop=0,kt.marginLeft=0,Mt){const Wn=parseFloat(Dt.marginTop),Er=parseFloat(Dt.marginLeft);De(kt.top)&&(kt.top-=Et-Wn),De(kt.bottom)&&(kt.bottom-=Et-Wn),De(kt.left)&&(kt.left-=wn-Er),De(kt.right)&&(kt.right-=wn-Er),kt.marginTop=Wn,kt.marginLeft=Er}return kt}function Wt(oe,st="top"){const gt="top"===st?"scrollTop":"scrollLeft",Mt=oe.nodeName;return"BODY"===Mt||"HTML"===Mt?(oe.ownerDocument.scrollingElement||oe.ownerDocument.documentElement)[gt]:oe[gt]}function Jt(oe){const st=oe.nodeName;return"BODY"!==st&&"HTML"!==st&&("fixed"===xe(oe,"position")||Jt(_t(oe)))}function Pn(oe,st,gt=0,Mt,At=!1){let Zt={top:0,left:0};const Kt=At?bt(oe):Ze(oe,st);if("viewport"===Mt)Zt=function En(oe,st=!1){const gt=oe.ownerDocument.documentElement,Mt=Ot(oe,gt),At=Math.max(gt.clientWidth,window.innerWidth||0),Zt=Math.max(gt.clientHeight,window.innerHeight||0),Kt=st?0:Wt(gt),Dt=st?0:Wt(gt,"left");return wt({top:Kt-Number(Mt?.top)+Number(Mt?.marginTop),left:Dt-Number(Mt?.left)+Number(Mt?.marginLeft),width:At,height:Zt})}(Kt,At);else{let Dt;"scrollParent"===Mt?(Dt=$t(_t(st)),"BODY"===Dt.nodeName&&(Dt=oe.ownerDocument.documentElement)):Dt="window"===Mt?oe.ownerDocument.documentElement:Mt;const Et=Ot(Dt,Kt,At);if(Et&&"HTML"===Dt.nodeName&&!Jt(Kt)){const{height:wn,width:kt}=tn(oe.ownerDocument);De(Zt.top)&&De(Et.top)&&De(Et.marginTop)&&(Zt.top+=Et.top-Et.marginTop),De(Zt.top)&&(Zt.bottom=Number(wn)+Number(Et.top)),De(Zt.left)&&De(Et.left)&&De(Et.marginLeft)&&(Zt.left+=Et.left-Et.marginLeft),De(Zt.top)&&(Zt.right=Number(kt)+Number(Et.left))}else Et&&(Zt=Et)}return De(Zt.left)&&(Zt.left+=gt),De(Zt.top)&&(Zt.top+=gt),De(Zt.right)&&(Zt.right-=gt),De(Zt.bottom)&&(Zt.bottom-=gt),Zt}function dn({width:oe,height:st}){return oe*st}function ht(oe,st,gt,Mt,At=["top","bottom","right","left"],Zt="viewport",Kt=0){if(-1===oe.indexOf("auto"))return oe;const Dt=Pn(gt,Mt,Kt,Zt),Et={top:{width:Dt?.width??0,height:(st?.top??0)-(Dt?.top??0)},right:{width:(Dt?.right??0)-(st?.right??0),height:Dt?.height??0},bottom:{width:Dt?.width??0,height:(Dt?.bottom??0)-(st?.bottom??0)},left:{width:(st.left??0)-(Dt?.left??0),height:Dt?.height??0}},wn=Object.keys(Et).map(Kn=>({position:Kn,...Et[Kn],area:dn(Et[Kn])})).sort((Kn,Tr)=>Tr.area-Kn.area);let kt=wn.filter(({width:Kn,height:Tr})=>Kn>=gt.clientWidth&&Tr>=gt.clientHeight);kt=kt.filter(({position:Kn})=>At.some(Tr=>Tr===Kn));const Wn=kt.length>0?kt[0].position:wn[0].position,Er=oe.split(" ")[1];return gt.className=gt.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${(0,u.Wl)().isBs5?ge[Wn]:Wn}`),Wn+(Er?`-${Er}`:"")}const Ke=(oe,st=0)=>oe?parseFloat(oe):st;function Be(oe){const gt=oe.ownerDocument.defaultView?.getComputedStyle(oe),Mt=Ke(gt?.marginTop)+Ke(gt?.marginBottom),At=Ke(gt?.marginLeft)+Ke(gt?.marginRight);return{width:Number(oe.offsetWidth)+At,height:Number(oe.offsetHeight)+Mt}}function vt(oe,st,gt){return Ot(st,gt?bt(oe):Ze(oe,st),gt)}function an(oe,st,gt){const Mt=gt.split(" ")[0],At=Be(oe),Zt={width:At.width,height:At.height},Kt=-1!==["right","left"].indexOf(Mt),Dt=Kt?"top":"left",Et=Kt?"left":"top",wn=Kt?"height":"width",kt=Kt?"width":"height";return Zt[Dt]=(st[Dt]??0)+st[wn]/2-At[wn]/2,Zt[Et]=Mt===Et?(st[Et]??0)-At[kt]:st[function xt(oe){const st={left:"right",right:"left",bottom:"top",top:"bottom"};return oe.replace(/left|right|bottom|top/g,gt=>st[gt])}(Et)]??0,Zt}function Fn(oe,st){return!!oe.modifiers[st]?.enabled}const pn={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function Bt(oe,st){return!!(0,u.Wl)().isBs5&&pn[st].includes(oe)}function mr(oe,st,gt){!oe||!st||Object.keys(st).forEach(Mt=>{let At="";-1!==["width","height","top","right","bottom","left"].indexOf(Mt)&&function be(oe){return""!==oe&&!isNaN(parseFloat(oe))&&isFinite(Number(oe))}(st[Mt])&&(At="px"),gt?gt.setStyle(oe,Mt,`${String(st[Mt])}${At}`):oe.style[Mt]=String(st[Mt])+At})}function Dr(oe){let st=oe.offsets.target;const gt=oe.instance.target.querySelector(".arrow");if(!gt)return oe;const Mt=-1!==["left","right"].indexOf(oe.placement.split(" ")[0]),At=Mt?"height":"width",Zt=Mt?"Top":"Left",Kt=Zt.toLowerCase(),Dt=Mt?"left":"top",Et=Mt?"bottom":"right",wn=Be(gt)[At],kt=oe.placement.split(" ")[1];(oe.offsets.host[Et]??0)-wn<(st[Kt]??0)&&(st[Kt]-=(st[Kt]??0)-((oe.offsets.host[Et]??0)-wn)),Number(oe.offsets.host[Kt])+Number(wn)>(st[Et]??0)&&(st[Kt]+=Number(oe.offsets.host[Kt])+Number(wn)-Number(st[Et])),st=wt(st);const Wn=xe(oe.instance.target),Er=parseFloat(Wn[`margin${Zt}`])||0,Kn=parseFloat(Wn[`border${Zt}Width`])||0;let Tr;if(kt){const jr=parseFloat(Wn.borderRadius)||0,zn=Number(Er+Kn+jr);Tr=Kt===kt?Number(oe.offsets.host[Kt])+zn:Number(oe.offsets.host[Kt])+Number(oe.offsets.host[At]-zn)}else Tr=Number(oe.offsets.host[Kt])+Number(oe.offsets.host[At]/2-wn/2);let Zn=Tr-(st[Kt]??0)-Er-Kn;return Zn=Math.max(Math.min(st[At]-(wn+5),Zn),0),oe.offsets.arrow={[Kt]:Math.round(Zn),[Dt]:""},oe.instance.arrow=gt,oe}function Jn(oe){if(oe.offsets.target=wt(oe.offsets.target),!Fn(oe.options,"flip"))return oe.offsets.target={...oe.offsets.target,...an(oe.instance.target,oe.offsets.host,oe.placement)},oe;const st=Pn(oe.instance.target,oe.instance.host,0,"viewport",!1);let gt=oe.placement.split(" ")[0],Mt=oe.placement.split(" ")[1]||"";const Dt=ht("auto",oe.offsets.host,oe.instance.target,oe.instance.host,oe.options.allowedPositions),Et=[gt,Dt];return Et.forEach((wn,kt)=>{if(gt!==wn||Et.length===kt+1)return;gt=oe.placement.split(" ")[0];const Wn="left"===gt&&Math.floor(oe.offsets.target.right??0)>Math.floor(oe.offsets.host.left??0)||"right"===gt&&Math.floor(oe.offsets.target.left??0)<Math.floor(oe.offsets.host.right??0)||"top"===gt&&Math.floor(oe.offsets.target.bottom??0)>Math.floor(oe.offsets.host.top??0)||"bottom"===gt&&Math.floor(oe.offsets.target.top??0)<Math.floor(oe.offsets.host.bottom??0),Er=Math.floor(oe.offsets.target.left??0)<Math.floor(st.left??0),Kn=Math.floor(oe.offsets.target.right??0)>Math.floor(st.right??0),Tr=Math.floor(oe.offsets.target.top??0)<Math.floor(st.top??0),Zn=Math.floor(oe.offsets.target.bottom??0)>Math.floor(st.bottom??0),jr="left"===gt&&Er||"right"===gt&&Kn||"top"===gt&&Tr||"bottom"===gt&&Zn,zn=-1!==["top","bottom"].indexOf(gt),_i=zn&&"left"===Mt&&Er||zn&&"right"===Mt&&Kn||!zn&&"left"===Mt&&Tr||!zn&&"right"===Mt&&Zn;(Wn||jr||_i)&&((Wn||jr)&&(gt=Et[kt+1]),_i&&(Mt=function rt(oe){return"right"===oe?"left":"left"===oe?"right":oe}(Mt)),oe.placement=gt+(Mt?` ${Mt}`:""),oe.offsets.target={...oe.offsets.target,...an(oe.instance.target,oe.offsets.host,oe.placement)})}),oe}function dt(oe){if(!Fn(oe.options,"preventOverflow"))return oe;const st="transform",gt=oe.instance.target.style,{top:Mt,left:At,[st]:Zt}=gt;gt.top="",gt.left="",gt[st]="";const Kt=Pn(oe.instance.target,oe.instance.host,0,oe.options.modifiers.preventOverflow?.boundariesElement||"scrollParent",!1);gt.top=Mt,gt.left=At,gt[st]=Zt;const Et={primary(wn){let kt=oe.offsets.target[wn];return(oe.offsets.target[wn]??0)<(Kt[wn]??0)&&(kt=Math.max(oe.offsets.target[wn]??0,Kt[wn]??0)),{[wn]:kt}},secondary(wn){const kt="right"===wn,Wn=kt?"left":"top";let Kn=oe.offsets.target[Wn];return(oe.offsets.target[wn]??0)>(Kt[wn]??0)&&(Kn=Math.min(oe.offsets.target[Wn]??0,(Kt[wn]??0)-oe.offsets.target[kt?"width":"height"])),{[Wn]:Kn}}};return["left","right","top","bottom"].forEach(wn=>{const kt=-1!==["left","top","start"].indexOf(wn)?Et.primary:Et.secondary;oe.offsets.target={...oe.offsets.target,...kt(wn)}}),oe}function Ve(oe){const st=oe.placement,gt=st.split(" ")[0],Mt=st.split(" ")[1];if(Mt){const{host:At,target:Zt}=oe.offsets,Kt=-1!==["bottom","top"].indexOf(gt),Dt=Kt?"left":"top",Et=Kt?"width":"height",wn={start:{[Dt]:At[Dt]},end:{[Dt]:(At[Dt]??0)+At[Et]-Zt[Et]}};oe.offsets.target={...Zt,[Dt]:Dt===Mt?wn.start[Dt]:wn.end[Dt]}}return oe}const un=new class Lt{position(st,gt){return this.offset(st,gt)}offset(st,gt){return vt(gt,st)}positionElements(st,gt,Mt,At,Zt){const Kt=[Jn,Ve,dt,Dr],Et=function ut(oe,st,gt,Mt){if(!oe||!st)return;const At=vt(oe,st);!gt.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!gt.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(gt="auto");const Zt=!!gt.match(/auto/g);let Kt=gt.match(/auto\s(left|right|top|bottom|start|end)/)?gt.split(" ")[1]||"auto":gt;const Dt=Kt.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return Dt&&(Kt=Dt[1]+(Dt[2]?` ${Dt[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(Kt)&&(Kt="auto"),Kt=ht(Kt,At,oe,st,Mt?Mt.allowedPositions:void 0),{options:Mt||{modifiers:{}},instance:{target:oe,host:st,arrow:void 0},offsets:{target:an(oe,At,Kt),host:At,arrow:void 0},positionFixed:!1,placement:Kt,placementAuto:Zt}}(gt,st,Ie[Mt],Zt);if(Et)return Kt.reduce((wn,kt)=>kt(wn),Et)}};function yn(oe,st,gt,Mt,At,Zt){const Kt=un.positionElements(oe,st,gt,Mt,At);if(!Kt)return;const Dt=function pt(oe){return{width:oe.offsets.target.width,height:oe.offsets.target.height,left:Math.floor(oe.offsets.target.left??0),top:Math.round(oe.offsets.target.top??0),bottom:Math.round(oe.offsets.target.bottom??0),right:Math.floor(oe.offsets.target.right??0)}}(Kt);mr(st,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${Dt.left}px, ${Dt.top}px, 0px)`},Zt),Kt.instance.arrow&&mr(Kt.instance.arrow,Kt.offsets.arrow,Zt),function Bn(oe,st){const gt=oe.instance.target;let Mt=gt.className;const At=(0,u.Wl)().isBs5?ge[oe.placement]:oe.placement;oe.placementAuto&&(Mt=Mt.replace(/bs-popover-auto/g,`bs-popover-${At}`),Mt=Mt.replace(/ms-2|me-2|mb-2|mt-2/g,""),Mt=Mt.replace(/bs-tooltip-auto/g,`bs-tooltip-${At}`),Mt=Mt.replace(/\sauto/g,` ${At}`),-1!==Mt.indexOf("popover")&&(Mt=Mt+" "+function qt(oe){return(0,u.Wl)().isBs5?Bt(oe,"end")?"ms-2":Bt(oe,"start")?"me-2":Bt(oe,"top")?"mb-2":Bt(oe,"bottom")?"mt-2":"":""}(At)),-1!==Mt.indexOf("popover")&&-1===Mt.indexOf("popover-auto")&&(Mt+=" popover-auto"),-1!==Mt.indexOf("tooltip")&&-1===Mt.indexOf("tooltip-auto")&&(Mt+=" tooltip-auto")),Mt=Mt.replace(/left|right|top|bottom|end|start/g,`${At.split(" ")[0]}`),st?st.setAttribute(gt,"class",Mt):gt.className=Mt}(Kt,Zt)}let On=(()=>{class oe{constructor(gt,Mt,At){this.update$$=new Ue.x,this.positionElements=new Map,this.isDisabled=!1,(0,we.NF)(At)&&gt.runOutsideAngular(()=>{this.triggerEvent$=(0,ve.T)((0,Je.R)(window,"scroll",{passive:!0}),(0,Je.R)(window,"resize",{passive:!0}),(0,Ge.of)(0,Xe.Z),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(Zt=>{yn(_r(Zt.target),_r(Zt.element),Zt.attachment,Zt.appendToBody,this.options,Mt.createRenderer(null,null))})})})}position(gt){this.addPositionElement(gt)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(gt){this.positionElements.set(_r(gt.element),gt)}calcPosition(){this.update$$.next(null)}deletePositionElement(gt){this.positionElements.delete(_r(gt))}setOptions(gt){this.options=gt}}return oe.\u0275fac=function(gt){return new(gt||oe)(ee.LFG(ee.R0b),ee.LFG(ee.FYo),ee.LFG(ee.Lbi))},oe.\u0275prov=ee.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})();function _r(oe){return"string"==typeof oe?document.querySelector(oe):oe instanceof ee.SBq?oe.nativeElement:oe??null}},1607:(sn,ot,O)=>{"use strict";O.d(ot,{AL:()=>Ue,C:()=>Xe,GU:()=>Pn,O4:()=>xt,Rg:()=>Ge,Wl:()=>Wt,cQ:()=>dn,wo:()=>Je});var u=O(1571);class ee{constructor(Ke,Be){this.open=Ke,this.close=Be||Ke}isManual(){return"manual"===this.open||"manual"===this.close}}const we={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function Ue(rt,Ke=we){const Be=(rt||"").trim();if(0===Be.length)return[];const vt=Be.split(/\s+/).map(Fn=>Fn.split(":")).map(Fn=>{const pn=Ke[Fn[0]]||Fn;return new ee(pn[0],pn[1])}),an=vt.filter(Fn=>Fn.isManual());if(an.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===an.length&&vt.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return vt}function Je(rt,Ke){const Be=Ue(Ke.triggers),vt=Ke.target;if(1===Be.length&&Be[0].isManual())return Function.prototype;const an=[],Fn=[],pn=()=>{Fn.forEach(Bt=>an.push(Bt())),Fn.length=0};return Be.forEach(Bt=>{const qt=Bt.open===Bt.close,Bn=qt?Ke.toggle:Ke.show;if(!qt&&Bt.close&&Ke.hide){const mr=rt.listen(vt,Bt.close,Ke.hide);Fn.push(()=>mr)}Bn&&an.push(rt.listen(vt,Bt.open,()=>Bn(pn)))}),()=>{an.forEach(Bt=>Bt())}}function Ge(rt,Ke){return Ke.outsideClick?rt.listen("document","click",Be=>{Ke.target&&Ke.target.contains(Be.target)||Ke.targets&&Ke.targets.some(vt=>vt.contains(Be.target))||Ke.hide&&Ke.hide()}):Function.prototype}function Xe(rt,Ke){return Ke.outsideEsc?rt.listen("document","keyup.esc",Be=>{Ke.target&&Ke.target.contains(Be.target)||Ke.targets&&Ke.targets.some(vt=>vt.contains(Be.target))||Ke.hide&&Ke.hide()}):Function.prototype}const Ie=typeof window<"u"&&window||{};var be=(()=>{return(rt=be||(be={})).isBs4="bs4",rt.isBs5="bs5",be;var rt})();let De;function et(){const rt=Ie.document.createElement("span");rt.innerText="testing bs version",rt.classList.add("d-none"),rt.classList.add("pl-1"),Ie.document.head.appendChild(rt);const Ke=Ie.getComputedStyle(rt).paddingLeft;return Ke&&parseFloat(Ke)?(Ie.document.head.removeChild(rt),"bs4"):(Ie.document.head.removeChild(rt),"bs5")}function Wt(){return{isBs4:(De||(De=et()),"bs4"===De),isBs5:(De||(De=et()),"bs5"===De)}}function Pn(){return function(Be,vt){const an=` __${vt}Value`;Object.defineProperty(Be,vt,{get(){return this[an]},set(Fn){const pn=this[an];this[an]=Fn,pn!==Fn&&this[vt+"Change"]&&this[vt+"Change"].emit(Fn)}})}}class dn{static reflow(Ke){}static getStyles(Ke){let Be=Ke.ownerDocument.defaultView;return(!Be||!Be.opener)&&(Be=Ie),Be.getComputedStyle(Ke)}static stackOverflowConfig(){const Ke=function En(){const rt=Wt(),Ke=Object.keys(rt).find(Be=>rt[Be]);return be[Ke]}();return{crossorigin:"anonymous",integrity:"bs5"===Ke?"sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We":"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2",cdnLink:"bs5"===Ke?"https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css":"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"}}}const ht={},pt=typeof console>"u"||!("warn"in console);function xt(rt){!(0,u.X6Q)()||pt||rt in ht||(ht[rt]=!0,console.warn(rt))}}},sn=>{sn(sn.s=2271)}]);